// shadow-widget cdn ver 0.1.0
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=window.React,e=window.ReactDOM,f=void 0,g=void 0;if(d&&e){if("string"==typeof d.version){var h=d.version.split(".");0==parseInt(h[0])&&parseInt(h[1])<14&&console.log("warning: react@>=0.14 is required, current is "+d.version)}f=a("./react_widget"),g=a("./template")}else console.log("fatal error! React or ReactDom not found, cdn version of React library should be loaded first.");var i={react:d,"react-dom":e,"shadow-widget":f},j=arguments[3],k=arguments[4],l=arguments[5];if("function"==typeof j&&k)Object.keys(i).forEach(function(a){l[a]={exports:i[a]}}),k[9998]=[f.$utils.loadingEntry,k[1][1]],setTimeout(function(){f.$main.isStart||(f.$main.isStart=!0,j(k,l,[9998]))},300);else if("undefined"!=typeof __webpack_require__&&__webpack_require__.c){var m={exports:{},id:9998,loaded:!0};__webpack_require__.c[9998]=m,setTimeout(function(){f.$main.isStart||(f.$main.isStart=!0,f.$utils.loadingEntry(function(a){if("number"==typeof a)return __webpack_require__(a);var b=i[a];return b||console.log("can not find module: "+a),b},m,m.exports))},300)}else console.log("fatal error: unknown package tool!")},{"./react_widget":2,"./template":3}],2:[function(a,b,c){(function(c){"use strict";function h(a,b){var c=a[b];if(c)return c;for(var d in a)if("parent"!=d&&a.hasOwnProperty(d)){var e=a[d];if(Array.isArray(e)&&e.W&&(e=h(e,b)))return e}}function i(a){var b="undefined"==typeof a?"undefined":d(a);if("number"==b)return this.W?this[a]:l[a];if(!a){if(""===a)return l;var c=new Array;return k(c)}if("object"==b){var e=a.constructor===Object,c=new Array;return c.$id=g++,c.component=a,e||(a.widget=c),k(c)}if("string"!=b)return l;var f=void 0,i=a.split("."),j=0;if(i[0]){var m=i.shift();if(j+=1,f=Array.isArray(this)&&this.W?this:l,"-"==m[0]){var n=m.slice(1);f=0==n.search(/^[0-9]+$/)?f[Math.max(0,f.length-parseInt(n))]:f===l?h(f,m):f[m]}else f=0==m.search(/^[0-9]+$/)?f[parseInt(m)]:f===l?h(f,m):f[m]}for(;i.length;){var m=i.shift();if(j+=1,m)if("-"==m[0]){var n=m.slice(1);if(0==n.search(/^[0-9]+$/)){if(!f)return f;f=f[Math.max(0,f.length-parseInt(n))]}else{if(!f)return f;f=f[m]}}else if(0==m.search(/^[0-9]+$/)){if(!f)return f;f=f[parseInt(m)]}else{if(!f)return f;f=f[m]}else{if(f||1!=j)return f;f=this.W?this:l}}return f}function k(a){function c(a,b){return function(){return b.apply(a,arguments)}}function d(a,b){if(a.$id===b)return a;for(var c in a)if("parent"!=c&&a.hasOwnProperty(c)){var e=a[c];if(Array.isArray(e)&&e.W&&(e=d(e,b)))return e}}for(var b in j)a[b]=j[b];return l&&l.__debug__&&(a.queryById=function(a){return d(this,parseInt(a))},a.addShortcut=function(){var a=[],b=this.component;if(!b)return a;for(var e,d=0;e=arguments[d];d++){var f=b[e];"function"==typeof f?(this[e]=c(b,f),a.push(e)):f&&(this[e]=f)}return a}),a}function m(a){this.component=a}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=window.React||a("react"),f=window.ReactDOM||a("react-dom"),g=0,j={W:i,$set:function(b,c){if(b||0===b)if(Array.isArray(c)&&c.W){var d=this[b];this[b]=c,c.parent=this,Array.isArray(d)&&d.W&&delete d.parent}else if(!c){var d=this[b];delete this[b],Array.isArray(d)&&d.W&&delete d.parent}},$unhook:function(b,c){if(Array.isArray(b)&&b.W){var e="undefined"==typeof c?"undefined":d(c);if("string"==e||"number"==e)this[c]===b&&delete this[c];else for(var h,f=Object.keys(this),g=0;h=f[g];g+=1)if(b===this[h]){delete this[h];break}delete b.parent,delete b.$callspace}},getPath:function(b){var c=this.parent;if(c&&c.W&&c!==this){if(this.component){var d=this.component.$gui.keyid;if(d||0===d)return c.getPath("."+d+(b||""))}var e="";for(var f in c)if("parent"!=f&&c.hasOwnProperty(f)&&c[f]===this){e="."+f;break}return b&&(e+=b),c.getPath(e)}return b||""}},l=window.W;Array.isArray(l)?k(l):(l=new i,l.$modules=[],window.W=l),l.$templates={},l.$css=[],l.$main={$$onLoad:[],$onReady:[],$onLoad:[],isReady:!1,inRunning:!1,inDesign:!1,isStart:!1},l.$idSetter={},l.$creator={},l.$staticNodes=[],l.$creator.createEx=function(a){var b=new m(a);return"function"==typeof b.init&&b.init(),b};var n=l.$utils={instantShow:function(b){console.log("[MSG]",b)},widgetNum:function(b){return l.__design__&&"number"==typeof b&&(g=b),g},cssNamedColor:function(b){},gotoHash:function(b,c){c&&c("")}};Object.defineProperty(n,"DIV",{enumerable:!0,configurable:!1,writable:!1,value:1}),Object.defineProperty(n,"SPAN",{enumerable:!0,configurable:!1,writable:!1,value:3}),l.$cachedClass={},l.$ex=new m,l.$ex.regist=function(a,b){a&&b&&(m.prototype[a]=b)};var o=function(){function a(a,b){if(null==a)throw new TypeError("Object.assign target cannot be null or undefined");for(var c=Object(a),d=Object.prototype.hasOwnProperty,e=1;e<arguments.length;e++){var f=arguments[e];if(null!=f){var g=Object(f);for(var h in g)d.call(g,h)&&(c[h]=g[h])}}return c}function b(a){var b;for(b in a)if(a.hasOwnProperty(b))return b;return null}function e(a,b,d,e,f,g,h,i){if("production"!==c.env.NODE_ENV&&void 0===b)throw new Error("invariant requires an error message argument");if(!a){var j;if(void 0===b)j=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[d,e,f,g,h,i],l=0;j=new Error(b.replace(/%s/g,function(){return k[l++]})),j.name="Invariant Violation"}throw j.framesToPop=1,j}}function g(b){return Array.isArray(b)?b.concat():b&&"object"===("undefined"==typeof b?"undefined":d(b))?a(new b.constructor,b):b}function p(a,b,d){Array.isArray(a)?void 0:"production"!==c.env.NODE_ENV?e(!1,"update(): expected target of %s to be an array; got %s.",d,a):e(!1);var f=b[d];Array.isArray(f)?void 0:"production"!==c.env.NODE_ENV?e(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",d,f):e(!1)}var f={}.hasOwnProperty,h=b({$push:null}),i=b({$unshift:null}),j=b({$splice:null}),k=b({$set:null}),l=b({$merge:null}),m=b({$apply:null}),n=[h,i,j,k,l,m],o={};return n.forEach(function(a){o[a]=!0}),function b(q,r){if("object"!==("undefined"==typeof r?"undefined":d(r))?"production"!==c.env.NODE_ENV?e(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",n.join(", "),k):e(!1):void 0,f.call(r,k))return 1!==Object.keys(r).length?"production"!==c.env.NODE_ENV?e(!1,"Cannot have more than one key in an object with %s",k):e(!1):void 0,r[k];var s=g(q);if(f.call(r,l)){var t=r[l];t&&"object"===("undefined"==typeof t?"undefined":d(t))?void 0:"production"!==c.env.NODE_ENV?e(!1,"update(): %s expects a spec of type 'object'; got %s",l,t):e(!1),s&&"object"===("undefined"==typeof s?"undefined":d(s))?void 0:"production"!==c.env.NODE_ENV?e(!1,"update(): %s expects a target of type 'object'; got %s",l,s):e(!1),a(s,r[l])}f.call(r,h)&&(p(q,r,h),r[h].forEach(function(a){s.push(a)})),f.call(r,i)&&(p(q,r,i),r[i].forEach(function(a){s.unshift(a)})),f.call(r,j)&&(Array.isArray(q)?void 0:"production"!==c.env.NODE_ENV?e(!1,"Expected %s target to be an array; got %s",j,q):e(!1),Array.isArray(r[j])?void 0:"production"!==c.env.NODE_ENV?e(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",j,r[j]):e(!1),r[j].forEach(function(a){Array.isArray(a)?void 0:"production"!==c.env.NODE_ENV?e(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",j,r[j]):e(!1),s.splice.apply(s,a)})),f.call(r,m)&&("function"!=typeof r[m]?"production"!==c.env.NODE_ENV?e(!1,"update(): expected spec of %s to be a function; got %s.",m,r[m]):e(!1):void 0,s=r[m](s));for(var u in r)o.hasOwnProperty(u)&&o[u]||(s[u]=b(q[u],r[u]));return s}}();l.$ex.regist("update",o),function(){function b(b,c){if(b===c)return!0;if("object"!==("undefined"==typeof b?"undefined":d(b))||null===b||"object"!==("undefined"==typeof c?"undefined":d(c))||null===c)return!1;var e=Object.keys(b),f=Object.keys(c);if(e.length!==f.length)return!1;for(var g=a.bind(c),h=0;h<e.length;h++)if(!g(e[h])||b[e[h]]!==c[e[h]])return!1;return!0}function c(a,c,d){var e=a.props||{},f=a.state||{};if(Object.keys(e).length!==Object.keys(c).length||Object.keys(f).length!==Object.keys(d).length)return!0;for(var g in c)if(!b(e[g],c[g]))return!0;for(var g in d)if(!b(f[g],d[g]))return!0;return!1}var a=Object.prototype.hasOwnProperty;this.shallowEqual=b,this.shallowCompare=c,this.shouldUpdate=c}.call(n),function(){function b(b){this.tokens=[],this.tokens.links={},this.options=b||l.defaults,this.rules=a.normal,this.options.gfm&&(this.options.tables?this.rules=a.tables:this.rules=a.gfm)}function d(a,b){if(this.options=b||l.defaults,this.links=a,this.rules=c.normal,this.renderer=this.options.renderer||new e,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=c.breaks:this.rules=c.gfm:this.options.pedantic&&(this.rules=c.pedantic)}function e(a){this.options=a||{}}function f(a){this.tokens=[],this.token=null,this.options=a||l.defaults,this.options.renderer=this.options.renderer||new e,this.renderer=this.options.renderer,this.renderer.options=this.options}function g(a,b){return a.replace(b?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function h(a){return a.replace(/&([#\w]+);/g,function(a,b){return b=b.toLowerCase(),"colon"===b?":":"#"===b.charAt(0)?"x"===b.charAt(1)?String.fromCharCode(parseInt(b.substring(2),16)):String.fromCharCode(+b.substring(1)):""})}function i(a,b){return a=a.source,b=b||"",function c(d,e){return d?(e=e.source||e,e=e.replace(/(^|[^\[])\^/g,"$1"),a=a.replace(d,e),c):new RegExp(a,b)}}function j(){}function k(a){for(var c,d,b=1;b<arguments.length;b++){c=arguments[b];for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}function l(a,c,d){if(d||"function"==typeof c){d||(d=c,c=null),c=k({},l.defaults,c||{});var h,i,e=c.highlight,j=0;try{h=b.lex(a,c)}catch(a){return d(a)}i=h.length;var m=function(b){if(b)return c.highlight=e,d(b);var g;try{g=f.parse(h,c)}catch(a){b=a}return c.highlight=e,b?d(b):d(null,g)};if(!e||e.length<3)return m();if(delete c.highlight,!i)return m();for(;j<h.length;j++)!function(a){return"code"!==a.type?--i||m():e(a.text,a.lang,function(b,c){return b?m(b):null==c||c===a.text?--i||m():(a.text=c,a.escaped=!0,void(--i||m()))})}(h[j])}else try{return c&&(c=k({},l.defaults,c)),f.parse(b.lex(a,c),c)}catch(a){if(a.message+="\nPlease report this to https://github.com/chjj/marked.",(c||l.defaults).silent)return"<p>An error occured:</p><pre>"+g(a.message+"",!0)+"</pre>";throw a}}var a={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:j,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:j,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *(>|&gt;|::)[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:j,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};a.bullet=/(?:[*+-]|\d+\.)/,a.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,a.item=i(a.item,"gm")(/bull/g,a.bullet)(),a.list=i(a.list)(/bull/g,a.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+a.def.source+")")(),a.blockquote=i(a.blockquote)("def",a.def)(),a._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",a.html=i(a.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,a._tag)(),a.paragraph=i(a.paragraph)("hr",a.hr)("heading",a.heading)("lheading",a.lheading)("blockquote",a.blockquote)("tag","<"+a._tag)("def",a.def)(),a.normal=k({},a),a.gfm=k({},a.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),a.gfm.paragraph=i(a.paragraph)("(?!","(?!"+a.gfm.fences.source.replace("\\1","\\2")+"|"+a.list.source.replace("\\1","\\3")+"|")(),a.tables=k({},a.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),b.rules=a,b.lex=function(a,c){var d=new b(c);return d.lex(a)},b.prototype.lex=function(a){return a=a.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(a,!0)},b.prototype.token=function(b,c,d){for(var e,f,g,h,i,j,k,l,m,b=b.replace(/^ +$/gm,"");b;)if((g=this.rules.newline.exec(b))&&(b=b.substring(g[0].length),g[0].length>1&&this.tokens.push({type:"space"})),g=this.rules.code.exec(b))b=b.substring(g[0].length),g=g[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?g:g.replace(/\n+$/,"")});else if(g=this.rules.fences.exec(b))b=b.substring(g[0].length),this.tokens.push({type:"code",lang:g[2],text:g[3]||""});else if(g=this.rules.heading.exec(b))b=b.substring(g[0].length),this.tokens.push({type:"heading",depth:g[1].length,text:g[2]});else if(c&&(g=this.rules.nptable.exec(b))){for(b=b.substring(g[0].length),j={type:"table",header:g[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:g[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:g[3].replace(/\n$/,"").split("\n")},l=0;l<j.align.length;l++)/^ *-+: *$/.test(j.align[l])?j.align[l]="right":/^ *:-+: *$/.test(j.align[l])?j.align[l]="center":/^ *:-+ *$/.test(j.align[l])?j.align[l]="left":j.align[l]=null;for(l=0;l<j.cells.length;l++)j.cells[l]=j.cells[l].split(/ *\| */);this.tokens.push(j)}else if(g=this.rules.lheading.exec(b))b=b.substring(g[0].length),this.tokens.push({type:"heading",depth:"="===g[2]?1:2,text:g[1]});else if(g=this.rules.hr.exec(b))b=b.substring(g[0].length),this.tokens.push({type:"hr"});else if(g=this.rules.blockquote.exec(b))b=b.substring(g[0].length),this.tokens.push({type:"blockquote_start"}),g=g[0].replace(/^ *(>|&gt;|::) ?/gm,""),this.token(g,c,!0),this.tokens.push({type:"blockquote_end"});else if(g=this.rules.list.exec(b)){for(b=b.substring(g[0].length),h=g[2],this.tokens.push({type:"list_start",ordered:h.length>1}),g=g[0].match(this.rules.item),e=!1,m=g.length,l=0;l<m;l++)j=g[l],k=j.length,j=j.replace(/^ *([*+-]|\d+\.) +/,""),~j.indexOf("\n ")&&(k-=j.length,j=this.options.pedantic?j.replace(/^ {1,4}/gm,""):j.replace(new RegExp("^ {1,"+k+"}","gm"),"")),this.options.smartLists&&l!==m-1&&(i=a.bullet.exec(g[l+1])[0],h===i||h.length>1&&i.length>1||(b=g.slice(l+1).join("\n")+b,l=m-1)),f=e||/\n\n(?!\s*$)/.test(j),l!==m-1&&(e="\n"===j.charAt(j.length-1),f||(f=e)),this.tokens.push({type:f?"loose_item_start":"list_item_start"}),this.token(j,!1,d),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(g=this.rules.html.exec(b))b=b.substring(g[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===g[1]||"script"===g[1]||"style"===g[1]),text:g[0]});else if(!d&&c&&(g=this.rules.def.exec(b)))b=b.substring(g[0].length),this.tokens.links[g[1].toLowerCase()]={href:g[2],title:g[3]};else if(c&&(g=this.rules.table.exec(b))){for(b=b.substring(g[0].length),j={type:"table",header:g[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:g[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:g[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;l<j.align.length;l++)/^ *-+: *$/.test(j.align[l])?j.align[l]="right":/^ *:-+: *$/.test(j.align[l])?j.align[l]="center":/^ *:-+ *$/.test(j.align[l])?j.align[l]="left":j.align[l]=null;for(l=0;l<j.cells.length;l++)j.cells[l]=j.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(j)}else if(c&&(g=this.rules.paragraph.exec(b)))b=b.substring(g[0].length),this.tokens.push({type:"paragraph",text:"\n"===g[1].charAt(g[1].length-1)?g[1].slice(0,-1):g[1]});else if(g=this.rules.text.exec(b))b=b.substring(g[0].length),this.tokens.push({type:"text",text:g[0]});else if(b)throw new Error("Infinite loop on byte: "+b.charCodeAt(0));return this.tokens};var c={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:j,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:j,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};c._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,c._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,c.link=i(c.link)("inside",c._inside)("href",c._href)(),c.reflink=i(c.reflink)("inside",c._inside)(),c.normal=k({},c),c.pedantic=k({},c.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),c.gfm=k({},c.normal,{escape:i(c.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:i(c.text)("]|","~]|")("|","|https?://|")()}),c.breaks=k({},c.gfm,{br:i(c.br)("{2,}","*")(),text:i(c.gfm.text)("{2,}","*")()}),d.rules=c,d.output=function(a,b,c){var e=new d(b,c);return e.output(a)},d.prototype.output=function(a){for(var c,d,e,f,b="";a;)if(f=this.rules.escape.exec(a))a=a.substring(f[0].length),b+=f[1];else if(f=this.rules.autolink.exec(a))a=a.substring(f[0].length),"@"===f[2]?(d=":"===f[1].charAt(6)?this.mangle(f[1].substring(7)):this.mangle(f[1]),e=this.mangle("mailto:")+d):(d=g(f[1]),e=d),b+=this.renderer.link(e,null,d);else if(this.inLink||!(f=this.rules.url.exec(a))){if(f=this.rules.tag.exec(a))!this.inLink&&/^<a /i.test(f[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(f[0])&&(this.inLink=!1),a=a.substring(f[0].length),b+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(f[0]):g(f[0]):f[0];else if(f=this.rules.link.exec(a))a=a.substring(f[0].length),this.inLink=!0,b+=this.outputLink(f,{href:f[2],title:f[3]}),this.inLink=!1;else if((f=this.rules.reflink.exec(a))||(f=this.rules.nolink.exec(a))){if(a=a.substring(f[0].length),c=(f[2]||f[1]).replace(/\s+/g," "),c=this.links[c.toLowerCase()],!c||!c.href){b+=f[0].charAt(0),a=f[0].substring(1)+a;continue}this.inLink=!0,b+=this.outputLink(f,c),this.inLink=!1}else if(f=this.rules.strong.exec(a))a=a.substring(f[0].length),b+=this.renderer.strong(this.output(f[2]||f[1]));else if(f=this.rules.em.exec(a))a=a.substring(f[0].length),b+=this.renderer.em(this.output(f[2]||f[1]));else if(f=this.rules.code.exec(a))a=a.substring(f[0].length),b+=this.renderer.codespan(g(f[2],!0));else if(f=this.rules.br.exec(a))a=a.substring(f[0].length),b+=this.renderer.br();else if(f=this.rules.del.exec(a))a=a.substring(f[0].length),b+=this.renderer.del(this.output(f[1]));else if(f=this.rules.text.exec(a))a=a.substring(f[0].length),b+=this.renderer.text(g(this.smartypants(f[0])));else if(a)throw new Error("Infinite loop on byte: "+a.charCodeAt(0))}else a=a.substring(f[0].length),d=g(f[1]),e=d,b+=this.renderer.link(e,null,d);return b},d.prototype.outputLink=function(a,b){var c=g(b.href),d=b.title?g(b.title):null;return"!"!==a[0].charAt(0)?this.renderer.link(c,d,this.output(a[1])):this.renderer.image(c,d,g(a[1]))},d.prototype.smartypants=function(a){return this.options.smartypants?a.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):a},d.prototype.mangle=function(a){if(!this.options.mangle)return a;for(var e,b="",c=a.length,d=0;d<c;d++)e=a.charCodeAt(d),Math.random()>.5&&(e="x"+e.toString(16)),b+="&#"+e+";";return b},e.prototype.code=function(a,b,c){if(this.options.highlight){var d=this.options.highlight(a,b);null!=d&&d!==a&&(c=!0,a=d)}return b?'<pre><code class="'+this.options.langPrefix+g(b,!0)+'">'+(c?a:g(a,!0))+"\n</code></pre>\n":"<pre><code>"+(c?a:g(a,!0))+"\n</code></pre>"},e.prototype.blockquote=function(a){return"<blockquote>\n"+a+"</blockquote>\n"},e.prototype.html=function(a){return a},e.prototype.heading=function(a,b,c){return"<h"+b+' id="'+this.options.headerPrefix+c.toLowerCase().replace(/[^\w]+/g,"-")+'">'+a+"</h"+b+">\n"},e.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.prototype.list=function(a,b){var c=b?"ol":"ul";return"<"+c+">\n"+a+"</"+c+">\n"},e.prototype.listitem=function(a){return"<li>"+a+"</li>\n"},e.prototype.paragraph=function(a){return"<p>"+a+"</p>\n"},e.prototype.table=function(a,b){return"<table>\n<thead>\n"+a+"</thead>\n<tbody>\n"+b+"</tbody>\n</table>\n"},e.prototype.tablerow=function(a){return"<tr>\n"+a+"</tr>\n"},e.prototype.tablecell=function(a,b){var c=b.header?"th":"td",d=b.align?"<"+c+' style="text-align:'+b.align+'">':"<"+c+">";return d+a+"</"+c+">\n"},e.prototype.strong=function(a){return"<strong>"+a+"</strong>"},e.prototype.em=function(a){return"<em>"+a+"</em>"},e.prototype.codespan=function(a){return"<code>"+a+"</code>"},e.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.prototype.del=function(a){return"<del>"+a+"</del>"},e.prototype.link=function(a,b,c){if(this.options.sanitize){try{var d=decodeURIComponent(h(a)).replace(/[^\w:]/g,"").toLowerCase()}catch(a){return""}if(0===d.indexOf("javascript:")||0===d.indexOf("vbscript:"))return""}var e='<a href="'+a+'"';return b&&(e+=' title="'+b+'"'),e+=">"+c+"</a>"},e.prototype.image=function(a,b,c){var d='<img src="'+a+'" alt="'+c+'"';return b&&(d+=' title="'+b+'"'),d+=this.options.xhtml?"/>":">"},e.prototype.text=function(a){return a},f.parse=function(a,b,c){var d=new f(b,c);return d.parse(a)},f.prototype.parse=function(a){this.inline=new d(a.links,this.options,this.renderer),this.tokens=a.reverse();for(var b="";this.next();)b+=this.tok();return b},f.prototype.next=function(){return this.token=this.tokens.pop()},f.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},f.prototype.parseText=function(){for(var a=this.token.text;"text"===this.peek().type;)a+="\n"+this.next().text;return this.inline.output(a)},f.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var c,d,e,f,g,a="",b="";for(e="",c=0;c<this.token.header.length;c++)f={header:!0,align:this.token.align[c]},e+=this.renderer.tablecell(this.inline.output(this.token.header[c]),{header:!0,align:this.token.align[c]});for(a+=this.renderer.tablerow(e),c=0;c<this.token.cells.length;c++){for(d=this.token.cells[c],e="",g=0;g<d.length;g++)e+=this.renderer.tablecell(this.inline.output(d[g]),{header:!1,align:this.token.align[g]});b+=this.renderer.tablerow(e)}return this.renderer.table(a,b);case"blockquote_start":for(var b="";"blockquote_end"!==this.next().type;)b+=this.tok();return this.renderer.blockquote(b);case"list_start":for(var b="",h=this.token.ordered;"list_end"!==this.next().type;)b+=this.tok();return this.renderer.list(b,h);case"list_item_start":for(var b="";"list_item_end"!==this.next().type;)b+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(b);case"loose_item_start":for(var b="";"list_item_end"!==this.next().type;)b+=this.tok();return this.renderer.listitem(b);case"html":var i=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(i);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},j.exec=j,l.options=l.setOptions=function(a){return k(l.defaults,a),l},l.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new e,xhtml:!1},l.Parser=f,l.parser=f.parse,l.Renderer=e,l.Lexer=b,l.lexer=b.lex,l.InlineLexer=d,l.inlineLexer=d.output,l.parse=l,this.marked=l}.call(n);var p=/^(?:plain|text)$/i,q=/^(?:xml|html|xhtml|rss|atom|xjb|xsd|xsl|plist|markdown|md|mkdown|mkd)$/i,r=/&lt;/g,s=/&gt;/g,t=/&amp;/g;!function(a){a&&a.highlight&&n.marked.setOptions({highlight:function(c,d){var e=!1;return d?0==d.search(p)?d="plain":0==d.search(q)&&(e=!0):d="plain","plain"!=d&&e||(c=c.replace(r,"<").replace(s,">").replace(t,"&")),"plain"==d?c:a.highlight(d,c,!0).value}})}(window.hljs),function(){function a(){return++window.TRIGGER__.count}function c(b){var c=b.url,e=b.data,f=b.callback;if(!c||"string"!=typeof c)throw new Error("invalid URL");if(e&&"object"!=("undefined"==typeof e?"undefined":d(e)))throw new Error("invalid input argument (data)");if("function"!=typeof f)throw new Error("input argument (callback) should be a function");var g=a();c+=c.indexOf("?")>0?"&":"?",c+="callback=TRIGGER__%5B"+g+"%5D",e&&Object.keys(e).forEach(function(a){var b=e[a];c+="&"+a+"="+encodeURIComponent(b+"")});var h=document.head||document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script");i.async="async",b.scriptCharset&&(i.charset=b.scriptCharset),i.src=c,i.onload=i.onreadystatechange=function(){i.readyState&&!/loaded|complete/.test(i.readyState)||(i.onload=i.onreadystatechange=null,h&&i.parentNode&&h.removeChild(i),i=void 0,setTimeout(function(){var a=window.TRIGGER__[g];a&&(delete window.TRIGGER__[g],b.notifyError&&f(null))},0))},h.insertBefore(i,h.firstChild),window.TRIGGER__[g]=function(a){var b=window.TRIGGER__[g];b&&(delete window.TRIGGER__[g],f(a))}}function g(a){var c=a.url,g=(a.type||"GET").toUpperCase(),h=a.data;if(!c||"string"!=typeof c)throw new Error("invalid URL");if(h&&"object"!=("undefined"==typeof h?"undefined":d(h)))throw new Error("invalid input argument (data)");if(!(g in b))throw new Error("invalid request type ("+g+")");var i=a.timeout||6e4,j=c.indexOf("?")>0,k=a.dataType;void 0===k&&".json"==c.slice(-5)&&(k="json");var l=null;h&&("PUT"!=g&&"POST"!=g?Object.keys(h).forEach(function(a){var b=h[a];j?c+="&":(j=!0,c+="?"),c+=a+"="+encodeURIComponent(b+"")}):l=JSON.stringify(h));var m=null,n=!1;if(window.XMLHttpRequest?m=new XMLHttpRequest:window.ActiveXObject&&(m=new ActiveXObject("Microsoft.XMLHTTP")),!m)throw new Error("invalid XMLHttpRequest");m.onreadystatechange=function(){if(4==m.readyState){var b=m.responseText||"",c=m.statusText||"",d=m.status||(b?200:404);if(n);else if(d>=200&&d<300&&b){var g=!1;if("json"===k||"pre-json"===k&&(g=!0)){var h,i=!0;try{g&&(b=b.replace(e,function(a){var b=a.slice(3,-3).replace(/\\/gm,"\\\\").replace(/\n/gm,"\\n").replace(/"/gm,'\\"');return'"'+b+'"'}),b=b.replace(f,"")),h=JSON.parse(b.replace(/[\cA-\cZ]/gi,"")),i=!1}catch(b){a.error&&(c="JSON format error",a.error(m,c))}!i&&a.success&&a.success(h,c,m)}else a.success&&a.success(b,c,m)}else a.error&&a.error(m,c);m=null,n=!0}};var o,p;if(a.username?m.open(g,c,!0,a.username,a.password):m.open(g,c,!0),p=a.headers)for(o in p)m.setRequestHeader(o,p[o]);l&&m.setRequestHeader("Content-Type","application/json"),m.send(l),"number"==typeof i&&setTimeout(function(){n||(n=!0,m.abort(),a.error&&a.error(m,"request timeout"),m=null)},i)}window.TRIGGER__||(window.TRIGGER__={count:0});var b={GET:1,POST:1,PUT:1,DELETE:1,HEAD:1};this.jsonp=c;var e=/"{3}[^\\]*(?:\\[\S\s][^\\]*)*"{3}/gm,f=/^\s*\/\/.*$/gm;this.ajax=g}.call(n),n.loadingEntry=function(a,b,c){function h(a,b,c){var d=[];a.forEach(function(a){a[0]==b&&d.push(a[1])});var e=d.length,f=0;e?d.forEach(function(a){var b=document.createElement("link");"onload"in b?(c&&(b.onload=function(a){f+=1,f>=e&&c()}),b.setAttribute("rel","stylesheet"),b.setAttribute("href",a),document.head.appendChild(b)):(b=document.createElement("img"),c&&(b.onerror=function(a){f+=1,f>=e&&c()}),b.setAttribute("src",a),document.body.appendChild(b))}):c&&c()}var d=document.getElementById("react-container");if(d){d.hasAttribute("__debug__")&&(l.__debug__=parseInt(d.getAttribute("__debug__")||0)),d.hasAttribute("__design__")&&(l.__design__=parseInt(d.getAttribute("__design__")||0)),window.W!==l&&(window.W&&(l.$modules=window.W.$modules),(l.__debug__||l.__design__)&&(window.W=l));var g=l.$modules;Array.isArray(g)&&(g.forEach(function(d){"function"==typeof d&&d.call(c,a,b,c)}),g.splice(0));for(var k,i=document.querySelectorAll('link[rel="stylesheet"]'),j=i.length-1;j>=0;j-=1){var k=i[j],m=k.getAttribute("shared");m&&"false"!=m&&"0"!=m&&l.$css.unshift(["pseudo",k.href])}h(l.$css,"basic",function(){function p(a,b,c,d){try{return JSON.parse(a)}catch(a){console.log("invalid JSON format: "+(c?c+"["+d+"].":"")+b)}}function q(c){return c.replace(a,"ms-").replace(b,function(a,b){return b.toUpperCase()})}function r(a,b){a=a.replace(c,"");var d=a.split(";"),e=[];d.forEach(function(a){var b=a.indexOf(":");b>0&&(a=a.slice(0,b).trim(),a&&e.push(a))});var f={},g=!1;return e.forEach(function(a){var c=q(a),d=b.style[c];d?(f[c]=d,g=!0):a!=c&&(d=b.style[a],d&&(f[a]=d,g=!0))}),g?f:null}function s(a,b,c){for(var d="",e=[],f="",g=a.attributes.length,h=!1,i=!1,j=0;j<g;j++){var k,l=a.attributes[j],m=l.name;if("$"==m){var n,q=l.value;if(!q)return null;"SPAN"==(k=a.nodeName)?h=!0:"PRE"==k&&(i=!0),"."==(n=q[0])||"/"==n?(e.push([m,q]),d=h?"RefSpan":"RefDiv"):d=q}else"style"==m?f=l.value:e.push([m,l.value])}if(d){var s={};if(f){var t="{"==f[0]&&"}"==f.slice(-1)?p(f.slice(1,-1),"style",b,0):r(f,a);t&&(s.style=t)}if(e.forEach(function(a){var d=a[1],e=a[0],f=e.split("-");if(f.length>1&&o.indexOf(f[0])<0)for(e=f.shift();f.length;){var g=f.shift();g&&(e+=g[0].toUpperCase()+g.slice(1))}"className"!=e&&(d&&"{"==d[0]&&"}"==d[d.length-1]&&"$"!=e[0]?s[e]=p(d.slice(1,-1),e,b,c):s[e]=d)}),i){var u=a.innerHTML;a.children.length&&(a.innerHTML=""),u&&(s["html."]=u),s["isPre."]=!0}else if(0==a.children.length){var u=a.textContent;u&&(s["html."]=u)}return[d,s,[]]}return null}function t(a){function d(a,b,e,f){for(var i,g=a[2],h=0;i=b.children[h];h++){var j=s(i,f,h);if(e){if(0==h&&(!j||"BodyPanel"!=j[0]))return console.log("error: root node of JSX should be BodyPanel"),!1;var k=j[1];if(k.hasOwnProperty("width")&&isNaN(k.width)&&(k.width=null),k.hasOwnProperty("height")&&isNaN(k.height)&&(k.height=null),h>0)return!0}if(j){g.push(j);var l=(j[1].key||h)+"";c.push(l),j[3]=c.join(".");var m=!1,n=f?f+"["+h+"]."+j[0]:j[0];if(d(j,i,!1,n)||(m=!0),c.pop(),m)return!1}else g.push(i)}return!0}if(!a)return null;var b=[null,null,[]],c=[""];return d(b,a,!0,"")?b[2][0]:null}function u(a,b,c){var d=c&&!l.__design__,f=null;d&&(f=i[b],f||(d=!1));var h=d?n[a]:m[a];if(!d){if(h)return h;if(h=n[a])return h=m[a]=e.createClass(h._extend())}if(!h){var j=a.split("."),k=j.shift();for(h=g[k];h&&(k=j.shift());)h=h[k];if(!h||!h._extend)return console.log("error: can not find template ("+a+")"),null;n[a]=h}return d?e.createClass(h._extend(f)):h=m[a]=e.createClass(h._extend())}function v(a,b){var c=a[0],f=a[3],g=!b&&f&&f.search(d)<0,h=u(c,f,g);if(!h)return null;var i=a[1],j=a[2],m=j.length;if(g&&k&&!l.__design__){var n=k[f];n&&Object.assign(i,n)}for(var o=[h,i],p=!1,q=!g,r=0;r<m;r++){var s=j[r];if(Array.isArray(s)){var t=v(s,q);t&&o.push(t)}else{var w,x=[s];if(!s.classList.contains("rewgt-static"))for(;r+1<m&&!Array.isArray(w=j[r+1]);)r+=1,x.push(w);for(var y=x.length-1;y>=0;y--)if(w=x[y],w.classList.contains("rewgt-static")){
x.splice(y,1);for(var z=w.childNodes.length-1;z>=0;z--)x.splice(y,0,w.childNodes[z])}var A=l.$staticNodes.push(x)-1;o.push(e.createElement("div",{className:"rewgt-static",name:A+""})),p=!0}}return p&&(i["hasStatic."]=!0),e.createElement.apply(null,o)}h(l.$css,"lazy");var a=/^-ms-/,b=/-(.)/g,c=/(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*")/g,d=/\.[0-9]/,g=l.$templates,i=l.$main,k=(l.$utils,l.$dataSrc),m={},n={},o=["data","$data","dual","$dual","aria","$aria"];l.$creator.scanNodeAttr=s;var w=document.getElementById("react-container"),x=t(w);if(x){var y=v(x,!1);y&&(l.$cachedClass=m,f.render(y,w,function(){l.$dataSrc=null,w.style.visibility="visible",i.isReady=!0;var a=i.$$onLoad_;"function"==typeof a&&a()}))}})}},b.exports=l}).call(this,a("_process"))},{_process:4,react:void 0,"react-dom":void 0}],3:[function(a,b,c){"use strict";function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function L(a){function c(a){return a=a.split(".").pop(),"$"==a[0]&&(a=a.slice(1)),a}function d(a){var b=a&&a._currentElement,c=b&&b._owner,d=c&&c._instance,e=d&&d.$gui;return e?e.keyid+"":""}if(!E)if(a.hasAttribute("data-reactid"))E=function(b){return c(b.getAttribute("data-reactid")||"")};else{for(var b in a)if(b.startsWith("__reactInternalInstance$")){D=b;break}if(!D)return console.log("warning: invalid react version!"),"";E=function(b){return d(b[D])}}return E(a)}function N(){return++M}function O(a){var b=a.$gui.className,c=a.state.klass;return b?c?b+" "+c:b:c||""}function P(a,b){if(!a)return!1;for(var c=" "+a+" ",d=Array.isArray(b)?b:String(b).split(/ +/),e=d.length,f=0;f<e;f++){var g=d[f];if(g&&c.indexOf(" "+g+" ")>=0)return!0}return!1}function Q(a,b){for(var c=" "+(a||"")+" ",d=Array.isArray(b)?b:String(b).split(/ +/),e=d.length,f=0;f<e;f++){var g=d[f];if(g){var h=c.indexOf(" "+g+" ");h<0&&(c+=g+" ")}}return c.trim()}function R(a,b){if(!a)return"";for(var c=" "+a+" ",d=Array.isArray(b)?b:String(b).split(/ +/),e=d.length-1;e>=0;e--){var f=d[e];f&&(c=c.replace(" "+f+" "," "))}return c.trim()}function S(a,b,c,d){for(var e=" "+a,f=e.length,g=e+" "+b+" ",h=Array.isArray(c)?c:String(c).split(/ +/),i=h.length-1;i>=0;i--){var j,k=h[i];if(k&&(j=g.indexOf(" "+k+" "))>=0){if(j<f)throw new Error("can not remove readonly class name: "+k);g=g.slice(0,j)+g.slice(j+k.length+1)}}if(Array.isArray(d))for(var l=d.length,m=0;m<l;m++){var k=d[m];k&&g.indexOf(" "+k+" ")<0&&(g+=k+" ")}return g.slice(f).trim()}function T(a,b){for(var c=Array.isArray(b)?b:String(b).split(/ +/),d=[],e=[],f=c.length-1;f>=0;f--){var g=c[f];if(g){var h=g[0];"-"==h?d.unshift(g.slice(1)):"+"==h?e.unshift(g.slice(1)):e.unshift(g)}}return o.removeClass(a,d,e)}function V(a){for(var b=Array.isArray(a)?a:String(a).split(/ +/),c=[],d=[],e=b.length-1;e>=0;e--){var f=b[e];if(f){var g=f.split("-"),h=g.length;if(h>1)for(var i=1;i<h;i++){var j=g.shift();g.push(j),c.push(g.join("-"))}else{var k;"S"==f[0]&&(k=U.indexOf(f))>=0&&U.forEach(function(a,b){b!=k&&c.push(a)})}d.push(f)}}return[c,d]}function X(a){var b=(a.key||"").replace(W,"");return"."==b[0]?b.slice(1):b}function Y(a){var b={};return Object.keys(a).forEach(function(c){J[c]||(b[c]=a[c])}),a.width&&(b.width=a.width),a.height&&(b.height=a.height),b}function Z(a){var b=a;return a&&a.component&&!a.props&&(b=a.component),b?b.$gui.isPanel?"panel":P(b.props.className,"rewgt-unit")?b.props["childInline."]?"paragraph":"unit":b.props["childInline."]?"span":b.widget===x?"root":"unknown":"unknown"}function $(a,b){for(var c,k,d=O(a),e=a.state,f=a.$gui,g=f.tagAttrs,h=f.dataset2,i=Object.assign({style:b||e.style},f.eventset),j=0;k=g[j];j++)i[k]=e[k];for(var k,j=0;k=h[j];j++)i[k]=e[k];return d&&(i.className=d),m.__design__&&(c=e["data-group.opt"])&&(i["data-group.opt"]=c),i}function _(a,b){function k(a){function h(b,c,d){if("string"==typeof b&&c){var e=b?Ra(a,b):a;return e?void(e.duals.hasOwnProperty(d)&&setTimeout(function(){e.duals[d]=p.update(e.duals[d],c)},0)):void console.log("warning: can not find target ("+b+")")}}function i(b,c){var d=void 0;c&&"object"==("undefined"==typeof c?"undefined":f(c))&&(d=c),setTimeout(function(){var c=b?Ra(a,b):a;return c?c===a?void console.log("warning: trigger can not fire widget itself."):void(c.props["isOption."]&&c.setChecked&&c.setChecked(null,d)):void console.log("warning: can not find target ("+b+")")},0)}var b=a.state.trigger;if(Array.isArray(b)){b=b.slice(0);for(var c=b.shift();c;){var d,e="undefined"==typeof c?"undefined":f(c);if("string"==e)i(c,null);else{if("object"!=e)break;if(Array.isArray(c))h(c[0]||"",c[1],c[2]||"data");else{if("string"!=typeof(d=c.$trigger))break;var g=Object.assign({},c);delete g.$trigger,i(d,g)}}c=b.shift()}}}if(arguments.length>=3){var c=arguments[2],d=!1;if(c){var e="undefined"==typeof c?"undefined":f(c);if("string"==e)c=[c],d=!0;else if("object"==e)if(Array.isArray(c)){var g;"string"==typeof c[0]&&"object"==f(g=c[1])&&"string"!=typeof g.$trigger&&(c=[c]),d=!0}else"string"==typeof c.$trigger&&(d=!0,c=[c])}if(!d)return void console.log("warning: invalid trigger data (key="+b.$gui.keyid+")");b.duals.trigger=c}else{var h=b.$gui,i=h.syncTrigger;if(i&&i>1)if(i<M){var j=h.exprAttrs.trigger;if(j)try{h.syncTrigger=2,j(b)}catch(a){console.log(a)}}else h.syncTrigger=3}setTimeout(function(){b.isHooked&&a!==b.state.trigger&&k(b)},0)}function aa(a){if(!a||"string"!=typeof a)return null;var b=m.$cachedClass[a];if(b||null===b)return b;var d=a.split("."),e=d.shift();for(b=n[e];b&&(e=d.shift());)b=b[e];return b&&b._extend?m.$cachedClass[a]=b=k.createClass(b._extend()):m.$cachedClass[a]=b=null,b}function ba(a){function r(a,b,c){var d=Object.keys(c);d.forEach(function(d){var e=c[d];if(e&&e._extend){var f=b?b+"."+d:d,g=m.$cachedClass[f];null!==g&&(g||(g=m.$cachedClass[f]=k.createClass(e._extend())),a[d]=g)}})}var b={},c="undefined"==typeof a?"undefined":f(a);if("string"==c){a||(a="*");var d=a.split("."),e=!1;"*"==d[d.length-1]&&(e=!0,d.pop());var g=d.join("."),h=n,i=d.shift(),j="";if(i)for(h=h[j=i];h&&(i=d.shift());)h=h[j=i];if(h)if(e)h._extend?j&&(b[j]=k.createClass(h._extend())):r(b,g,h);else if(h._extend){var l=m.$cachedClass[a];null!==l&&j&&(l||(l=m.$cachedClass[a]=k.createClass(h._extend())),b[j]=l)}}else if(Array.isArray(a))for(var o=a.length,p=0;p<o;p+=1){var q=a[p];q&&"string"==typeof q&&Object.assign(b,ba(q))}return b}function da(a,b){var c=b&&b.widget,d=c&&c.$callspace;if(d){if(d.forSpace){var e=a.evalInfo();e&&"for"==e[1]&&(d=d.forSpace)}return d.exprSpace}return null}function ea(a){function e(){for(var a=[],b=0,d=this.state,e=this.index,f=this.input,g=0,h=c.length;g<h;g++){var i=c[g],j=i.start,k=j.length;if(!k||j.indexOf(d)>=0||d%2&&1===k&&!j[0]){var l=i.pattern;l.lastIndex=e;var m=l.exec(f);if(m&&m.index===e){var n=a.push({result:m,action:i.action,length:m[0].length});for(i.global&&(b=n);--n>b;){var o=n-1;if(a[n].length>a[o].length){var p=a[n];a[n]=a[o],a[o]=p}}}}}return a}"function"!=typeof a&&(a=ea.defunct);var b=[],c=[],d=0;this.state=0,this.index=0,this.input="",this.addRule=function(a,b,d){var e=a.global;if(!e){var f="g";a.multiline&&(f+="m"),a.ignoreCase&&(f+="i"),a=new RegExp(a.source,f)}return Array.isArray(d)||(d=[0]),c.push({pattern:a,global:e,action:b,start:d}),this},this.setInput=function(a){return d=0,this.state=0,this.index=0,b.length=0,this.input=a,this},this.lex=function(){if(b.length)return b.shift();for(this.reject=!0;this.index<=this.input.length;){for(var c=e.call(this).splice(d),f=this.index;c.length&&this.reject;){var g=c.shift(),h=g.result,i=g.length;this.index+=i,this.reject=!1,d++;var j=g.action.apply(this,h);if(this.reject)this.index=h.index;else if("undefined"!=typeof j)return Array.isArray(j)&&(b=j.slice(1),j=j[0]),i&&(d=0),j}var k=this.input;if(f<k.length)if(this.reject){d=0;var j=a.call(this,k.charAt(this.index++));if("undefined"!=typeof j)return Array.isArray(j)?(b=j.slice(1),j[0]):j}else this.index!==f&&(d=0),this.reject=!0;else{if(!c.length)break;this.reject=!0}}}}function ha(a,b,c){return ga.push([b,a,fa.index-a.length,c]),b}function ja(a,b){function d(a,b,d,e){if(34==a[0]){var f=a[1],g=f[1],h=f[2],i=h?h[0]:0,j=g[3];if(j<e&&i>=31&&i<=43)return f[2]=[34,[h,b,d],h[2]],void c.push(a)}c.push([34,[a,b,d],a[2]])}function e(a,b,e){if(a>=3){var f,g,k,l,h=c[a-1],i=c[a-2],j=c[a-3],m=h[0],n=i[0],o=j[0];if(a>=5&&(f=c[a-4],k=f[0],g=c[a-5],l=g[0],!e&&l>=31&&l<=43&&5==k&&o>=31&&o<=43&&6==n&&m>=31&&m<=43))return c.splice(a-5,5,[35,[g,f,j,i,h],g[2]]),!0;if(o>=31&&o<=43&&14==n&&m>=31&&m<=43)return c.splice(a-3,3),d(j,i,h,i[3]),!0;if(!e&&o>=51&&o<=52&&7==n&&m>=31&&m<=43)return c.splice(a-3,3,[52,[j,i,h],j[2]]),!0;if(!e&&o>=31&&o<=43&&6==n&&m>=31&&m<=43)return a>=5&&l>=61&&l<=62&&7==k?c.splice(a-5,5,[62,[g,f,j,i,h],g[2]]):c.splice(a-3,3,[61,[j,i,h],j[2]]),!0}if(a>=1&&!b){var h=c[a-1],m=h[0];if(m>=31&&m<=43)return c.splice(a-1,1,[51,[h],h[2]]),!0}return!1}function f(a){var b=a[0];3==b&&"in"==a[1]&&(b=a[0]=14,a[3]=11);var f=c.length;if(20==b)for(f>=2&&7==c[f-1][0]&&(f-=1,c.pop());e(f);)f=c.length;else if(2==b){if(f){var g=c[f-1];if(14==g[0]&&"-"==g[1]){var h=!1;if(1==f)h=!0;else{var i=c[f-2],j=i[0];ia.indexOf(j)<0&&(h=!0)}h&&(c.pop(),f-=1,a[1]="-"+a[1])}}c.push([31,[a],a[2]])}else if(3==b||4==b)c.push([29+b,[a],a[2]]);else if(7==b){for(;e(f);)f=c.length;c.push(a)}else if(6==b||8==b){for(;e(f,!0);)f=c.length;c.push(a)}else if(5==b||10==b||12==b||14==b){for(;e(f,!0,!0);)f=c.length;c.push(a)}else if(11==b){for(f>=2&&7==c[f-1][0]&&(f-=1,c.pop());e(f);)f=c.length;if(f>=3){var k=c[f-1],l=c[f-2],m=c[f-3],n=k[0],o=l[0],p=m[0];if(p>=31&&p<=43&&10==o&&51==n)return l[0]=14,l[3]=18,k=k[1][0],c.splice(f-3,3),void d(m,l,k,18)}if(f>=2){var k=c[f-1],l=c[f-2],n=k[0],o=l[0];if(10==o){if(n>=31&&n<=43)return void c.splice(f-2,2,[39,[l,[51,[k],k[2]],a],l[2]]);if(n>=51&&n<=52)return void c.splice(f-2,2,[39,[l,k,a],l[2]])}}if(f>=1){var k=c[f-1],n=k[0];if(10==n)return void(c[f-1]=[38,[k,a],k[2]])}c.push(a)}else if(13==b){for(;e(f);)f=c.length;if(f>=3){var k=c[f-1],l=c[f-2],m=c[f-3],n=k[0],o=l[0],p=m[0];if(p>=31&&p<=43&&12==o&&n>=51&&n<=52)return l[0]=14,l[3]=17,c.splice(f-3,3),void d(m,l,k,17)}if(f>=2){var k=c[f-1],l=c[f-2],n=k[0],o=l[0];if(o>=31&&o<=43&&12==n)return k[0]=14,k[3]=17,c.splice(f-2,2),void d(l,k,null,17);if(12==o&&n>=51&&n<=52)return void c.splice(f-2,2,[37,[l,k,a],l[2]])}c.push(a)}else if(9==b){for(f>=2&&7==c[f-1][0]&&(f-=1,c.pop());e(f,!0);)f=c.length;if(f>=2){var k=c[f-1],l=c[f-2],n=k[0],o=l[0];if(8==o&&n>=61&&n<=62)return void c.splice(f-2,2,[41,[l,k,a],l[2]])}if(f>=1){var k=c[f-1],n=k[0];if(8==n)return void(c[f-1]=[40,[k,a],k[2]])}c.push(a)}}for(var g,c=[];g=a.shift();)1!=g[0]&&f(g);if(0==c.length)throw new Error("expression is empty");if(g=c[0],1==c.length){var h=g[0];if(h>=51&&h<=52)return g;if(61==h&&b)return g}if(g[0]<20)throw new Error("invalid operand ("+g[1]+") at offset ("+g[2]+")");for(var i=0,j=g[2];i<c.length;){var k=c[i++],l=k[0];if(l<51||l>52){j=k[2];break}}throw new Error("syntax error at offset ("+j+")")}function ka(a,b){function x(a,c){var d=c[0],e=c[1];if(61==d){var f=e[0],g=f[0],h=32==g?f[1][0][1]:ka(f,b);a.push([h,ka(e[2],b)])}else{if(62!=d)throw new Error("syntax error at offset ("+c[2]+")");x(a,e[0]);var f=e[2],g=f[0],h=32==g?f[1][0][1]:ka(f,b);a.push([h,ka(e[4],b)])}}function y(a,c){var d=c[0],e=c[1];51==d?a.push(ka(e[0],b)):52==d?(y(a,e[0]),a.push(ka(e[2],b))):a.push(ka(c,b))}function z(a){var c=a[0],d=a[1];return 51==c?ka(d[0],b):52==c?z(d[0],b):ka(a,b)}function A(a){if(52==a[0]){var c=a[1];A(c[0],b),ka(c[2],b)}}var c=a[0],d=a[1];if(31==c)return parseFloat(d[0][1]);if(32==c){var e=d[0][1];if("null"==e)return null;if("undefined"==e)return;if("true"==e)return!0;if("false"==e)return!1;if("NaN"==e)return NaN;var f=b[e];if(void 0!==f||b.hasOwnProperty(e))return f;throw new Error("symbol ("+e+") not defined")}if(33==c){var g=d[0][1];return g?g.slice(1,-1):""}if(34!=c){if(35==c){var o=ka(d[0],b);return ka(o?d[2]:d[4],b)}if(37==c){var p=[];return y(p,d[1]),p[p.length-1]}if(38==c)return[];if(39==c){var p=[];return y(p,d[1]),p}if(40==c)return{};if(41==c){var f={},p=[];return x(p,d[1]),p.forEach(function(a){f[a[0]]=a[1]}),f}if(51==c)return ka(d[0],b);if(52==c){var p=[];return y(p,a),p[p.length-1]}throw new Error("syntax error at offset ("+a[2]+")")}var h=d[0],i=d[1],j=d[2],k=i[1];if("."==k){if(32!=j[0])throw new Error("syntax error at offset ("+a[2]+"): invalid attribute name");var l=ka(h,b),m=j[1][0][1];try{return l[m]}catch(a){return void console.log("error: get attribute ("+m+") failed")}}else{if("["!=k){if("("==k){if(32==h[0]&&"while"==h[1][0][1]){var n=0;if(!j)return n;for(var o=z(j);o;)n+=1,A(j),o=z(j);return n}var p=[];if(j&&y(p,j),34==h[0]){var q=h[1];if("."==q[1][1]){var r=q[2];if(32!=r[0])throw new Error("syntax error at offset ("+r[2]+"): invalid attribute name");var s=ka(q[0],b),t=r[1][0][1];return s[t].apply(s,p)}}var u=ka(h,b);return u.apply(null,p)}if("&&"==k){var v=ka(h,b);return v?ka(j,b):v}if("||"==k){var v=ka(h,b);return v?v:ka(j,b)}var v=ka(h,b),w=ka(j,b);if("*"==k)return v*w;if("/"==k)return v/w;if("%"==k)return v%w;if("+"==k)return v+w;if("-"==k)return v-w;if("<<"==k)return v<<w;if(">>"==k)return v>>w;if(">>>"==k)return v>>>w;if("<"==k)return v<w;if("<="==k)return v<=w;if(">"==k)return v>w;if(">="==k)return v>=w;if("in"==k)return v in w;if("=="==k)return v==w;if("!="==k)return v!=w;if("==="==k)return v===w;if("!=="==k)return v!==w;if("&"==k)return v&w;if("^"==k)return v^w;if("|"==k)return v|w;throw new Error("unknown operator: "+k)}var l=ka(h,b),m=ka(j,b);try{return l[m]}catch(a){return void console.log("error: get attribute (["+m+"]) failed")}}}function la(a,b,c){var d=null,e=!1;ga=[];try{for(fa.setInput(a);fa.lex(););e=!0}catch(a){o.instantShow("error: lexical analysis failed at "+(b?b.widget.getPath():"")+":"+c),console.log(a)}if(!e)return null;try{d=ja(ga,!0)}catch(a){o.instantShow("error: yacc analysis failed at "+(b?b.widget.getPath():"")+":"+c),console.log(a)}return d}function ma(a,b,c,d){var e=a.widget,f=d||0;if("number"==typeof b){for(var g=void 0;e;){var h=e.component,i=h&&h.props["for.index"];if(e.$callspace&&e.$callspace.hasOwnProperty("flowFlag")){if(e.$callspace.forSpace){if(b>=-1)return b==-1?g="number"==typeof i?i:void 0:0==f&&(g="number"==typeof i?i:void 0),c&&(c.unshift(0==b&&0!=f),c.unshift(e.$callspace),c.unshift(g)),e.component;b+=2}else{if(0==b){var j=e.$callspace.flowFlag;if(("for"==j||"for0"==j)&&0==f){g="number"==typeof i?i:void 0,e=e.parent,f+=1;continue}return c&&(c.unshift(!1),c.unshift(e.$callspace),c.unshift(g)),e.component}b+=1}g="number"==typeof i?i:void 0}else void 0===g&&"number"==typeof i&&(g=i);e=e.parent,f+=1}return null}for(;e;){if(e.$callspace&&e.$callspace.hasOwnProperty("flowFlag")&&(f>0||e.$callspace.forSpace))return Ra(e.component,b);e=e.parent,f+=1}return null}function na(a,b,c){function e(c){return function(e){var g=e||0,h="undefined"==typeof g?"undefined":f(g);if("number"==h?g>0&&(g=0):"string"!=h&&(g=0),0===g)return b[c];var i=0;d!==a.index&&(i=1);var j=[],k=ma(b,g,j,i);return k?k[c]:null}}a.ex=r.createEx(b),a.Math=Math;var d=function(c,d){void 0===c?c=0:("number"!=typeof c||isNaN(c)||c>0)&&(console.log("warning: invalid expression: index("+c+")"),c=0);var e=[],f=ma(b,c,e,d);return f?e[0]:void 0};a.index=d,a.props=e("props"),a.state=e("state"),a.duals=e("duals"),a.typeof=function(a){return"undefined"==typeof a?"undefined":f(a)},a.count=function(e){if(void 0===e?e=0:("number"!=typeof e||isNaN(e)||e>0)&&(console.log("warning: invalid expression: count("+e+")"),e=0),0===e&&c)throw new Error("invalid expression: count(0)");var f=0;d!==a.index&&(f=1);var g=[],h=ma(b,e,g,f),i=g[1];return h&&i?((g[2]?i.forSpace:i)["data-for.path"]||[]).length:0},a.item=function(e){if(void 0===e?e=0:("number"!=typeof e||isNaN(e)||e>0)&&(console.log("warning: invalid expression: item("+e+")"),e=0),0===e&&c)throw new Error("invalid expression: item(0)");var f=0;d!==a.index&&(f=1);var g=[],h=ma(b,e,g,f),i=g[1];if(h&&i){var j=f?a.index(e):g[0];if("number"==typeof j)return((g[2]?i.forSpace:i)["data-for.path"]||{})[j]}}}function pa(a){var b=a.widget;if(b=b&&b.parent,!b)return!1;var c=b.component;if(!c)return!1;var d=c.$gui.compIdx[a.$gui.keyid];if("number"!=typeof d)return!1;var e=!1,f=c.$gui.comps;for(d-=1;d>=0;){var h=f[d--],i=X(h);if(h=h&&i&&b[i],h=h&&h.component,h&&h.$gui.compState){var j=h.$gui.flowFlag;if("if"==j){h.state[j]&&(e=!0);break}if("elif"!=j)break;if(h.state[j]){e=!0;break}}}return e}function ra(a,b,c){function t(a){if(32==a[0]){var b=a[1][0][1],c=qa.indexOf(b);if(c>=0)return c+1}return 0}var d,e=a[0],f=a[1];if(e>=51)51==e?ra(f[0],b):52==e?(ra(f[0],b),ra(f[2],b)):61==e?(ra(f[0],b),ra(f[2],b)):62==e&&(ra(f[0],b),ra(f[2],b),ra(f[4],b));else if(e>=31)if(32==e){if(!c&&(d=t(a))){var g=a[2],h=a.slice(0);return a[0]=34,a[1]=[h,[14,"(",g,17],null],b.push([d,0])}}else if(34==e){var i=f[0],j=f[1],k=f[2],l=j[1];if("."==l)if(!c&&(d=t(i)))if(32==k[0]){var m=k[1][0][1];b.push([d,0,m]);var g=i[2],h=i.slice(0);i[0]=34,i[1]=[h,[14,"(",g,17],null]}else ra(k,b,!0);else{if(ra(i,b,c)&&32==k[0]){var m=k[1][0][1],n=b[b.length-1];return n.push(m),0}ra(k,b,!0)}else if("["==l)if(!c&&(d=t(i)))if(33==k[0]){var o=k[1][0][1];b.push([d,0,o.slice(1,-1)]);var g=i[2],h=i.slice(0);i[0]=34,i[1]=[h,[14,"(",g,17],null]}else if(4==d&&31==k[0]){b.push([d,0]);var g=i[2],h=i.slice(0);i[0]=34,i[1]=[h,[14,"(",g,17],null]}else ra(k,b);else{if(ra(i,b,c)&&33==k[0]){var o=k[1][0][1],n=b[b.length-1];return n.push(o.slice(1,-1)),0}ra(k,b)}else if("("==l)if(d=t(i)){if(null===k)return b.push([d,0]);var p=k[0];if(51==p){var q=k[1][0],r=q[0];if(31==r){var s=q[1][0][1];return b.push([d,parseFloat(s)])}if(33==r){var o=q[1][0][1];return b.push([d,o.slice(1,-1)])}}ra(k,b)}else ra(i,b),null!==k&&ra(k,b);else"in"==l?(32!=i[0]&&ra(i,b),ra(k,b)):(ra(i,b),ra(k,b))}else 35==e?(ra(f[0],b),ra(f[2],b),ra(f[4],b)):37==e?ra(f[1],b):39==e?ra(f[1],b):41==e&&ra(f[1],b);return 0}function sa(a,b,c){var d=la(b,a,c);if(d){61==d[0]&&(d=d[1][2]),ra(d,[]);var e=[],f=ma(a,0,e,1),g=e[1];return f&&g?(e[2]&&(g=g.forSpace),function(a,b){var e=g.exprSpace,f=e.index;e.index=function(a){return void 0===a||0===a?b:f(a,1)},e.$info=[a,c,p.time()];try{return ka(d,e)}finally{e.index=f}}):null}return null}function ua(a,b,c,d){function B(a,b){var c=a.widget;if(c=c&&c.parent,!c)return!1;var d=c.component;if(!d)return!1;var e=d.$gui.compIdx[a.$gui.keyid];if("number"!=typeof e)return!1;var f=!1,g=d.$gui.comps,h=[],i=!1;for(e-=1;e>=0;){var j=g[e--],k=X(j);if(j=j&&k&&c[k],j=j&&j.component,j&&j.$gui.compState){var l=j.$gui.flowFlag;if("if"!=l&&"elif"!=l)break;var m=j.$gui.flowExprId0;if(!i&&(j.$gui.flowExprId!==m||b>m)?h.unshift([l,j]):(i=!0,j.state[l]&&(f=!0)),"if"==l)break}}return h.length&&h.forEach(function(a){var b=a[0],c=a[1],d=c.$gui.exprAttrs[b];if(f||!d)c.state[b]&&setTimeout(function(){c.state[b]=!0;var a={};a[b]=!1,c.setState(a)},0),c.state[b]=!1,c.$gui.flowExprId0=c.$gui.flowExprId=oa;else try{var e=c.state[b];d(c,1);var g=c.state[b];g&&(f=!0),!e!=!g&&setTimeout(function(){c.state[b]=e;var a={};a[b]=g,c.setState(a,function(){g&&c.props["hasStatic."]&&$a(c,!0)})},0)}catch(a){console.log(a)}}),f}function C(a,b,c){var d=a.widget;if(d=d&&d.parent){var e=d.component;if(e){var f=e.$gui.compIdx[a.$gui.keyid],g=e.$gui.comps;if("number"==typeof f){for(var h=[],i=g.length,j=f+1;j<i;j+=1){var k=g[j],l=k&&X(k),m=l&&d[l];if(m=m&&m.component,m&&m.$gui.compState){var n=m.$gui.flowFlag;if("elif"!=n&&"else"!=n)break;var o=m.$gui.flowExprId0;if(!(m.$gui.flowExprId!==o||c>o))break;if(h.push([n,m]),"else"==n)break}}h.forEach(function(a){var c=a[0],d=a[1],e="elif"==c?d.$gui.exprAttrs[c]:null;if(b||"elif"==c&&!e)d.$gui.flowExprId0=d.$gui.flowExprId=oa,d.state[c]&&(d.state[c]=!1,setTimeout(function(){d.state[c]=!0;var a={};a[c]=!1,d.setState(a)},0));else if("elif"==c)try{var f=d.state[c];e(d,2);var g=d.state[c];g&&(b=!0),!f!=!g&&setTimeout(function(){d.state.elif=!g,d.setState({elif:g},function(){g&&d.props["hasStatic."]&&$a(d,!0)})},0)}catch(a){console.log(a)}else d.$gui.flowExprId0=d.$gui.flowExprId=oa,d.state.else||(d.state.else=!0,setTimeout(function(){d.state.else=!1,d.setState({else:!0},function(){d.props["hasStatic."]&&$a(d,!0)})},0))})}}}}function D(a,b,c,d){var e=d[d.length-1],f=[],g=ma(a,e,f,0);if(!g)return void console.log("error: can not listen ("+e+":for) for "+a.widget.getPath()+":"+b);for(var k,h=g.widget,i=f[1],j=f[2],l=0;h&&i;){if(d.indexOf(e)>=0&&(k=h.component)&&(k.props.$for||k.props.$$for)&&(k.listen("for",function(c,d){if(!a.isHooked)return void k.unlisten("*",a);var e=a.state.exprAttrs.slice(0);e.indexOf(b)<0&&e.push(b),K.indexOf(b)>0&&(0==ta&&(ta=++oa,setTimeout(function(){ta=0},0)),a.$gui.flowExprId=ta),a.setState({exprAttrs:e})}),l+=1),j)j=!1,e-=1;else for(h=h.parent;h;){if(i=h.$callspace){j=!!i.forSpace,e-=1;break}h=h.parent}if(e<c)break}l<d.length&&console.log("error: not all source ($for) is watched for "+a.widget.getPath()+":"+b)}var e="any",f=la(c,a,b);if(f){61==f[0]&&(e=f[1][0],f=f[1][2],32==e[0]&&(e=e[1][0][1]),"all"!==e&&"strict"!==e&&(e="any"));var g=K.indexOf(b);g>=0&&"any"!=e&&(console.log("error: invalid using '"+e+":' at "+a.widget.getPath()+":"+b),e="any");var h=[];if(ra(f,h),"trigger"==b){var i=a.props.fireType||"auto";"onsite"===i?(h=[],a.$gui.syncTrigger=3):"none"===i?a.$gui.syncTrigger=0:a.$gui.syncTrigger=1}var j={},k=[];h.forEach(function(c){var d,e=c[0],f=c[1];if(e>=4&&"number"==typeof f)return void(f<=0&&k.indexOf(f)<0&&k.push(f));if(3==e&&void 0!==(d=c[2])){if("number"==typeof f&&!(f<=0))return void console.log("error: invalid using duals("+f+") at "+a.widget.getPath()+":"+b);var g=j[f];if(g||(g=j[f]=[]),0==g.length){var h=[],i=ma(a,f,h,0);i?g.push(i,d):console.log("error: can not find duals("+f+") at "+a.widget.getPath()+":"+b)}else g.indexOf(d,1)<0&&g.push(d)}}),k.sort(function(a,b){return a-b});var l={};Object.keys(j).forEach(function(c){var d=j[c],f=d&&d[0];if(f){var g=d.slice(1);"any"!=e&&g.forEach(function(a){l[c+":"+a]=!1}),f.listen(g,function(d,g,h){if(!a.isHooked)return void f.unlisten("*",a);if("any"==e){var i=a.state.exprAttrs.slice(0);i.indexOf(b)<0&&i.push(b),K.indexOf(b)>0&&(0==ta&&(ta=++oa,setTimeout(function(){ta=0},0)),a.$gui.flowExprId=ta),a.setState({exprAttrs:i})}else{var j=c+":"+h;if(l.hasOwnProperty(j)){"strict"==e&&l[j]&&console.log("error: conflict in strict mode, duals("+c+")."+h+" is fired more than one time."),l[j]=!0;for(var k=!0,m=Object.keys(l),n=m.length-1;n>=0;n--)if(!l[m[n]]){k=!1;break}if(k){for(var n=m.length-1;n>=0;n--)l[m[n]]=!1;var i=a.state.exprAttrs.slice(0);i.indexOf(b)<0&&i.push(b),a.setState({exprAttrs:i})}}}})}}),k.length&&"any"==e&&D(a,b,k[0],k);var m=[],n=ma(a,0,m,0),o=m[0],q=m[1];if(!n||!q)return console.log("warning: locate current callspace failed."),[null,e];m[2]&&(q=q.forSpace);var r=!1,s=null,t=null,u=null;if("html"==b)r=!0;else if(0==g){var v=[],w=f,x=w[0],y=w[1];if(51==x&&37==y[0][0]&&(w=y[0][1][1],x=w[0],y=w[1]),51==x)s=y[0];else if(52==x){for(;52==x;)v.unshift(y[2]),w=y[0],x=w[0],y=w[1];51==x&&(s=y[0])}else s=w;if(s=s&&34==s[0]&&"in"==(y=s[1])[1][1]?y[2]:null)for(;v.length;){var z=v.pop(),A=z[0];if(31==A)u||(u=[]),u.unshift(parseFloat(z[1][0][1]));else if(33==A)u||(u=[]),u.unshift(z[1][0][1].slice(1,-1));else{if(v.length){console.log("warning: invalid filter expression ($for) at "+a.widget.getPath()),t=null;break}t=z}}else console.log("error: invalid expression ($for) at "+a.widget.getPath())}return[function(a,c){var e=q.exprSpace,h=e.index;e.index=function(a){return void 0===a||0===a?o:h(a,1)},e.$info=[a,b,p.time()];try{if(0==g)if(a.$gui.flowExprId0=a.$gui.flowExprId=oa,s){var i=ka(s,e);if(Array.isArray(i)){if(t){var j=[],k=i.length;if(k){e.$count=k;for(var l=0;l<k;l++){var m=e.$item=i[l];e.$index=l;try{ka(t,e)&&j.push(m)}catch(b){console.log("error: run filter failed ($index="+l+" in "+a.widget.getPath()+")"),console.log(b)}}delete e.$index,delete e.$item,delete e.$count}i=j}u&&(i=p.order(i,u)),a.state[b]=i}else console.log("error: result of '$for' ("+a.widget.getPath()+") should be array"),a.state[b]=[]}else a.state[b]=[];else if(g>=1){var n=a.$gui.flowExprId;if(c=c||0,2==g){var v=!1,w=!1;if(n!==a.$gui.flowExprId0?w=!0:c&&oa>a.$gui.flowExprId0&&(w=!0),a.$gui.flowExprId0=a.$gui.flowExprId=oa,w){var x,y=a.state.elif;1!=c&&B(a,n)?(v=!0,x=a.state.elif=!1):(x=a.state.elif=ka(f,e),v=!!x),x&&y!==x&&a.props["hasStatic."]&&setTimeout(function(){$a(a,!0)},0)}else(a.state.elif||1!=c&&B(a,n))&&(v=!0);2!=c&&C(a,v,n)}else if(1==g){var w=!1;if(n!==a.$gui.flowExprId0?w=!0:c&&oa>a.$gui.flowExprId0&&(w=!0),a.$gui.flowExprId0=a.$gui.flowExprId=oa,w){var y=a.state.if,x=a.state.if=ka(f,e);x&&y!==x&&a.props["hasStatic."]&&setTimeout(function(){$a(a,!0)},0)}2!=c&&C(a,!!a.state.if,n)}}else{if(d){var z=a.$gui.syncTrigger;if(z){var A=a.state.trigger;z<=2&&(a.duals[b]=ka(f,e));var D=!1;1!==z&&(2===z?(D=!0,a.$gui.syncTrigger=3):a.$gui.syncTrigger=M),D||_(A,a)}else a.duals[b]=ka(f,e)}else a.state[b]=ka(f,e);r&&(a.duals["html."]=a.state[b])}}finally{e.index=h}},e]}return[null,e]}function va(a,b,c,d){for(var f,e=0;f=a[e];e++)try{var g=f[0],h=f[1];f[2]?g&&(g.duals[h]=b):g?g[h]&&g[h](b,c,d):"function"==typeof h&&h(b,c,d)}catch(a){console.log(a)}}function wa(a,b,c,d,e){function h(){return this.state[b]}function i(h){if(f.inSync){var i,j;if(arguments.length>=2)i=arguments[1],j=!1;else{if(i=this.state[b],i===h)return;j=!0}var k=!1;if(g&&h<=2?(j&&(this.state.id__=f.id__=h),d&&d(h,i),k=!c&&0!=h):(c?e||(j&&(this.state[b]=h),c(h,i)):(j&&!e&&(this.state[b]=h),k=!0),d&&d(h,i)),k){var l=f.connectTo[b];l&&f.compState>=2&&setTimeout(function(){va(l,a.state[b],i,b)},0)}}else if(this.state)if(g&&0==h){var i=this.state.id__;if(0==i)return;this.state.id__=f.id__=h,d&&d(h,i)}else{var m=this.state.duals.slice(0);m.push([b,h]),setTimeout(function(){a.setState({duals:m})},0)}else f.initDuals.push([b,h])}var f=a.$gui,g="id__"==b;return e&&(g?(e=void 0,console.log("error: can not apply base.setter to duals.id__")):c?e.setter=c:e.setter=function(c,d){a.state[b]=c}),[h.bind(a),i.bind(a)]}function xa(a){function da(b,c){var f=d[c];if(f)try{var g=e.connectTo[c];if(g){var h=a.state[c];f(a);var i=a.state[c];i!==h&&b.push([g,i,h,c])}else f(a)}catch(a){console.log(a)}}function ea(a){var b=a&&a.component;return!!b&&(!!b.props["isTemplate."]||ea(a.parent))}var d,b=!1,c=!1,e=a.$gui,f=a.duals;e.inSync=!0;try{0==e.compState?(c=!0,e.compState=1):e.compState=2;var g=e.flowFlag,h=e.duals,i=a.state.duals;if(c){b=!0,e.hasIdSetter?f.id__=1:(a.state.id__=1,e.id__=1);var j={},l=[];Object.keys(f).forEach(function(b){var c=a.props[b];void 0!==c&&(h[b]=c,l.push([b,c])),j[b]=!0});var n=e.exprAttrs,o=Array.isArray(n);(o||g)&&m.__design__&&ea(a.widget)&&(e.forExpr=0,g=e.flowFlag="",n.splice(0),a.state.exprAttrs=[]);var p=[],q=[],r=a.state.exprAttrs;d=e.exprAttrs={},o&&n.forEach(function(b,c){var d=a.props["$"+b],f=!1;if(d||"for"!=b||2!==e.forExpr||(d=a.props.$$for),!d)return void("for"!=b&&console.log("warning: invalid dual attribute ($"+b+")."));if(0==b.indexOf("dual-")){var g=r.indexOf(b);g>=0&&r.splice(g,1);var h=b.slice(5).replace(bb,function(a,b){return b.toUpperCase()});if(!h)return;f=!0,b=h}var i=void 0!==a.props[b];if(i&&!j[b])return void console.log("warning: dual attribute ($"+b+") is confliction.");if(f&&r.push(b),"data"!=b){var k=Xa[b];k&&5!=k&&!i&&e.tagAttrs.push(b)}p.push(b),q.push([b,d])});var s,t,u=e.initDuals0;for(e.initDuals0=[],s=0;t=u[s];s++)a.state[t[0]]=t[1];var v={},w=Object.keys(e.dualAttrs);if(p.length||w.length||e.tagAttrs.length||e.dataset.length){for(var z,x=-1,y=[p,w,e.tagAttrs,e.dataset],s=0;z=y[s];s++)z.forEach(function(b){if(0==s)j[b]=!0;else if(1==s){var c=!1;if(void 0!==a.props[b]?c=!0:j[b]&&void 0!==h[b]&&(c=!0),c)return void console.log("warning: dual attribute ("+b+") is confliction.");if(j[b]=!0,"data"!=b){var d=Xa[b];d&&5!=d&&!bothPropDual&&e.tagAttrs.push(b)}var g=h[b]=a.props[e.dualAttrs[b]];if(f.hasOwnProperty(b))return void l.push([b,g]);a.state[b]=g}else{if(j[b])return void(2==s&&"data"==b&&(x=e.tagAttrs.indexOf(b)));j[b]=!0;var g=h[b]=a.props[b];if(f.hasOwnProperty(b))return void l.push([b,g]);a.state[b]=g}var i=Object.getOwnPropertyDescriptor(f,b);if(i)0==s&&(v[b]=!0);else{var k=wa(a,b);Object.defineProperty(f,b,{enumerable:!0,configurable:!0,get:k[0],set:k[1]})}});x>=0&&e.tagAttrs.splice(x,1)}var A;if(e.forExpr&&(A=a.widget)){var B;2==e.forExpr&&(A.$callspace={flowFlag:"ref",forSpace:null},A.$callspace["data-rfor.path"]="",B=A.$callspace.exprSpace={},na(B,a)),B={};var C={flowFlag:"for",exprSpace:B},D=a.props[2==e.forExpr?"$$for":"$for"],E=!0;if(A.$callspace?D?A.$callspace.forSpace=e.forExpr=C:(delete e.forExpr,E=!1):(A.$callspace=C,D?e.forExpr=C:(delete e.forExpr,C.flowFlag="for0")),E&&na(B,a,!D),e.forExpr){for(var F=e.comps2=e.comps,J=e.exprKeys=[],K=e.exprChild=[],s=F.length-1;s>=0;s-=1){var L=F[s];if(L){if(P(L.props.className,"rewgt-static")){J.unshift(null),K.unshift(null);continue}var O=L.props.$key,Q=null;if(O&&"string"==typeof O?(Q=sa(a,O,"key"),Q||console.log("error: invalid '$key' expression: "+O)):console.log("error: no '$key' defined for child element in '$for' loop."),Q){J.unshift(Q);var R=L.props.$children,S=null;R&&"string"==typeof R&&(S=sa(a,R,"children"),S||console.log("error: invalid '$children' expression: "+R)),K.unshift(S);continue}}F.splice(s,1)}e.comps=[],e.compIdx={}}}q.length&&(e.flowExprId0=0,e.flowExprId=1,q.forEach(function(b){var c=b[0],f=ua(a,c,b[1],v[c]),g=f[0],h=f[1];if(g){if("any"!=h){var i=e.syncExpr;i||(i=e.syncExpr=[]),e.syncExpr.push([c,g])}else d[c]=g;0!=c.indexOf("data-")&&0!=c.indexOf("aria-")||e.dataset2.push(c)}else console.log("warning: compile expression ($"+c+") failed.")}));var T=l.length;for(e.initDuals.forEach(function(a){var b=a[0],c=l.findIndex(function(a){return a[0]===b});c>=0&&c<T&&(l.splice(c,1),T-=1),l.push(a)}),e.initDuals=[];t=l.shift();)f[t[0]]=t[1]}else{d=e.exprAttrs;for(var U;U=i.shift();)f[U[0]]=U[1];Object.keys(f).forEach(function(c){var d=a.props[c];if(void 0===d){var g=e.dualAttrs[c];if(!g)return;if(d=a.props[g],void 0===d)return}d!==h[c]&&(h[c]=d,f[c]=d,b=!0)})}var r=a.state.exprAttrs,V=[];if(r.length){var t,W=r.indexOf("data");for(W>=0&&(t=r[W],r.splice(W,1),da(V,t),r=a.state.exprAttrs);t=r.shift();)da(V,t)}if(g||e.forExpr){var A,X=!1,Y=!0;if(g&&(Y=a.state[g],"if"==g||"elif"==g?(X=!0,a.hideThis=!Y):"else"==g&&(c&&(e.flowExprId0=e.flowExprId=oa,Y=a.state.else=!pa(a)),X=!0,a.hideThis=!Y)),e.forExpr&&(A=a.widget)){Y=a.state.for,Array.isArray(Y)&&0!=Y.length||(Y=[]),e.forExpr["data-for.path"]=Y;var Z={},$=[],F=e.comps2,J=e.exprKeys,K=e.exprChild,aa=!1,ba=a.props["childInline."];Y.forEach(function(b,c){for(var e,d=0;e=F[d];d+=1){var f=J[d];if(f){var j=e.props["childInline."];if(void 0!==j)if(ba){if(!j)continue}else if(!P(e.props.className,["rewgt-panel","rewgt-unit"]))continue;if(e.props["isReference."])continue;var l=K[d],m=null;if(l)try{m=l(a,c),m?k.isValidElement(m)||Array.isArray(m)||"string"==typeof m||(m=null):m=null}catch(a){console.log("error: caculate '$children' ("+(d+1)+" of "+F.length+") failed."),console.log(a)}var h,n=!1;try{h=f(a,c),"number"!=typeof h&&(h+=""),n=!0}catch(a){console.log("error: caculate '$key' ("+(d+1)+" of "+F.length+") failed."),console.log(a)}if(n){var o,p={"hookTo.":A,"keyid.":h,key:h+"","for.index":c};m?(m.unshift(e,p),o=G.apply(null,m)):o=G(e,p),Z[h]=$.push(o)-1}}else{aa=!0;var h="static-"+c,i=Object.assign({},e.props);i["keyid."]=h,i.key=h,Z[h]=$.push(H(ba?"span":"div",i))-1}}}),aa&&setTimeout(function(){$a(a,!0)},0),0==e.comps.length&&0==$.length||(e.removeNum+=1),e.compIdx=Z,
e.comps=$}}if(V.length&&e.compState>=2&&setTimeout(function(){V.forEach(function(a){va(a[0],a[1],a[2],a[3])})},0),c&&m.__debug__&&"function"==typeof a.setup__)try{a.setup__()}catch(a){console.log(a)}if(e.id__===a.state.id__)0==e.id2__&&(f.id__=M!==a.state.id__?M:N());else{var ca=a.state.id__;a.state.id__=ca-1,f.id__=ca}e.id2__=0,e.isChildExpr&&e.children2!==a.props.children&&(e.removeNum+=e.comps.length,e.children2=a.props.children,e.comps=I(a.props.children)),f.childNumId=e.comps.length+(e.removeNum<<16)}catch(a){console.log(a)}return e.inSync=!1,b}function ya(a,b){var c=null,d=b.frame||{},e=d.path;return e&&(c=a.componentOf(e),c=c&&c.fullClone(),c||(m.__design__||delete b.frame,console.log("warning: can not locate popup frame ("+e+")."))),c||null}function za(a){var b=a._;if(!b)return null;var c=b._statedProp||[],d=b._silentProp||[],e=b._htmlText,f=Object.assign({},a.props);if(c.forEach(function(b){f.hasOwnProperty(b)&&(f[b]=a.state[b])}),d.forEach(function(a){delete f[a]}),e){var g=a.state["html."];g&&"string"==typeof g?f["html."]=g:delete f["html."]}else delete f["html."];return delete f["data-unit.path"],delete f["data-span.path"],delete f.children,f}function Aa(a,b,c,d){var e=d.$gui,f=!!e.forExpr,g=f?e.comps2:e.comps,h=[],i=d.props["childInline."];return g.forEach(function(a){if(a){if(f||a.props["isReference."])return void h.push(a);if(P(a.props.className,"rewgt-static")){var b=Object.assign({},a.props);delete b["keyid."],delete b.key,delete b.onMouseDown,delete b.onDoubleClick;var e,g=b.name;if("number"==typeof(e=parseInt(g))&&e>=1048576){var j=d.$gui.statics;if(j=j&&j[g],Array.isArray(j)){var k=j.map(function(a){return a.cloneNode(!0)});e=m.$staticNodes.push(k)-1,b.name=e+""}}return void h.push(H(i?"span":"div",b))}var l=X(a),n=l&&c[l],o=n&&n.component;if(o){if(o.props["isTemplate."]&&!m.__design__){var p=o.$gui.template;return p instanceof Sa?G(a,{template:p},null):void 0}var b=za(o);b&&h.push(Aa(a,b,n,o))}}}),0==h.length?G(a,b,null):(h.unshift(b),h.unshift(a),G.apply(null,h))}function Ba(a,b){var c;if(Array.isArray(a)){if(Array.isArray(b)&&(c=a.length)==b.length){for(var d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}return!1}if(a&&"object"==("undefined"==typeof a?"undefined":f(a))){if(b&&"object"==("undefined"==typeof b?"undefined":f(b))){var e=Object.keys(a),g=Object.keys(b);if((c=e.length)!=g.length)return!1;for(var d=0;d<c;d++){var h=e[d];if(a[h]!==b[h])return!1}return!0}return!1}return a===b}function Ca(a,b,c){function C(a){return[a._className,a._statedProp||[],a._silentProp||[],a._defaultProp||{},a._htmlText]}function D(a){if(!a)return!1;var b=a.component;return!(!b||!b.props["data-unit.path"]&&!b.props["data-span.path"])||D(a.parent)}function E(a,b,c){if(P(b.props.className,"rewgt-static")){var d=b.props.name,e=parseInt(d);if("number"==typeof e&&e<1048576){var f=m.$staticNodes[e];if(Array.isArray(f)){for(var i,g=[],h=0;i=f[h];h++)g.push(i.outerHTML);g.length&&a.push(["",{html:g},c])}}}else{var j=b.type,k=j&&j.prototype.$eventset;if(k){var l=k[2],n=Object.assign({},b.props),o=n.children;delete n.children;var p=0;n["childInline."]?p=P(n.className,"rewgt-unit")?2:3:P(n.className,"rewgt-unit")&&(p=1),Object.keys(n).forEach(function(a){"."==a.slice(-1)&&delete n[a]});var q=[];o&&(Array.isArray(o)||(o=[o]),o.forEach(function(a){a&&E(q,a,p)}));var r=[l,n,p];q.length?(q.unshift(r),a.push(q)):a.push(r)}}}if(!b){if(b=x,!b)return;c=""}var d=b.component,e=b===x;if(c+="."+(d?d.$gui.keyid:"undefined"),!d)return void console.log("warning: widget ("+c+") is null.");var j,f={},g=0,h=d.state,i=d.$gui,k=h["data-unit.path"];if(void 0!==k?(j="RefDiv",g=2):(k=h["data-span.path"],void 0!==k&&(j="RefSpan",g=3)),void 0!==k){var l=k?d.props["link.props"]:null;if(l){Object.assign(f,l),d._._htmlText||delete f["html."];var n=f["keyid."];delete f["keyid."],delete f.key,"string"==typeof n&&("$"==n[0]?(n=n.slice(1),n!==parseInt(n)+""&&(f.key=n)):f.key=n);var o=C(d._),p=o[1],q=o[2];p.forEach(function(a){f.hasOwnProperty(a)&&(f[a]=h[a])}),q.forEach(function(a){delete f[a]}),Object.keys(f).forEach(function(a){void 0===f[a]&&delete f[a]}),f.style&&0==Object.keys(f.style).length&&delete f.style,f.$=k,a.push([j,f,g])}}else if(d.props["isReference."]);else{var r=i.keyid,n="string"==typeof r?r:"",o=C(d._),p=o[1],q=o[2],s=o[3],t=o[4],u=Object.keys(s);j=o[0],d.props["childInline."]?g=P(d.props.className,"rewgt-unit")?2:3:P(d.props.className,"rewgt-unit")&&(g=1),Object.assign(f,d.props),p.forEach(function(a){f.hasOwnProperty(a)&&(f[a]=h[a])}),q.forEach(function(a){delete f[a]}),u.forEach(function(a){var b=s[a];void 0===b?"number"!=typeof f[a]&&delete f[a]:Ba(b,f[a])&&delete f[a]}),delete f.children,delete f["hasStatic."],Object.keys(f).forEach(function(a){var b=f[a];void 0===b?delete f[a]:"function"==typeof b&&(delete f[a],D(d.widget)||console.log("warning: can not dump function property ("+a+")"))}),delete f.key,n&&(f.key=n),e&&(delete f.left,delete f.top),f.style&&0==Object.keys(f.style).length&&delete f.style;var v=[];if(!d.props["noSaveChild."]&&void 0===k){var w=!!i.forExpr,y=null,z=w?i.comps2:i.comps;z.forEach(function(a){if(a){if(w)return void E(v,a,g);var f=X(a);if(f){if(e&&"$"==f[0]){if("$pop"==f)return;if("$"==f[1]&&a.props["isTemplate."])return}var h=b[f];if(h)Ca(v,h,c);else if(P(a.props.className,"rewgt-static")){y||(y=F(d));var i=a.props.name,j=[];if(y&&i){var k=y.querySelector('.rewgt-static[name="'+i+'"]');if(k)for(var m,l=0;m=k.children[l];l+=1)j.push(m.outerHTML)}j.length&&v.push(["",{html:j},g])}}}})}if(t)if(v.length)delete f["html."];else{var A=d.state["html."];A&&"string"==typeof A?f["html."]=A:delete f["html."]}else delete f["html."];var B=[j,f,g];v.length?(v.unshift(B),a.push(v)):a.push(B)}}function Fa(a,b,c,d){if(!w||!b)return!1;if(!w.showDesignDlg)return!1;var e=a;if("string"==typeof a&&(e=m.W(a),e=e&&e.component,!e||!e.props))return!1;if(!e)return!1;if(!c){var f=e._._getGroupOpt(e),g=f.tools||[];if(c=g.find(function(a){return a.name===b}),!c||!c.get||!c.set)return!1;c=Object.assign({},c),d||(d=f.baseUrl||"")}var h=c.get(e);return null!==h&&(Ea+=1,Da=[Ea,e,c],w.showDesignDlg(Ea,c,h,d),!0)}function Ga(a,b,c){if(Da&&Da[0]==b){var d=Da[1],e=Da[2];a&&(Da=null),e.set(d,c,a)}}function Ha(a){a.preventDefault()}function Ia(a){if(w){var b=this.widget,c=b&&b.getPath();if(c){var d=F(this);if(d){for(var e="",f=a.target;f&&f!==d;){if(f.classList.contains("rewgt-static")){f.getAttribute("data-marked")||(e=f.getAttribute("name"));break}f=f.parentNode}e&&(a.stopPropagation(),a.preventDefault(),Fa(f,"default",{name:"default",title:"edit content",url:r.appBase()+"/edit_static.html",halfScreen:!0,width:.96,height:.9,clickable:!1,get:function(b){return[b.innerHTML,c,e]},set:function(b,c,d){var e=c[0]||"",f=c[1],g=c[2];if(f&&g){var h=m.W(f);if(h=h&&h.component){var i=F(h),j=null;if(i&&(j=i.querySelector('.rewgt-static[name="'+g+'"]')),j===b){j.innerHTML=e;var k=parseInt(g);if("number"==typeof k){var l=h.$gui,n=l.statics,o=[];n||(n=l.statics={});for(var q,p=0;q=j.children[p];p+=1)o.push(q);if(k>=1048576)n[g]=o;else{for(var r=l.comps.length,s=1048576+l.removeNum+r+"",p=0;p<r;p++){var t=l.comps[p];if(t&&P(t.props.className,"rewgt-static")&&t.props.name===g){l.comps[p]=G(t,{name:s});break}}n[s]=o,j.setAttribute("name",s)}}m.__design__&&w.notifyBackup&&w.notifyBackup("")}}}}},""))}}}}function Ja(a,b,c,d,e){function h(a,b){var c="undefined"==typeof a?"undefined":f(a);if("string"!=c)return k.isValidElement(a)?(g=3,a):"function"==c?(g=2,a):null;var e,h=b?m.$main[b]:null;if(!h&&(e=d[a],e||null===e))return g=0,e;var i,j=a.split("."),l=j.shift();if(0==j.length&&((i=l[0])<"A"||i>"Z"))return g=1,l;for(g=0,e=n[l];e&&(l=j.shift());)e=e[l];return e&&e._extend?h?e=k.createClass(e._extend(h)):d[a]=e=k.createClass(e._extend()):d[a]=e=null,e}function i(a,b,c){for(var d=b.length,e=c;e<d;e++){var g=b[e];if(g){var h="undefined"==typeof g?"undefined":f(g);if("string"!=h)if(k.isValidElement(g))a.push(g);else if("function"!=h){if(Array.isArray(g)&&g.length>=1){var j,l,m=g[0],n=0,o=!1;Array.isArray(m)?(n=g.length-1,j=m[0],l=m[1]):(j=m,l=g[1]),l||(o=!0,l={});var p=!1,q="undefined"==typeof j?"undefined":f(j);if("string"==q){var r=j[0];if(r>="A"&&r<="Z"||j.indexOf(".")>=0){console.log("warning: unknown react class ("+j+")");continue}}else if(k.isValidElement(j))p=!0;else if("function"!=q){console.log("warning: unknown react class");continue}if(n){var s=[];i(s,g,1),p?a.push(G(j,l,s)):a.push(H(j,l,s))}else p?a.push(o?j:G(j,l)):a.push(H(j,l))}}else a.push(H(g));else a.push(g)}}}var j,l,g=0,o=b[0],p=0,q=!1;if(Array.isArray(o)?(p=b.length-1,j=o[0],l=o[1]):(j=o,l=b[1]),l||(q=!0,l={}),!j){var r=l.html||[];if(r.length>0){var s=document.createElement("div");s.innerHTML=r.join("");for(var w,t=[],u=c.push(t)-1,v=0;w=s.children[v];v+=1)t.push(w);return a.push(H("div",{className:"rewgt-static",name:u+""})),!0}return!1}var x="";e&&l.key&&(x=e+"."+l.key);var y="RefDiv"===j||"RefSpan"===j?j:"";if(y)return a.push(H(h(y,x),l)),!1;var z=h(j,x);if(!z){var A="string"==typeof j?" ("+j+")":"";return console.log("warning: can not find template"+A),!1}if(g>0)if(p>0){var B=[];i(B,b,1),3==g?a.push(G(z,l,a)):a.push(H(z,l,B))}else 3==g?a.push(q?z:G(z,l)):a.push(H(z,l));else{var C=[z,l];if(p>0){for(var D,w,E=!1,v=1;w=b[v];v+=1)Array.isArray(w)?Ja(C,w,c,d,x)&&(E=!0):k.isValidElement(w)?C.push(w):"string"==(D="undefined"==typeof w?"undefined":f(w))?C.push(H(Mb,{"html.":w})):"function"==D&&C.push(H(w));E&&(C[1]=Object.assign({},l,{"hasStatic.":!0}))}a.push(H.apply(null,C))}return!1}function Ka(a,b){var c=a.widget;if(c){var d=a.$gui,e=d.cssWidth,f=d.cssHeight,g=!!b;if("number"==typeof e||"number"==typeof f){var h=0;d.comps.forEach(function(a){if(a){var b=X(a),d=b&&c[b];if(d=d&&d.component){if(d.willResizing&&!d.willResizing(e,f,g))return;h||(h=N()),d.setState({parentWidth:e,parentHeight:f,id__:h})}}})}}}function La(a,b,c){function g(){setTimeout(function(){z=!1},300),c&&c()}if(!m.__design__)return void(c&&c());var d=[],e=[],f={};if(Ja(d,b,e,f),1==d.length){z=!0;var h=d[0];l.unmountComponentAtNode(a),a.style.visibility="hidden",a.innerHTML="",setTimeout(function(){o.widgetNum(0),x=null,A=!1,y=!0,B=[],m.$cachedClass=f,m.$staticNodes=e,l.render(h,a,function(){a.style.visibility="visible";var b=m.$main.$$onLoad_;"function"==typeof b&&b(g)})},0)}else c&&c()}function Na(a,b,c){function d(){return new Array(b+1).join("  ")}function v(a){return a.replace(/&/g,"&amp;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}b=b||0;var e,f,g,h=a[0],i=0;Array.isArray(h)?(i=a.length-1,e=h[0],f=h[1],g=h[2]):(e=h,f=a[1],g=a[2]),"number"!=typeof g&&(g=1);var j=d(),k=j;if(!e){var l=f.html||[],m=c<=1?"<div class='rewgt-static'>":"<span class='rewgt-static'>",n=c<=1?"</div>":"</span>";return 0==l.length?k="":1==l.length?k+=m+l[0]+n+"\n":(k+=m+"\n",l.forEach(function(a){k+=j+"  "+a+"\n"}),k+=j+n+"\n"),k}var o=!1,p=!1;"RefDiv"==e?(o=!0,p=f["isPre."],i=0,k+=(p?"<pre $=":"<div $=")+JSON.stringify(f.$||"")):"RefSpan"==e?(o=!0,i=0,k+="<span $="+JSON.stringify(f.$||"")):3==g?k+="<span $="+e:(p=f["isPre."],p&&(i=0),k+=(p?"<pre $=":"<div $=")+e);var q=f.key,r=f["html."];q&&(k+=" key='"+q+"'"),Object.keys(f).forEach(function(a){if("key"!=a&&"html."!=a&&"$"!=a&&"isPre."!=a){var b=f[a];void 0!==b&&(k+=" "+a.replace(Ma,"-$1").toLowerCase()+"=",k+="string"!=typeof b||"$"!=a[0]&&b&&"{"==b[0]&&"}"==b.slice(-1)?"'{"+v(JSON.stringify(b))+"}'":"'"+v(b)+"'")}});var s="";if(i){for(var u,t=1;u=a[t];t+=1)s+=Na(u,b+1,g);k+=3==g?s.startsWith(j+"  ")?">"+s.slice(j.length+2):">"+s:">\n"+s}else k+=">",r&&(k+=p?r:r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"));return k+=p?"</pre>\n":3==g?s&&"\n"==s.slice(-1)?j+"</span>\n":"</span>\n":r||"\n"!=k.slice(-1)?"</div>\n":j+"</div>\n"}function Oa(a,b){var c=a.component;if(!c)return null;for(var d in c.$gui.compIdx){var e=a[d],f=e&&e.component;if(f)if(f.props["isNavigator."]){var g=f.$gui.navItems,h=g&&g[b];if(h&&h.props["isPlayground."])return e}else if(!f.props["childInline."]&&(e=Oa(e,b)))return e}return null}function Pa(a,b){if(!b)return[];var c=X(a),d=c&&b[c];if(d){var e=[];return(d=d.component)?(d.$gui.comps.forEach(function(a){a&&e.push(a)}),e):e}return I(a.props.children)}function Qa(a){var b=a,c=b.indexOf("./"),d=b[0],e=0,f=!1;if(0==c)e=1,b=b.slice(2);else if(1==c&&"."==d)for(e=2,b=b.slice(3);0==(c=b.indexOf("../"));)e+=1,b=b.slice(3);else"."==d?(e=-1,b=b.slice(1)):"/"==d?"/"==b[1]&&b.length>=2?(b=b.slice(2),e=-1,f=!0):(e=-1,b=b.slice(1)):f=!0;return b.indexOf("/")>=0?(o.instantShow("error: invalid reference path ("+a+")."),null):[b,e,f]}function Ra(a,b){function k(a){return a=a&&a.component,a?a:(console.log("warning: can not find widget ("+b+")."),null)}var c=Qa(b);if(!c)return null;var d=c[0],e=c[1],f=c[2];if(f){var g=a.widget,h=g;if(e<0&&(h=g&&g.parent),h)return k(d?h.W(d):h)}else if(e==-1){if(d)return k(m.W(d))}else{for(var g=a.widget;g&&e>0;){var i=g&&g.component;if(i&&i.props["isNavigator."]&&(e-=1,0==e))break;var j=g.parent;if(!j){e-=1,g=m;break}g=j}if(g&&0==e)return k(d?g.W(d):g)}return k(null)}function Sa(a){this.comps={},this.element=a,this.pathSeg=""}function Ta(a,b,c){function j(a,b,c){var d=Qa(b);if(!d)return k(null,b);var e=d[0],f=d[1],g=d[2],h=a instanceof Sa;if(g){if(h)return k(null,b);var i;if(f<0&&(i=a.widget))return void l(i,e,b,!1)}else{if(f==-1)return void l(null,e,b,!1);var i=a;if(h){i=a.element;var j=i.props["hookTo."],n=!1;for(j||(j=i.widget,j=j&&j.parent);i&&f>0&&j;){if(!(j instanceof Sa)){if(Array.isArray(j)){if(c)return k(null,b);i=j.component,n=!0;break}return k(null,b)}if(c){var d=j.comps[c];if(!d)return k(null,b);var o=d[0];if(4==o)c=d[2],c||(i=j.element,c=j.pathSeg,j=i.props["hookTo."],j||(j=i.widget,j=j&&j.parent));else{if(3!=o)return k(null,b);if(f-=1,0==f)return void l(j,e,b,!0,c);c=d[2]}}else i=j.element,c=j.pathSeg,j=i.props["hookTo."],j||(j=i.widget,j=j&&j.parent)}if(!i||!j||!n)return k(null,b)}for(i=i.widget;i&&f>0;){var p=i&&i.component;if(p&&p.props["isNavigator."]&&(f-=1,0==f))break;var q=i.parent;if(!q){f-=1,i=m;break}i=q}if(i&&0==f)return void l(i,e,b,!1)}k(null,b)}function k(g,h){if(!g)return o.instantShow("error: can not find reference ("+h+")."),void c();d?g.props["childInline."]||o.instantShow("warning: reference target ("+h+") should be inline widget."):P(g.props.className,["rewgt-panel","rewgt-unit"])||o.instantShow("warning: reference target ("+h+") should be: panel, div, paragraph.");var i=a.$gui,j=b.slice(1),k=null,l=i.compIdx[b];if("number"==typeof l){k=i.comps[l];var n=i.compIdx[j];"number"!=typeof n?k&&(i.compIdx[j]=l,delete i.compIdx[b],i.removeNum+=1):(l=n,i.removeNum+=1)}if(!k)return o.instantShow("error: invalid linker ("+b+")."),void c();e.unshift(k.props);var p={},q={},r=0;g.props.style&&(Object.assign(q,g.props.style),r+=1);for(var s=e.pop();s;){var t=Y(s);t.style&&(Object.assign(q,t.style),r+=1),Object.assign(p,t),s=e.pop()}r&&(p.style=q),p["hookTo."]=a.widget,d?p["data-span.path"]=f:p["data-unit.path"]=f;var u=k.props.styles;if(u&&(p.styles=u),m.__design__){var v={};p["link.props"]=Object.assign(v,Y(k.props)),u&&(v.styles=u)}var w=parseInt(j),x=w+""===j?w:j;p.key=j,p["keyid."]=x,i.comps[l]=G(g,p),a.setState({id__:N()},function(){var b=a.widget[x];b=b&&b.component,b&&$a(b),c()})}function l(a,b,c,f,g){var h;if(a){if(!b){if(f)return k(a.element,c);var i=a.parent,l=a.component;if(i=i&&i.component,i&&l){var n=i.$gui.compIdx[l.$gui.keyid];if("number"==typeof n)return k(l.fullClone(),c)}return k(null,c)}h=b.split(".")}else{if(!b||f)return k(null,c);if(h=b.split("."),h.length<=1)return k(null,c);if(a=m[h.shift()],!a)return k(null,c)}for(;a&&h.length;){var p=h.shift();if(!p)return k(null,c);var q=null,r=null,s="";if(f){if(m.__design__)return k(null,c);r=a,g?(s=g,h.unshift(p)):s=p}else{if(q=a.component,!q&&(a===m&&(a=m[p],a&&(q=a.component),p=h.shift()),!q||!p))return k(null,c);if((!m.__design__||q.isLibGui)&&q.props["isTemplate."]){if(r=q.$gui.template,!r)return k(null,c);s=p,q=null}}if(r){for(var t=r.comps[s];t;){var u=t[0],v=t[1];if(2==u){if(0!=h.length)break;var w=v.props,x=2==w["isReference."],y=w.$;if(w["hookTo."]===r&&"string"==typeof y){if(y=y.trim(),!y)return k(null,y);if(d!=x&&o.instantShow("warning: reference type ("+c+") mismatch."),"/"==y[0]&&"/"==y[1]){if(y.indexOf("/",2)>=0)return k(null,y);h=s.split("."),h.pop(),s=h.join("."),h=y.slice(2).split("."),s&&(s+="."),s+=h.shift(),t=r.comps[s],e.push(w);continue}return e.push(w),void j(r,y,t[2])}break}if(4==u&&(r=v,v=r.element),0==h.length)return k(v,c);4==u?s=h.shift():s+="."+h.shift(),t=r.comps[s]}return k(null,c)}if(0==h.length){var n=q.$gui.compIdx[p];if("number"==typeof n){var z=a[p];return z=z&&z.component,z?k(z.fullClone(),c):k(null,c)}if(n=q.$gui.compIdx["$"+p],"number"==typeof n){var v=q.$gui.comps[n];if(v&&v.props["isReference."]){var w=v.props,x=2==w["isReference."],y=w.$;if("string"==typeof y)return(y=y.trim())?(d!=x&&o.instantShow("warning: reference type ("+c+") mismatch."),e.push(w),void j(q,y,"")):k(null,y)}}return k(null,c)}a=a[p]}k(null,c)}var g,d=!1,e=[],f="",h=a.$gui.compIdx[b];if(a.widget&&"number"==typeof h&&"$"==b[0]&&(g=a.$gui.comps[h])&&g.props["isReference."]){var i=g.props;2==i["isReference."]&&(d=!0),f=i.$,"string"!=typeof f||0==(f=f.trim()).length?(""!==f&&console.log("warning: load reference ("+b+") failed: invalid path"),c()):f?j(a,f,""):k(null,f)}else console.log("warning: load reference ("+b+") failed."),c()}function Ua(a){function j(a){a.target.style.opacity="0.1"}function k(a){a.target.style.opacity="0"}var b=this.pageIndex=0,c=this.keys=[],d=this.namedPage={};a.forEach(function(a,e){c.push(a[0]+"");var f=a[1],g=e==b?"block":"none";f.state.style.display!==g&&(f.duals.style={display:g});var h=f.props.name;h&&"string"==typeof h&&(d[h]=e)});var e=window.innerWidth,f=Math.max(Math.floor(e/20),20),g=document.createElement("div");g.setAttribute("style","position:absolute; left:0px; top:0px; width:"+f+"px; height:100%; background-color:#000; opacity:0; z-index:3000;"),document.body.appendChild(g);var h=document.createElement("div");h.setAttribute("style","position:absolute; right:0px; top:0px; width:"+f+"px; height:100%; background-color:#000; opacity:0; z-index:3000;"),document.body.appendChild(h),this.leftPanel=g,this.rightPanel=h;var i=this;g.onclick=function(a){i.prevPage()},h.onclick=function(a){i.nextPage()},g.onmouseover=j,g.onmouseout=k,h.onmouseover=j,h.onmouseout=k}function Va(){var a=[],b=x&&x.component;return b&&(b.$gui.comps||[]).forEach(function(b){if(b){var c=X(b),d=c&&x[c];d=d&&d.component,d&&d.props["isScenePage."]&&(!m.__design__&&d.props.noShow||a.push([c,d]))}}),a}function Ya(a,b,c,d){if("number"!=typeof d)return null;var e,f,g=d,h=a.$gui;if(a.state?(e=a.state.sizes,f=parseFloat(a.state.cellSpacing)||0):(e=a.props.sizes,f=parseFloat(a.props.cellSpacing)||0),Array.isArray(e)){for(var i=e.length,j=0;j<i;j++){var k=e[j];if("number"!=typeof k)return null;k>=0&&(g-=k>=1?k:k>=.9999?d:k*d)}return g-=f*(i+1),g<0?null:g}for(var l=h.comps,i=l.length,j=0;j<i;j++){var m=l[j];if(m&&!m.props["isReference."]){var k,n=X(m),o=n&&b[n];if(o=o&&o.component,k=o&&o.state?c?o.state.width:o.state.height:c?m.props.width:m.props.height,"number"!=typeof k)return null;k>=0&&(g-=k>=1?k:k>=.9999?d:k*d)}}return g-=f*(1+i),g<=0?null:g}function Za(a){a.popDesigner=Fa,a.saveDesigner=Ga,a.dumpTree=Ca,a.loadTree=La,a.streamTree=Na,a.listScenePage=Va,a.keyOfNode=function(a){return L(a)},a.splitterMouseDn=function(){return C}}function $a(a,b){var c=F(a);if(c){for(var g,d=[],e=c.querySelectorAll(".rewgt-static"),f=0;g=e[f];f++){for(var h=g.parentNode,i=!1;h&&h!==document;){if(h===c){i=!0;break}if(h.classList.contains("rewgt-static"))break;h=h.parentNode}if(i){var j=g.getAttribute("name")||void 0,k=j&&parseInt(j);if(!isNaN(k)){if(g.children.length>0){if(!(b&&k>=1048576))continue;g.innerHTML=""}d.push([k,j,g])}}}for(var g,f=0;g=d[f];f++){var l,k=g[0],j=g[1],n=g[2],o=k>=1048576;if(o){var p=a.$gui.statics;l=p&&p[j]}else l=m.$staticNodes[k];if(Array.isArray(l))for(var r,q=0;r=l[q];q++)n.appendChild(o?r:r.cloneNode(!0))}}}function _a(a,b,c){function d(){c&&c()}var e=a.widget;if(!e)return d();var f=!1,g=a.$gui,h=g.cssWidth,i=g.cssHeight,j=g.useSparedX;if(j){var k=Ya(a,e,!0,h);g.sparedX!==k?(g.sparedX=k,"number"==typeof k&&(f=!0)):b&&(f=!0)}else if(g.useSparedY){var l=Ya(a,e,!1,i);g.sparedY!==l?(g.sparedY=l,"number"==typeof l&&(f=!0)):b&&(f=!0)}if(!f)return d();if("number"!=typeof h&&"number"!=typeof i)return d();var m=[];g.comps.forEach(function(a){if(a){var b=X(a);if(b){var c=e[b];if(c=c&&c.component){var d=j?c.state.width:c.state.height;"number"==typeof d&&d<0&&m.push(c)}}}}),m.length&&setTimeout(function(){var a=o.dragInfo.inDragging;m.forEach(function(b){b.willResizing&&!b.willResizing(h,i,a)||b.setState({parentWidth:h,parentHeight:i,id__:N()})})},0),d()}function ab(a,b){var c=!1;if(a){var d="undefined"==typeof a?"undefined":f(a);if("string"==d)a=[a],c=!0;else if("object"==d)if(Array.isArray(a)){var e;"string"==typeof a[0]&&"object"==f(e=a[1])&&"string"!=typeof e.$trigger&&(a=[a]),c=!0}else"string"==typeof a.$trigger&&(a=[a],c=!0)}if(!c)throw new Error("invalid trigger data (key="+this.$gui.keyid+")");this.state.trigger=a}function db(a,b){function c(a,b,c){for(var d=[],e=[],f=b.length-1;f>=0;f--){var g=b[f];if(Array.isArray(g)){var h=g[0],i=g[1];if(h&&"string"==typeof h&&i)if("string"==typeof i)i=g[1]=H(qb,{key:h,"keyid.":h,"html.":i}),d.unshift(h),e.unshift(i);else if(k.isValidElement(i))i.props["keyid."]!==h&&(i=g[1]=G(i,{key:h,"keyid.":h})),d.unshift(h),e.unshift(i);else{if(Array.isArray(i)&&i[0]&&(i=o.loadElement(i))){i.props["keyid."]!==h&&(i=G(i,{key:h,"keyid.":h})),g[1]=i,d.unshift(h),e.unshift(i);continue}b.splice(f,1)}else b.splice(f,1)}}if(!m.__design__){for(var j=[],f=c.length-1;f>=0;f--){var g=c[f],h=g[0];d.indexOf(h)<0&&j.unshift("-"+h)}j=j.concat(e),j.length&&setTimeout(function(){a.setChild.apply(a,j)},0)}}Array.isArray(a)&&c(this,a,b)}function nb(a,b){var c=function(a){function c(a,d){return i(this,c),g(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a||b,d))}return h(c,a),e(c,[{key:"getDefaultProps",value:function(){var e=d(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"getDefaultProps",this).call(this);return e["tagName."]=b.toLowerCase(),e}}]),c}(a);return c}function Qb(a){a.stepPlay=function(a){if(this.isHooked){var b=F(this);if(b&&b.readyState>=2)return b.play(),!0}return!1},a.stepPause=function(a){if(this.isHooked){var b=F(this);if(b)return b.paused||b.pause(),!0}return!1},a.stepIsDone=function(){if(!this.isHooked)return!0;var a=F(this);return!a||a.readyState<2||a.paused}}function _b(a,b,c){function i(b,c){if(b||0===b){var d=a.widget;if(d=d&&d[b],d=d&&d.component,d&&d.navWillLeave){var e=d.navWillLeave();if(!e||"string"==typeof e&&!window.confirm(e))return!0}}return!1}if(b){var d=a.$gui,e=d.navSubkey,f=a.state.checkedId;if(d.navItems[b]){if(!i(f,b))return a.state.checkedId=b,void a.reRender(c)}else if(e){var g=a.widget,h=g&&g[e];if(h=h&&h.component,h&&h.props["isNavigator."]&&!i(f,b))return a.state.checkedId=b,void h.fireChecked(b,c)}a.state.checkedId=b}c&&c()}function cc(a,b){if(xa(a),a.hideThis)return null;var c=a.widget;c=c&&c.parent;var d=!1,e=void 0,f=c&&c.component;f&&f.props["isNavigator."]&&(e=f.state.checkedId||"",d=!0);var g=a.prepareState(),h=Object.assign({},a.state.style);d&&(e&&e==a.$gui.keyid?h.display="block":h.display="none"),g.length||2!=b||(g=a.state["html."]||null);var i=$(a,h);return H("div",i,g)}function fc(a){var b=a.widget;for(b=b&&b.parent;b;){var c=b.component;if(!c)break;if(c.props["isNavigator."])return c;b=b.parent}return null}function gc(a,b,c,d){if("string"==typeof b.path&&(b.state||(b.state={opened:!1}),c?(delete c.state,b=Object.assign({},b,c)):b=Object.assign({},b),!b.state.opened)){var e=b.path;e||(e="./"+this.$gui.keyid);var f=a.componentOf(e);if(f=f&&f.fullClone())return void o.popWin.showWindow(f,b,function(){a.duals["data-checked"]="1",d(!0)},a);o.instantShow("warning: can not locate popup window ("+e+").")}d(!1)}function hc(a,b){if(b||(b=a.findNavOwner()),b){var c=a.$gui.keyid,d=b.listOptComp();d.forEach(function(b){b!==a&&b.clearChecked&&b.$gui.keyid!==c&&b.clearChecked()})}}function ic(a,b,c,d){function i(){g&&(hc(a,h),a.fireTrigger()),b&&b()}var e=a.state.popOption;if(e){if(!e.state||!e.state.opened)return void gc(a,e,c,function(a){b&&b()});if(!d)return}if(!a.state["data-checked"])return a.duals["data-checked"]="1",void(b&&setTimeout(function(){b()},0));var f=a.state.recheckable;f&&(a.state.recheckable=!1,setTimeout(function(){a.state.recheckable=!0},300));var g=!1,h=null;if(a.state.isolated)return(d||f)&&(g=!0),void i();if(h=a.findNavOwner()){var j=a.$gui.keyid+"";if((h.state.checkedId!==j||d||f)&&(!h.canNavigateTo||h.canNavigateTo(j)))return(d||f)&&(g=!0),void _b(h,j,i)}i()}function jc(a,b){b.isolated=!1,a.defineDual("isolated",function(a,b){this.state.isolated="false"!==a&&"0"!==a&&!!a}),b.recheckable=!1,a.defineDual("recheckable",function(a,b){this.state.recheckable="false"!==a&&"0"!==a&&!!a}),a.defineDual("popOption"),b["data-checked"]="",a.defineDual("data-checked",function(b,c){var d="false"!==c&&"0"!==c&&c?"1":"",e="false"!==b&&"0"!==b&&b?"1":"";d!=e?e?(a.state["data-checked"]=e,setTimeout(function(){a.setChecked(null,void 0,!0)},0)):a.state["data-checked"]=e:a.state["data-checked"]=d})}function kc(a,b){var c='[string]: "" or "1"';return a["data-checked"]=[b+1,"string",null,c],a.isolated=[b+2,"string",null,c],a.recheckable=[b+3,"string",null,c],a.trigger=[b+4,"string",null,"[string]: [sPath,{trigger,pop_option},[sPath,modifier], ...]"],a.popOption=[b+5,"object",null,"[object]: {path:bodyElePath}"],a}function tc(a,b){function i(a,b,c,d){var e=c[0],f=c[1],g=4==e?f.element.props.children:f.props.children;if(g){var h=d;3==e?h=b:4==e&&(a=f,h=b,b=""),k.Children.forEach(g,function(c,d){var e=c.props["keyid."];if(!e&&0!==e){var f=X(c);if(f){var g=parseInt(f);e=g+""===f?g:f}else e=d}var j=e+"",k=1,l=G(c,{"keyid.":e,key:j,"hookTo.":a}),m=b?b+"."+j:j;c.props["isTemplate."]?(k=4,l=new Sa(l),l.pathSeg=m):c.props["isNavigator."]?k=3:c.props["isReference."]&&(k=2);var n=[k,l,h];a.comps[m]=n,2!=k&&i(a,m,n,h)})}}var c=X(b);if(!c)return!1;var f,d=parseInt(c),e=d+""===c?d:c,g=1;if(b.props["isReference."]){if(g=2,"$"==c[0]){c=c.slice(1);var d=parseInt(c);d+""==c&&(e=d)}f=G(b,{"hookTo.":a,"keyid.":e,key:c})}else f=G(b,{"hookTo.":a,"keyid.":e,key:c}),b.props["isTemplate."]?(g=4,f=new Sa(f),f.pathSeg=c):b.props["isNavigator."]&&(g=3);var h=[g,f,""];return a.comps[c]=h,2!=g&&i(a,c,h,""),!0}function uc(a){var b=a.widget,c=null;if(b=b&&b.parent){var d=b.component;if(d){var e=d.$gui.compIdx[a.$gui.keyid];if("number"==typeof e){var f=d.$gui.comps[e];f&&(c=new Sa(f))}}}if(!c)return!1;a.$gui.template=c;for(var g=a.$gui.comps,h=g.length,i=0;i<h;i++){var j=g[i];j&&tc(c,j)}return!0}function vc(a){var b="";if(a.forExpr?(b="for",a.forExpr=0):a.flowFlag&&(b=a.flowFlag,a.flowFlag=""),b){console.log("error: can not use '$"+b+"' in template widget");var c=a.exprAttrs.indexOf(b);c>=0&&a.exprAttrs.splice(c,1)}}function wc(a,b){if(!b)return null;var c=b[0];if("."!=c&&"/"!=c){var d=a.$gui.template;if(!d)return null;for(var e=b.split("."),f=e.shift(),g=d.comps[f];g;){var h=g[0],i=g[1];if(2==h)return 0==e.length?i:null;if(4==h){if(0==e.length)return null;d=i,i=d.element,f=e.shift(),g=d.comps[f]}else{if(0==e.length)return i;f+="."+e.shift(),g=d.comps[f]}}}else{var j=b.lastIndexOf("./");if(j>=0){var k=a.componentOf(b.slice(0,j+2));return k?k.elementOf(b.slice(j+2)):null}if("."==c){if(j=b.indexOf(".",1),j>1){var l=m.W(b.slice(0,j)),k=l&&l.component;if(k)return k.elementOf(b.slice(j+1))}}else if("/"==c&&"/"==b[1]){var n=a.parentOf();return n?n.elementOf(b.slice(2)):null}}return null}function Gc(a){a.stopPropagation()}function Lc(){function a(b,c){Object.keys(b).forEach(function(d){if(d&&"_"!=d[d.length-1]){var e=b[d];if("object"==("undefined"==typeof e?"undefined":f(e)))if(e.getDefaultProps){var g=e.getDefaultProps(),h=1;g["childInline."]&&(h=P(g.className||"","rewgt-unit")?2:3),3!=h&&(Jc[c+d]=h),g["isPre."]&&(Kc[c+d]=!0)}else a(e,c+d+".")}})}return Jc||(Jc={},Kc={},a(n,"")),[Jc,Kc]}function Mc(a,b){for(var f,c=[],d=[],e=0;f=a.children[e];e++){var g=r.scanNodeAttr(f,b,e);if(g){var j=g[0],k=g[1];if("RefDiv"==j)c.push(H(Bc,k));else if("RefSpan"==j)c.push(H(Dc,k));else{var l,n=j.split(".");if(1==n.length&&(l=j[0])>="a"&&l<="z"){var o=k["html."]||null;delete k["html."],delete k["isPre."],c.push(H(s,k,o))}else{var p=ba(j),q=n.pop(),s=p[q],t=b+"["+e+"]."+j;if(!s){console.log("error: can not find WTC ("+t+")");continue}var u=f.nodeName,v=[];"DIV"!=u&&"SPAN"!=u||(v=Mc(f,t)),v.unshift(s,k),c.push(H.apply(null,v))}}}else if(f.classList.contains("rewgt-static"))for(var i,h=0;i=f.childNodes[h];h++)d.push(i);else d.push(f)}if(0==c.length&&d.length){var w=m.$staticNodes.push(d)-1;c.push(H("div",{className:"rewgt-static",name:w+"","data-marked":"1"}))}return c}function Oc(a,b,c){function k(b){d.removeNum+=d.comps.length,d.compIdx={},d.comps=[],d.statics={},e&&(a.firstScan=!0,a.cellKeys={},a.cellStyles={});for(var j,f=[],g=[],h=0;j=b.children[h];h++){var k=j.getAttribute("$"),m=j.nodeName;if(!k||"PRE"!=m&&"DIV"!=m){if(!k)if(e)if(i.length&&(l(d,i),i=[]),"HR"==m){var I=H("hr",{"markedRow.":!0});d.comps.push(I),e&&(f.push(g),g=[])}else i.push(j);else i.push(j)}else{i.length&&(l(d,i),i=[]);var n=r.scanNodeAttr(j,"",0),o=n&&n[0];if(!n||"RefSpan"===o){console.log("error: invalid node (<"+m+" $="+k+">)");continue}var t,p=n[1],q="RefDiv"!=o,s=!1,u=null,v=null;if(q){var w,x=o.split(".");if(1==x.length&&(w=o[0])>="a"&&w<="z")s=!0,t=o;else{var z=ba(o),A=x.pop();if(t=z[A],!t){console.log("error: can not find WTC ("+o+")");continue}t.defaultProps&&!P(t.defaultProps.className||"",["rewgt-panel","rewgt-unit"])&&(u=t,v=p,t=qb,p={})}}else t=Bc;var C,D=d.comps.length,E=p.key,F="",G="";E&&"string"==typeof E&&0!=E.search(Nc)?(F=G=E,q||"$"==E[0]||(E="$"+E),C=E):(G=C="auto"+(D+d.removeNum),E=q?C:C="$"+C);var I;if(s){p.key=E;var J=p["html."]||null;delete p["html."],delete p["isPre."],I=H(t,p,J)}else{Object.assign(p,{"hookTo.":a.widget,"keyid.":C,key:E}),q||(p.style?p.style.display="":p.style={display:""});var K=[];"DIV"==m&&(K=Mc(j,"["+h+"]."+o)),u&&(K.unshift(u,v),K=[H.apply(null,K)]),K.unshift(t,p),I=H.apply(null,K)}d.compIdx[E]=D,d.comps.push(I),F&&(e?f[F]=I:g[F]=I),g.push([G,I]),y&&!q&&B.push([a,E])}}i.length&&l(d,i),e?g.length&&f.push(g):f=g,c&&setTimeout(function(){c(!0,f)},0)}function l(a,b){if(!f){var c=a.comps.length,d=1048576+a.removeNum+c+"",e=c+a.removeNum,g=e+"",h={className:"rewgt-static",name:d,key:g};a.compIdx[g]=c,a.comps.push(H("div",h)),a.statics[d]=b}}var d=a.$gui,e=a.props["markedTable."],f=a.props.noShow;try{var g=o.marked(b),h=document.createElement("div"),i=[];h.innerHTML=g;var j=[];d.comps.forEach(function(a){if(a&&a.props["hookTo."]){var b=X(a);b&&j.push("-"+b)}}),j.length&&a.isHooked?a.setChild(j,function(){k(h)}):k(h)}catch(a){console.log(a),c&&c(!1)}}var d=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k=window.React||a("react"),l=window.ReactDOM||a("react-dom"),m=a("./react_widget"),n=m.$templates,o=m.$utils,p=m.$ex,q=m.$idSetter,r=m.$creator;!function(a){var b=a.pathname.split("/");b[0]||b.shift(),r.repoName=b.shift()||"";var c=a.hostname;r.isLocal="localhost"==c||"127.0.0.1"==c,r.isGithub=c.indexOf(".github.io")>0,r.appBase=function(){return"/app/files/rewgt/web"}}(window.location),o.version=function(){return"0.1.0"};var s=function(a){var b=a.match(/trident.*rv[ :]*([\d.]+)/);
if(b){if(parseFloat(b[1])>=11)return["ie",b[1]]}else{if(b=a.match(/firefox\/([\d.]+)/))return["firefox",b[1]];if(b=a.match(/chrome\/([\d.]+)/))return["chrome",b[1]];if(b=a.match(/opera.([\d.]+)/))return["opera",b[1]];if(b=a.match(/safari\/([\d.]+)/))return["safari",b[1]];if(b=a.match(/webkit\/([\d.]+)/))return["webkit",b[1]]}return a.match(/msie ([\d.]+)/)?["ie",""]:["",""]}(window.navigator.userAgent.toLowerCase());o.vendorId=s;var t=/[^A-Za-z0-9\+\/\=]/g,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",v=o.Base64={encode:function(b){var c,d,e,f,g,h,i,j="",k=0;for(b=v._utf8_encode(b);k<b.length;)c=b.charCodeAt(k++),d=b.charCodeAt(k++),e=b.charCodeAt(k++),f=c>>2,g=(3&c)<<4|d>>4,h=(15&d)<<2|e>>6,i=63&e,isNaN(d)?h=i=64:isNaN(e)&&(i=64),j=j+u.charAt(f)+u.charAt(g)+u.charAt(h)+u.charAt(i);return j},decode:function(b){var c,d,e,f,g,h,i,j="",k=0;for(b=b.replace(t,"");k<b.length;)f=u.indexOf(b.charAt(k++)),g=u.indexOf(b.charAt(k++)),h=u.indexOf(b.charAt(k++)),i=u.indexOf(b.charAt(k++)),c=f<<2|g>>4,d=(15&g)<<4|h>>2,e=(3&h)<<6|i,j+=String.fromCharCode(c),64!=h&&(j+=String.fromCharCode(d)),64!=i&&(j+=String.fromCharCode(e));return j=v._utf8_decode(j)},_utf8_encode:function(b){for(var c="",d=0;d<b.length;d++){var e=b.charCodeAt(d);e<128?c+=String.fromCharCode(e):e>127&&e<2048?(c+=String.fromCharCode(e>>6|192),c+=String.fromCharCode(63&e|128)):(c+=String.fromCharCode(e>>12|224),c+=String.fromCharCode(e>>6&63|128),c+=String.fromCharCode(63&e|128))}return c},_utf8_decode:function(b){for(var c,d,e,f=0,g="";f<b.length;)c=b.charCodeAt(f),c<128?(g+=String.fromCharCode(c),f++):c>191&&c<224?(d=b.charCodeAt(f+1),g+=String.fromCharCode((31&c)<<6|63&d),f+=2):(d=b.charCodeAt(f+1),e=b.charCodeAt(f+2),g+=String.fromCharCode((15&c)<<12|(63&d)<<6|63&e),f+=3);return g}},w=null,x=null,y=!0,z=!1,A=!1,B=[],C=!1,D="",E=null,F=l.findDOMNode,G=k.cloneElement,H=k.createElement,I=k.Children.toArray,J={$:!0,styles:!0,"tagName.":!0,"isReference.":!0,"hookTo.":!0,width:!0,height:!0,className:!0,"childInline.":!0},K=["for","if","elif","else"];o.keyOfNode=function(a){return L(a)},o.dragInfo={inDragging:!1,justResized:!1};var M=4;o.identicalId=N,o.classNameOf=O,o.hasClass=function(a,b){return P(O(a),b)},o.addClass=function(a,b){for(var c=a.state.klass||"",d=" "+(a.$gui.className||"")+" "+c+" ",e="",f=Array.isArray(b)?b:String(b).split(/ +/),g=f.length,h=0;h<g;h++){var i=f[h];i&&d.indexOf(" "+i+" ")<0&&(e+=" "+i)}return!!e&&(c?a.duals.klass+=e:a.duals.klass=e.slice(1),!0)},o.removeClass=function(a,b,c){var d=a.state.klass||"",e=S(a.$gui.className||"",d,b,c);return d!==e&&(a.duals.klass=e,!0)},o.setClass=T;var U=["S1","S2","S3","S4","S5","S6"];r.mergeClass=function(a,b,c){var d=V(c),e=d[0],f=d[1];return S(a,b,e,f)},o.mergeClass=function(a,b){var c=V(b),d=c[0],e=c[1];return o.removeClass(a,d,e)};var W=/^(\.\$)+/g;o.keyOfElement=X,o.getWdgtType=Z,o.eachElement=function(a,b){b&&a.$gui.comps.forEach(function(a,c){a&&b(a,c)})},o.setElement=function(a,b,c){a.$gui.comps[b]=c},o.eachComponent=function(a,b){if(b){var c=a.widget;c&&a.$gui.comps.forEach(function(a,d){if(a){var e=X(a),f=e&&c[e],g=f&&f.component;g&&b(g,d)}})}},o.setupRenderProp=$,o.fireTrigger=function(a){arguments.length>=2?_(void 0,a,arguments[1]):_(void 0,a)},o.setChildren=function(a,b,c){if(Array.isArray(b)){for(var d=[],e=b.length,f=0;f<e;f++){var g=b[f];Array.isArray(g)?Ja(d,g,m.$staticNodes,m.$cachedClass):"string"==typeof g?d.push(H(a.props["childInline."]?Mb:qb,{"html.":g})):k.isValidElement(g)&&d.push(g)}var h=a.$gui,i=0,j=0;if(d.forEach(function(a,b){if(a){var c,e=X(a);if(!e)return void(j+=1);if("number"==typeof h.compIdx[e])return void(i+=1);var f=parseInt(e);c=f+""==e?f:e,d[b]=G(a,{"keyid.":c,key:e})}}),h.removeNum+=Math.max(0,h.comps.length-i)+j,h.comps=d,h.inSync)c&&setTimeout(function(){c()},0);else if(h.compState>=2){var l=a.state.id__===M?N():M;a.setState({id__:l},c)}else setTimeout(function(){var b=a.state.id__===M?N():M;a.setState({id__:b},c)},0)}},o.getWTC=ba;var ca={ie:"ms",firefox:"Moz",opera:"O",chrome:"Webkit",safari:"Webkit",webkit:"Webkit"};p.regist("vendor",function(){return ca[s[0]]||""}),p.regist("vendorId",function(){return"-"+(ca[s[0]]||"").toLowerCase()+"-"}),p.regist("__design__",function(){return parseInt(m.__design__||0)}),p.regist("__debug__",function(){return parseInt(m.__debug__||0)}),p.regist("time",function(a){var b;return b=a?new Date(a):new Date,b.valueOf()}),p.regist("isFalse",function(a){return!a}),p.regist("isTrue",function(a){return!!a}),p.regist("parseInt",function(a){return parseInt(a)}),p.regist("parseFloat",function(a){return parseFloat(a)}),p.regist("escape",function(a){return escape(a)}),p.regist("unescape",function(a){return unescape(a)}),p.regist("evalInfo",function(){var a=void 0,b=this.component;if(!b)return a;var c=b.widget,d=c&&c.$callspace;if(d&&(a=d.exprSpace.$info,d.forSpace)){var e=d.forSpace.exprSpace.$info;a?e&&e[2]>=a[2]&&(a=e):a=e}return a}),p.regist("tagValue",function(a){if("object"!=("undefined"==typeof a?"undefined":f(a)))return a;var b,c=Object.assign({},a),d=c.$set;if(d){if("object"!=("undefined"==typeof d?"undefined":f(d)))return a;d=c.$set=Object.assign({},d)}else{if(d=c.$merge,!d)return b=p.time(),Object.keys(c).forEach(function(a){if("$"!=a[0]){var d=c[a];if("object"==("undefined"==typeof d?"undefined":f(d))){d=c[a]=Object.assign({},d);var e=d.$set;if(e){if("object"!=("undefined"==typeof e?"undefined":f(e)))return;e=d.$set=Object.assign({},e),e.time=b}else if(e=d.$merge){if("object"!=("undefined"==typeof e?"undefined":f(e)))return;e=d.$merge=Object.assign({},e),e.time=b}else d.hasOwnProperty("value")&&(d.time={$set:b})}}}),c;if("object"!=("undefined"==typeof d?"undefined":f(d)))return a;d=c.$merge=Object.assign({},d)}return b=p.time(),Object.keys(d).forEach(function(a){if("$"!=a[0]){var c=d[a];"object"==("undefined"==typeof c?"undefined":f(c))&&(c.time=b)}}),c}),p.regist("tagFired",function(){var a=arguments.length;if(a<2)return"";var b,c=arguments[0];for(b=1;b<a;b++){var d=c[arguments[b]];if(!d||!d.time)return""}for(b=1;b<a;b++)c[arguments[b]].time=0;return"true"}),p.regist("setChecked",function(a,b){var c=this.evalInfo(),d=c&&c[0];if(d){var e=Ra(d,a);e&&e.props["isOption."]&&e.setChecked(null,b)}}),p.regist("setVar",function(a,b){if(!a||"string"!=typeof a)return b;var c=this.component,d=da(this,c);return d?d[a]=b:console.log("warning: invalid callspace for ex.setVar("+a+")"),b}),p.regist("log",function(){var a=this.evalInfo(),b="";if(a)try{var c=a[0],d=c&&c.widget;d&&(b=d.getPath()+":"+a[1])}catch(a){}var e,f=arguments.length;if(e=b?"ex("+b+")>":"ex>",f<=0)return void(b&&console.log(e));for(var g=0;g<f;g++)e+=" "+arguments[g];console.log(e)}),p.regist("map",function(a,b){if(!Array.isArray(a))return[];var c=a.length;if(!c)return[];if(!b||"string"!=typeof b)return a.slice(0);var d=la(b,null,"map");if(!d)return[];61==d[0]&&(d=d[1][2]);var e=this.component,f=da(this,e);f?ra(d,[]):f={};var g=[];f.$count=c;for(var h=0;h<c;h++){f.$item=a[h],f.$index=h;try{g.push(ka(d,f))}catch(a){console.log("error: run map() failed ($index="+h+")"),console.log(a)}}return delete f.$item,delete f.$index,delete f.$count,g}),p.regist("filter",function(a,b){if(!Array.isArray(a))return[];var c=a.length;if(!c)return[];b&&"string"==typeof b||(b="$item !== null");var d=la(b,null,"filter");if(!d)return[];61==d[0]&&(d=d[1][2]);var e=this.component,f=da(this,e);f?ra(d,[]):f={};var g=[];f.$count=c;for(var h=0;h<c;h++){var i=f.$item=a[h];f.$index=h;try{ka(d,f)&&g.push(i)}catch(a){console.log("error: run filter() failed ($index="+h+")"),console.log(a)}}return delete f.$item,delete f.$index,delete f.$count,g}),p.regist("order",function(a){function j(a,b){for(var c,d=a,e=0;(c=b[e++])&&d;)d=d[c];return d}if(!Array.isArray(a))return a;var b,c=null,d=arguments.length,e=!0;d>=2&&(b=arguments[d-1],"number"==typeof b?(b<0&&(e=!1),d-=1):2==d&&Array.isArray(b)&&(c=b,d=c.length,d>=1&&"number"==typeof(b=c[d-1])&&(b<0&&(e=!1),d-=1)));var f=[];if(c)for(var g=0;g<d;g++)b=c[g],b&&"string"==typeof b&&f.push(b.split("."));else for(var g=1;g<d;g++)b=arguments[g],b&&"string"==typeof b&&f.push(b.split("."));var h=f.length,i=a.slice(0);return h?i.sort(function(a,b){for(var d,c=0;d=f[c];c++){var g=j(a,d),h=j(b,d);if(g!==h)return g>h?e?1:-1:e?-1:1}return 0}):i.sort(function(a,b){return e?a===b?0:a>b?1:-1:a===b?0:a>b?-1:1})}),p.regist("jsonp",function(a,b){var c=this.evalInfo(),d=null,e="";return c&&(d=c[0],e=c[1],b&&d&&d.duals.hasOwnProperty(e)&&void 0===d.state[e]&&(d.duals[e]=b)),a=Object.assign({},a),a.callback=function(a){d&&e&&d.duals.hasOwnProperty(e)&&(d.duals[e]=a)},o.jsonp(a),d&&e?d.state[e]:void 0}),p.regist("ajax",function(a,b){var c=this.evalInfo(),d=null,e="";return c&&(d=c[0],e=c[1],b&&d&&e&&d.duals.hasOwnProperty(e)&&void 0===d.state[e]&&(d.duals[e]=b)),a.success=function(a){d&&e&&d.duals.hasOwnProperty(e)&&(d.duals[e]={status:"success",data:a})},a.error=function(a,b){d&&e&&d.duals.hasOwnProperty(e)&&(d.duals[e]={status:b||"error",data:null})},o.ajax(a),d?d.state[e]:void 0}),ea.defunct=function(a){throw new Error("Unexpected character ("+a+") at offset ("+(this.index-1)+")")};var fa=new ea,ga=[];fa.addRule(/\s+/,function(a){return ha(a,1,-1)}).addRule(/[0-9]+(?:\.[0-9]+)?\b/,function(a){return ha(a,2,-1)}).addRule(/[_$A-Za-z](?:[_$A-Za-z0-9]+)?/,function(a){return ha(a,3,-1)}).addRule(/(?:"((?:\\.|[^"])*)"|'((?:\\.|[^'])*)')/,function(a){return ha(a,4,-1)}).addRule(/[?]/,function(a){return ha(a,5,4)}).addRule(/[:]/,function(a){return ha(a,6,-1)}).addRule(/[,]/,function(a){return ha(a,7,-1)}).addRule(/[{]/,function(a){return ha(a,8,-1)}).addRule(/[}]/,function(a){return ha(a,9,-1)}).addRule(/[\[]/,function(a){return ha(a,10,-1)}).addRule(/[\]]/,function(a){return ha(a,11,-1)}).addRule(/[(]/,function(a){return ha(a,12,-1)}).addRule(/[)]/,function(a){return ha(a,13,-1)}).addRule(/[.]/,function(a){return ha(a,14,18)}).addRule(/[*]/,function(a){return ha(a,14,14)}).addRule(/[\/]/,function(a){return ha(a,14,14)}).addRule(/[%]/,function(a){return ha(a,14,14)}).addRule(/[+]/,function(a){return ha(a,14,13)}).addRule(/[-]/,function(a){return ha(a,14,13)}).addRule(/[>]{3}/,function(a){return ha(a,14,12)}).addRule(/[>]{2}/,function(a){return ha(a,14,12)}).addRule(/[<]{2}/,function(a){return ha(a,14,12)}).addRule(/[<][=]/,function(a){return ha(a,14,11)}).addRule(/[<]/,function(a){return ha(a,14,11)}).addRule(/[>][=]/,function(a){return ha(a,14,11)}).addRule(/[>]/,function(a){return ha(a,14,11)}).addRule(/[=]{3}/,function(a){return ha(a,14,10)}).addRule(/[!][=]{2}/,function(a){return ha(a,14,10)}).addRule(/[=]{2}/,function(a){return ha(a,14,10)}).addRule(/[!][=]/,function(a){return ha(a,14,10)}).addRule(/[&]{2}/,function(a){return ha(a,14,6)}).addRule(/[&]/,function(a){return ha(a,14,9)}).addRule(/[\^]/,function(a){return ha(a,14,8)}).addRule(/[|]{2}/,function(a){return ha(a,14,5)}).addRule(/[|]/,function(a){return ha(a,14,7)}).addRule(/$/,function(a){return ha(a,20,-1)});var ia=[2,3,4,9,11,13,31,32,33,34,35,36,37,38,39,40,41,42,43],oa=1,qa=["props","state","duals","item","count","index"],ta=0;o.syncProps=xa,o.popWin={showWindow:function(b,c,d,e){if(m.__design__&&(y||z))return void(d&&d());var f=x&&x.$pop,g=f&&f.component;if(g&&b){if(!P(b.props.className,["rewgt-panel","rewgt-unit"]))return void o.instantShow("error: only panel, div, paragraph can use as popup window.");var h=c.frameElement||null;!h&&e&&(h=ya(e,c));var i=void 0;e&&e.props["isOption."]&&e.state.hasOwnProperty("data-checked")&&(i=e.state["data-checked"]),g.setChild(H(Ic,{popOption:c,popFrame:h},b),function(){m.__design__&&(w&&w.setDesignModal&&w.setDesignModal(!0),void 0!==i&&e&&setTimeout(function(){e.state["data-checked"]=i},300)),d&&d()})}},listWindow:function(){var b=x&&x.$pop,c=b&&b.component;if(!c)return[];var d=[],e=c.$gui.comps;return e.forEach(function(a){if(a){var b=X(a);if(b){var c=parseInt(b);c+""===b&&(b=c),d.push([b,a.props.popOption])}}}),d},closeAll:function(b){function c(){b&&b()}var d=x&&x.$pop,e=d&&d.component;if(!e)return c();var f=[],g=e.$gui.comps;g.length-1;return e.$gui.comps.forEach(function(a){if(a){var b=X(a);b&&f.unshift("-"+b)}}),f.length?(f.push(c),void e.setChild.apply(e,f)):c()},popWindow:function(b){var c=x&&x.$pop,d=c&&c.component;if(d){for(var e=null,f=d.$gui.comps,g=f.length-1;g>=0;){var h=f[g],i=h&&X(h);if(i&&(h=c[i],h&&(e=h.component)))break;g-=1}if(e){var k=(e.props.optPath||"",e.$gui.keyid),l=e.state.popOption;if(0==arguments.length){var m=l&&l.beforeClose;"function"==typeof m&&(b=m())}var n=l&&l.callback;d.setChild("-"+k,function(){"function"==typeof n&&n(b)})}}}},r.getCompRenewProp=za,r.deepCloneReactEle=Aa;var Da=null,Ea=0;r.staticMouseDown=Ha,r.staticDbClick=Ia,o.loadElement=function(){var a=[],b=arguments.length;if(1==b)return Ja(a,arguments[0],m.$staticNodes,m.$cachedClass),1==a.length?a[0]:null;if(0==b)return null;for(var c=0;c<b;c++)Ja(a,arguments[c],m.$staticNodes,m.$cachedClass),a.length<=c&&a.push(null);return a},o.loadElementEx=function(a){var b=[],c=arguments.length;if(a=a||"",2==c)return Ja(b,arguments[1],m.$staticNodes,m.$cachedClass,a),1==b.length?b[0]:null;if(c<=1)return null;for(var d=1;d<c;d++)Ja(b,arguments[d],m.$staticNodes,m.$cachedClass,a),b.length<d&&b.push(null);return b},o.setVendorLib=function(a,b){function e(c){if(c){var e=d&&d.widget;"body"!==a&&e&&(m[a]=e)}b&&b(d)}var c=x&&x.component;if(c&&a&&b){var d=null,f="$$"+a;return(d=c.componentOf(f))?void e(!0):void c.setChild(o.loadElement(["TempPanel",{key:f}]),function(){d=c.componentOf(f),e(!0)})}},o.propagateResizing=Ka;var Ma=/([A-Z])/g;o.gotoHash=function(a,b,c){function e(a){var c="";a||(c=d.join("/")),b&&b(c)}function l(a,b){if(!a||!b)return e(!0);if("!"==b[0]&&0==k.length){var c=null,f=b.slice(1);if(f&&f.indexOf('"')<0)try{c=document.querySelector('a[name="'+f+'"]'),c&&(d.push(b),c.scrollIntoView(!0))}catch(a){}return e(!c)}var g,h=Oa(a,b);return h&&(g=h.component)?void g.fireChecked(b,function(){return g.state.checkedId!==b?e(!0):(d.push(b),0==k.length?e(!1):void l(h[b],k.shift()))}):(o.instantShow("warning: can not find navigator widget ("+d.join("/")+"/"+b+")."),e(!0))}var d=[""],f=c||x;if(a&&(a="#"==a[0]?a.slice(1).trim():a.trim()),!a||!f)return e(!0);var g=a[0];if("!"==g){var h=null;try{var i=a.slice(1);i&&i.indexOf('"')<0&&(h=document.querySelector('a[name="'+i+'"]'),h&&(d.push(a),h.scrollIntoView(!0)))}catch(a){}return e(!h)}if("/"!=g){var j=o.pageCtrl;return void(j&&j.gotoPage?j.gotoPage(a,b):b&&b(""))}var k=a.slice(1).split("/");l(f,k.shift())},r.pathLevelInfo=Qa,Ua.prototype={gotoPage_:function(b,c){var d="",e=null;return b.forEach(function(a,b){var f=x&&x[a],g=f&&f.component;if(g){var h="none";b==c&&(h="block",d=a,e=f),g.state.style.display!=h&&(g.duals.style={display:h})}}),e&&(this.pageIndex=c),[d,e]},gotoPage:function(b,c){function h(){d&&e&&g?o.gotoHash(e,function(a){c&&c(a?d+a:"")},g):c&&c(d+e)}if(!this.keys.length)return void(c&&c(""));var d="",e="",g=null,i="undefined"==typeof b?"undefined":f(b);if("string"==i&&b){"#"==b[0]&&(b=b.slice(1));var j=b.indexOf("/");j>0&&(e=b.slice(j),b=b.slice(0,j));var k=parseInt(b);k+""==b&&(b=k,i="number")}if("string"==i&&b){var l=this.namedPage[b];if("number"!=typeof l)return e="",h();b=l}else if("number"!=i)return e="",h();var m=this.keys.length;if(!m)return h();b>=m&&(b=m-1),b<0&&(b=0);var n=this.gotoPage_(this.keys,b);d=n[0],g=n[1],g||(e=""),h()},prevPage:function(){return this.gotoPage(this.pageIndex-1)},nextPage:function(){return this.gotoPage(this.pageIndex+1)},renewPages:function(b){var c=[],d={};b.forEach(function(a){var b=a[0];parseInt(b)+""!==b&&(d[b]=c.length),c.push(b)});var e=this.keys[this.pageIndex],f=!0;if("string"==typeof e){var g=c.indexOf(e);g>=0&&(this.pageIndex=g,f=!0)}this.keys=c,this.namedPage=d,f||(c.length?this.gotoPage(0):this.pageIndex=0)},setDisplay:function(b){function c(a){var a=Math.max(a||0,0);return a<.9999?a*=window.innerWidth:a<1&&(a=window.innerWidth),a}b.hasOwnProperty("leftCtrlWidth")&&(this.leftPanel.style.width=c(b.leftCtrlWidth)+"px"),b.hasOwnProperty("rightCtrlWidth")&&(this.rightPanel.style.width=c(b.rightCtrlWidth)+"px")},destory:function(){this.leftPanel&&(this.leftPanel.parentNode.removeChild(this.leftPanel),this.leftPanel=null),this.rightPanel&&(this.rightPanel.parentNode.removeChild(this.rightPanel),this.rightPanel=null)}},r.pageCtrl_=Ua,m.$main.$$onLoad_=function(a){function b(a){var c=B.shift();if(c){var d=c[0],e=c[1];Ta(d,e,function(){b(a)})}else a()}function c(){var e=d.shift();e?e(c):b(function(){if(A=!1,y=!1,!m.__design__&&w&&!o.pageCtrl){var b=Va();b.length&&(o.pageCtrl=new Ua(b))}setTimeout(function(){if(m.__design__)m.$main.$onLoad=[],m.$main.inRunning=!0,a&&a();else{var b,c=m.$main.$onReady;if(Array.isArray(c))for(;b=c.shift();)b();else"function"==typeof c&&c();var d=m.$main.$onLoad;if(Array.isArray(d))for(;b=d.shift();)b();m.$main.inRunning=!0;var e=window.location.hash;e&&setTimeout(function(){o.gotoHash(e)},300)}},0)})}A=!0;var d=m.$main.$$onLoading=(m.$main.$$onLoad||[]).slice(0);c()};var Wa=j({onCopy:!0,onCut:!0,onPaste:!0,onCompositionEnd:!0,onCompositionStart:!0,onCompositionUpdate:!0,onKeyDown:!0,onKeyPress:!0,onKeyUp:!0,onFocus:!0,onBlur:!0,onChange:!0,onInput:!0,onSubmit:!0,onClick:!0,onContextMenu:!0,onDoubleClick:!0,onDrag:!0,onDragEnd:!0,onDragEnter:!0,onDragExit:!0,onDragLeave:!0,onDragOver:!0,onDragStart:!0,onDrop:!0,onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOut:!0,onMouseOver:!0,onMouseUp:!0,onSelect:!0,onTouchCancel:!0,onTouchEnd:!0,onTouchMove:!0,onTouchStart:!0,onScroll:!0,onWheel:!0,onAbort:!0,onCanPlay:!0,onCanPlayThrough:!0,onDurationChange:!0,onEmptied:!0,onEncrypted:!0,onEnded:!0,onError:!0,onLoadedData:!0,onLoadedMetadata:!0,onLoadStart:!0,onPause:!0,onPlay:!0,onPlaying:!0,onProgress:!0,onRateChange:!0,onSeeked:!0,onSeeking:!0,onStalled:!0,onSuspend:!0,onTimeUpdate:!0,onVolumeChange:!0,onWaiting:!0,onLoad:!0},"onError",!0),Xa={accept:1,acceptCharset:1,accessKey:1,action:1,allowFullScreen:1,allowTransparency:1,alt:1,async:1,autoComplete:1,autoFocus:1,autoPlay:1,capture:1,cellPadding:1,cellSpacing:1,challenge:1,charSet:1,checked:1,classID:1,colSpan:1,cols:1,content:1,contentEditable:1,contextMenu:1,controls:1,coords:1,crossOrigin:1,data:1,dateTime:1,default:1,defer:1,dir:1,disabled:1,download:1,draggable:1,encType:1,form:1,formAction:1,formEncType:1,formMethod:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:1,hidden:1,high:1,href:1,hrefLang:1,htmlFor:1,httpEquiv:1,icon:1,id:1,inputMode:1,integrity:1,is:1,keyParams:1,keyType:1,kind:1,label:1,lang:1,list:1,loop:1,low:1,manifest:1,marginHeight:1,marginWidth:1,max:1,maxLength:1,media:1,mediaGroup:1,method:1,min:1,minLength:1,multiple:1,muted:1,name:1,noValidate:1,nonce:1,open:1,optimum:1,pattern:1,placeholder:1,poster:1,preload:1,radioGroup:1,readOnly:1,rel:1,required:1,reversed:1,role:1,rowSpan:1,rows:1,sandbox:1,scope:1,scoped:1,scrolling:1,seamless:1,selected:1,shape:1,size:1,sizes:1,span:1,spellCheck:1,src:1,srcDoc:1,srcLang:1,srcSet:1,start:1,step:1,summary:1,tabIndex:1,target:1,title:1,type:1,useMap:1,value:1,wmode:1,wrap:1,about:2,datatype:2,inlist:2,prefix:2,property:2,resource:2,typeof:2,vocab:2,autoCapitalize:3,autoCorrect:3,color:3,itemProp:3,itemScope:3,itemType:3,itemRef:3,itemID:3,security:3,unselectable:3,results:3,autoSave:3,dangerouslySetInnerHTML:4,className:5,style:5,width:5,height:5};r.renewWidgetSpared=_a;var bb=/-(.)/g,cb=function(){function a(b,c){i(this,a),this._className=b,this._classDesc=c||"",this._statedProp=["width","height","left","top"],this._silentProp=["className","hookTo.","keyid.","childInline."],this._defaultProp={width:.9999,height:.9999,left:0,top:0},this._htmlText=!1,this._docUrl="doc"}return e(a,[{key:"_desc",value:function(){return this._classDesc?"<"+this._className+":"+this._classDesc+">":"<"+this._className+">"}},{key:"_extend",value:function(b){if("string"==typeof b){if(m.__design__)return null;b=m.$main[b],b||console.log("warning: _extend('"+b+"') load nothing!")}var c=this._methods;if(!c){var d,e={},f={};c=this._methods={$eventset:[e,f]};for(var g={},h=Object.getPrototypeOf(this);h;){var i=Object.getPrototypeOf(h);if(!i)break;Object.getOwnPropertyNames(h).forEach(function(a){"_"!=a[0]&&(g[a]=!0)}),h=i}for(d in g)if("constructor"!=d){var j=this[d];if("function"==typeof j){var k=d[0];if("$"==k){var l=!1,n="$"==d[1]?(l=!0,d.slice(2)):d.slice(1);Wa[n]&&(l?f[n]=!0:e[n]=!0)}c[d]=j}}c.getShadowTemplate=function(a){return function(){return a}}(this)}var o=Object.assign({},c),p=o.$eventset,e=Object.assign({},p[0]),f=Object.assign({},p[1]);o.$eventset=[e,f,this._className],b||(b={});for(var d,q=Object.keys(b),r=0;d=q[r];r++){var s=b[d];if("$"==d[0]&&"function"==typeof s){var l=!1,n="$"==d[1]?(l=!0,d.slice(2)):d.slice(1);Wa[n]&&(l?f[n]=!0:e[n]=!0)}var t=o[d];"function"==typeof t&&"_"!=d[0]&&(o["_"+d]=function(a){return function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return a.apply(b,d)}}(t)),o[d]=s}return o}},{key:"_createClass",value:function(b){if(b)return k.createClass(this._extend(b));var c=aa(this._className);return c||console.log("fatal error: invalid WTC ("+this._className+")"),c}},{key:"_getGroupOpt",value:function(b){return{type:"mono",editable:"all",baseUrl:r.appBase(),tools:[]}}},{key:"_getSchema",value:function(b,c){c=c||1200;var g,d="[any]: null for auto, 0~1 for percent, 0.9999 for 100%, N pixels",e="[number]: N pixels",f="[any]: N pixels, [top_bottom,right_left], [top,right,bottom,left]",h={key:[-1,"string"],left:[c+1,"any",null,d],top:[c+2,"any",null,d],width:[c+3,"any",null,d],height:[c+4,"any",null,d],minWidth:[c+5,"number",null,e],maxWidth:[c+6,"number",null,e],minHeight:[c+7,"number",null,e],maxHeight:[c+8,"number",null,e],borderWidth:[c+9,"any",null,f],padding:[c+10,"any",null,f],margin:[c+11,"any",null,f]};return b&&(g=b.parentOf())&&g.props["isTableRow."]&&(h.tdStyle=[c+12,"object",null,"[object]: style for parent (td)"]),h}},{key:"getDefaultProps",value:function(){return{width:.9999,height:.9999,"childInline.":!1}}},{key:"defineDual",value:function(b,c,d,e){var f=this.duals,g=this.$gui;if(g&&g.compState>=2)return console.log("error: can not define duals."+b+" after first render"),this;if(!f||!g)return this;void 0!==d&&g.initDuals0.push([b,d]);var h,i=Object.getOwnPropertyDescriptor(f,b),j=!1;return i?c?(h=wa(this,b,i.set,c.bind(this),e),Object.defineProperty(f,b,{enumerable:!0,configurable:!0,get:i.get,set:h[1]})):e&&(j=!0):(c?h=wa(this,b,null,c.bind(this),e):(e&&(j=!0),h=wa(this,b,null)),Object.defineProperty(f,b,{enumerable:!0,configurable:!0,get:h[0],set:h[1]})),j&&console.log("warning: base.setter should use with setter."),this}},{key:"undefineDual",value:function(b){var c=this.$gui,d=this.duals;if(c&&c.compState>=2)return console.log("error: undefineDual("+b+") only can be called before first render"),this;if(!d||!c)return this;for(var g,e=[c.initDuals,c.initDuals0],f=0;g=e[f];f++)for(var h=g.length-1;h>=0;)g[h][0]===b&&g.splice(h,1),h-=1;return delete d[b],this}},{key:"setEvent",value:function(b){var c=this.$gui,d=c&&c.eventset;if(!c||!d)return void console.log("error: invalid state for setEvent().");if(c.compState>1)return void console.log("error: can not call setEvent() after first render.");for(var g,e=Object.keys(b),f=0;g=e[f];f++)if("$"==g[0]){var h=g.slice(1),i=b[g];"function"==typeof i&&(d[h]||(d[h]=i.bind(this)),this[g]=i)}}},{key:"getInitialState",value:function(){function ja(a){if(!Array.isArray(a))return"number"==typeof a?[a,a,a,a]:[0,0,0,0];var b=a.length;if(0==b)return[0,0,0,0];if(1==b){var c=parseFloat(a[0])||0;return[c,c,c,c]}if(2==b){var c=parseFloat(a[0])||0,d=parseFloat(a[1])||0;return[c,d,c,d]}if(3==b){var c=parseFloat(a[0])||0,d=parseFloat(a[1])||0,e=parseFloat(a[2])||0;return[c,d,e,d]}return[parseFloat(a[0])||0,parseFloat(a[1])||0,parseFloat(a[2])||0,parseFloat(a[3])||0]}var b=this.getShadowTemplate();Object.defineProperty(this,"_",{enumerable:!1,configurable:!1,writable:!1,value:b}),this.isHooked=!1,this.hideThis=!1,this.duals={};var c=0==o.widgetNum(),d={inSync:!1,removeNum:0,className:this.props.className||"",compState:0,duals:{},initDuals:[],initDuals0:[],connectTo:{},connectBy:{},id__:0,id2__:0,sparedX:null,sparedY:null},e=d.eventset={},g=d.tagAttrs=[],h=d.dualAttrs={},i=d.dataset=[],j=d.exprAttrs=[],l="",p="",s="";d.forExpr=!1,d.hasIdSetter=!1;var t={},u=this.$eventset||[{},{}],v=u[0],z=u[1];delete this.$eventset;for(var E,A=null,C=Object.keys(this.props),D=0;E=C[D];D++)if(0==E.indexOf("data-"))"data-unit.path"!=E&&"data-span.path"!=E||(l=E,p=this.props[E]),i.push(E);else if(0==E.indexOf("dual-")){var F=E.slice(5).replace(bb,function(a,b){return b.toUpperCase()});F&&(h[F]=E)}else if(0==E.indexOf("aria-"))i.push(E);else if("$"==E[0]&&E.length>1){var J=this.props[E],L="undefined"==typeof J?"undefined":f(J);if("string"==L){if("$id__"!=E){var M=!1;E=E.slice(1),"$for"==E&&(E="for",M=!0),K.indexOf(E)>=0?"for"==E?(d.forExpr?console.log("warning: reduplicate property ($for)"):(d.forExpr=M?2:1,j.push(E)),c&&console.log("error: can not use '$for' in topmost widget")):s?console.log("error: property ($"+E+") conflict with previous ($"+s+")"):(s=E,"else"!=E&&j.push(E)):"children"==E?this.props.hasOwnProperty("for.index")&&(d.isChildExpr=!0,d.children2=this.props.children):"key"!=E&&j.push(E);continue}J=q[J],L="undefined"==typeof J?"undefined":f(J)}if("function"==L){if("$"==E[1]){console.log("warning: invalid using props."+E);continue}E=E.slice(1),"id__"==E?(A=J,d.hasIdSetter=!0):z[E]||(t[E]=J.bind(this))}}else{var N=Xa[E];N&&5!=N&&g.push(E)}d.flowFlag=s,d.dataset2=i.slice(0);for(var O in v)e[O]=this["$"+O];for(var O in t)e[O]=t[O];for(var O in z)e[O]=this["$$"+O];c&&(d.className=R(d.className,["rewgt-panel","row-reverse","reverse-row","col-reverse","reverse-col"])),Object.defineProperty(this,"$gui",{enumerable:!1,configurable:!1,writable:!1,value:d});var Q={id__:0,childNumId:0,duals:[],exprAttrs:j.slice(0)};if(m.__design__){var S=b._getGroupOpt(this);Q["data-group.opt"]=S.type+"/"+S.editable}var T=this.props["keyid."];if(c&&!T&&(T="body"),T){var U="undefined"==typeof T?"undefined":f(T);"string"!=U&&"number"!=U&&(T=void 0)}var V=this.props["hookTo."];c&&!V&&(V=m),"string"==typeof V&&(V=m.W(V)),Array.isArray(V)&&V.W&&(void 0!==T?V.$set(T,V.W(this)):T=V.push(V.W(this))-1,d.keyid=T),Object.assign(Q,{left:0,top:0,width:null,height:null,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,borderWidth:[0,0,0,0],padding:[0,0,0,0],margin:[0,0,0,0],klass:"",style:{}});var W=d.isPanel=P(d.className,"rewgt-panel"),Y=!1,Z=!1,$=this.props["childInline."];if($||c||!W||(P(d.className+" "+this.props.klass,["col-reverse","reverse-col"])?Z=!0:Y=!0),d.useSparedX=!1,d.useSparedY=!1,d.respared=!1,d.sparedTotal=0,d.compIdx={},d.comps=I(this.props.children),Object.defineProperty(this.duals,"keyid",{enumerable:!0,configurable:!0,get:function(){return this.$gui.keyid}.bind(this),set:function(b,c){throw new Error("property (keyid) is readonly")}}),this.defineDual("klass",function(a,b){this.state.klass=a||""}),this.defineDual("style",function(a,b){this.state.style=Object.assign({},b,a)}),this.defineDual("left",function(a,b){this.state.left=isNaN(a)?null:a}),this.defineDual("top",function(a,b){this.state.top=isNaN(a)?null:a}),this.defineDual("width",function(a,b){var c,d=!1;if(isNaN(a)?c=null:(c=a,null!==a&&(d=!0)),this.state.width=c,d){var e=this.parentOf();e&&e.$gui.useSparedX&&_a(e,!1)}}),this.defineDual("height",function(a,b){var c,d=!1;if(isNaN(a)?c=null:(c=a,null!==a&&(d=!0)),this.state.height=c,d){var e=this.parentOf();e&&e.$gui.useSparedY&&_a(e,!1)}}),this.defineDual("minWidth",function(a,b){var c=a||0;return c>0&&this.state.maxWidth>0&&this.state.maxWidth<c?void console.log("warning: invalid widget minWidth or maxWidth"):void(this.state.minWidth=c)}),this.defineDual("maxWidth",function(a,b){var c=a||0;return c>0&&this.state.minWidth>0&&this.state.minWidth>c?void console.log("warning: invalid widget minWidth or maxWidth"):void(this.state.maxWidth=c)}),this.defineDual("minHeight",function(a,b){var c=a||0;return c>0&&this.state.maxHeight>0&&this.state.maxHeight<c?void console.log("warning: invalid widget minHeight or maxHeight"):void(this.state.minHeight=c)}),this.defineDual("maxHeight",function(a,b){var c=a||0;return c>0&&this.state.minHeight>0&&this.state.minHeight>c?void console.log("warning: invalid widget minHeight or maxHeight"):void(this.state.maxHeight=c)}),this.defineDual("borderWidth",function(a,b){var c=b||[0,0,0,0],d=this.state.borderWidth=ja(a),e=!1;this.$gui.useSparedX?c[1]===d[1]&&c[3]===d[3]||(e=!0):this.$gui.useSparedY&&(c[0]===d[0]&&c[2]===d[2]||(e=!0)),e&&_a(this,!1)}),this.defineDual("padding",function(a,b){var c=b||[0,0,0,0],d=this.state.padding=ja(a),e=!1;this.$gui.useSparedX?c[1]===d[1]&&c[3]===d[3]||(e=!0):this.$gui.useSparedY&&(c[0]===d[0]&&c[2]===d[2]||(e=!0)),e&&_a(this,!1)}),this.defineDual("margin",function(a,b){this.state.margin=ja(a)}),this.defineDual("id__",function(a,b){this.state.id__=a,d.id__=d.id2__=a}),A&&this.defineDual("id__",A),this.defineDual("trigger",ab),this.defineDual("cellSpacing"),this.defineDual("sizes"),V){var _=V&&V.component;_&&(_.props["isTableRow."]&&(this.props.tdStyle&&this.defineDual("tdStyle",function(a,b){this.state.tdStyle=Object.assign({},b,a),setTimeout(function(){_.reRender()},0)},this.props.tdStyle),this.props.colSpan&&this.defineDual("colSpan",function(a,b){this.state.colSpan=a,setTimeout(function(){_.reRender()},0)},this.props.colSpan),this.props.rowSpan&&this.defineDual("rowSpan",function(a,b){this.state.rowSpan=a,setTimeout(function(){_.reRender()},0)},this.props.rowSpan)),_.props["isScenePage."]&&(d.inScene=!0))}d.cssWidth=null,d.cssHeight=null;var aa=null,ba=null,ca=this.widget;if(V&&ca){if(l){ca.$callspace={flowFlag:"ref",forSpace:null},ca.$callspace[l]=p;var da=ca.$callspace.exprSpace={};na(da,this)}if(c&&(x=r.topmostWidget_=ca,w=r.containNode_=document.getElementById("react-container"),w||console.log("fatal error: can not find 'react-container' node.")),c&&w){m.__design__&&(w.style.zIndex="3000",this.duals.style={zIndex:"-1000",overflow:"hidden"});var ea=w.frameInfo;ea||(ea=w.frameInfo={topHi:0,leftWd:0,rightWd:0,bottomHi:0}),ea.rootName="."+T;var fa=function(){var a=Math.max(100,window.innerWidth-ea.leftWd-ea.rightWd),b=Math.max(100,window.innerHeight-ea.topHi-ea.bottomHi),c=this.state.innerSize,e=[a,b];if(this.setState({left:ea.leftWd,top:ea.topHi,parentWidth:a,parentHeight:b,innerSize:e}),this.duals.hasOwnProperty("innerSize")){var f=d.connectTo.innerSize;f&&d.compState>=2&&setTimeout(function(){va(f,e,c,"innerSize")},0)}}.bind(this);w.refreshFrame=fa,Za(w);var ga=function(){o.dragInfo.inDragging=!1,o.dragInfo.justResized=!0,setTimeout(function(){o.dragInfo.justResized=!1},1200),fa()},ha=0;d.onWinResize=function(a){function b(){ha&&clearTimeout(ha),ha=setTimeout(ga,500)}o.dragInfo.inDragging=!0,b(),fa()},this.duals.style=Object.assign({},this.props.style,{position:"absolute"}),this.duals.left=ea.leftWd,this.duals.top=ea.topHi,aa=Math.max(100,window.innerWidth-ea.leftWd-ea.rightWd),ba=Math.max(100,window.innerHeight-ea.topHi-ea.bottomHi)}else{var ia=V.component;ia&&(aa=ia.$gui.cssWidth,ba=ia.$gui.cssHeight)}}return Q.parentWidth=aa,Q.parentHeight=ba,this.defineDual("childNumId",function(a,b){var e=this,f=e.widget;if(f){var g=e.state.sizes,h=Array.isArray(g),i=d.compIdx,j=d.comps,l=e.props["isScenePage."],o=!1,p=!1,q=0;j.forEach(function(a,b){if("string"==typeof a){if(0==b&&1==j.length&&e.duals.hasOwnProperty("html."))return e.state["html."]=a,void(j[b]=void 0);if(!$)return void(j[b]=void 0);a=j[b]=H(Mb,{"html.":a})}else if(!a)return;var g,h=X(a),k=!1;if(h){var n=parseInt(h);g=n+""===h?n:h,"number"==typeof i[h]&&(k=!0)}else g=b+d.removeNum,h=g+"";if(P(a.props.className,"rewgt-static")){if(k)return void(i[g]=b);if(W)j[b]=void 0,console.log("warning: can not add rewgt-static to panel ("+f.getPath()+") directly.");else{var r=Object.assign({},a.props);r.key=h,!m.__design__||e.props.$for||e.props.$$for||(r.onMouseDown=Ha,r.onDoubleClick=Ia.bind(e)),i[g]=b,$?j[b]=H("span",r):j[b]=H("div",r);
}}else{var s=a.props["childInline."];if(void 0===s)return i[g]=b,void(k||(j[b]=G(a,{key:h})));if($){if(!s)return console.log("error: can not add panel or div ("+h+") to paragraph ("+f.getPath()+")."),void(j[b]=void 0)}else if(!P(a.props.className,["rewgt-panel","rewgt-unit"]))return console.log("error: only panel, div, paragraph ("+g+") can add to panel or div ("+f.getPath()+")."),void(j[b]=void 0);var t=!1;a.props["isReference."]&&(t=!0,k||("$"!=h[0]&&(h=g="$"+h),y&&B.push([e,g])));var u=a.props.width,v=a.props.height,w="number"!=typeof u,x="number"!=typeof v;if(Y)w?o=!0:u<0&&!t&&(p=!0,q+=-u);else if(Z)x?o=!0:v<0&&!t&&(p=!0,q+=-v);else{var z="";!w&&u<0?z="width":!x&&v<0&&(z="height"),z&&console.log("error: can not use negative "+z+" under widget ("+f.getPath()+")")}if(k&&a.props["hookTo."]!==f&&(k=!1),k)i[g]=b;else{var A={"hookTo.":f,key:h,"keyid.":g};if($){var C=P(a.props.className,"rewgt-unit");if(!w&&u>=0){var D=u>=1?u+"px":u>=.9999?"100%":100*u+"%";A.style=Object.assign({},a.props.style,{width:D}),C&&(A.width=u)}else C&&(A.width=null);if(!x&&v>=0){var E=v>=1?v+"px":v>=.9999?"100%":100*v+"%";A.style=Object.assign({},a.props.style,{height:E}),C&&(A.height=v)}else C&&(A.height=null)}else A.width=w?null:u,A.height=x?null:v,c&&a.props["isScenePage."]&&a.props.noShow&&!m.__design__&&(A["isTemplate."]=!0);if(l){var F=Object.assign({},a.props.style),I=(parseInt(F.zIndex)||0)+"";"0"!==I&&(F.zIndex=I),A.style=F}else m.__debug__&&!c&&d.isPanel&&"absolute"==(A.style||{}).display&&console.log("warning: can not use 'display:absolute' under a panel");i[g]=b,j[b]=G(a,A)}}}),h||(p&&!o?((q>0||d.useSparedX!=Y||d.useSparedY!=Z)&&(d.respared=!0),d.sparedTotal=q,d.useSparedX=Y,d.useSparedY=Z):(d.sparedTotal=0,d.useSparedX=!1,d.useSparedY=!1)),c&&0==b&&(i.$pop=j.length+d.removeNum,j.push(H(k.createClass(n.Panel._extend()),{"hookTo.":f,key:"$pop","keyid.":"$pop",left:0,top:0,width:0,height:0,style:{position:"absolute",zIndex:3016,overflow:"visible"}})))}}),Q}},{key:"shouldComponentUpdate",value:function(b,c){return o.shouldUpdate(this,b,c)}},{key:"componentDidMount",value:function(){this.isHooked=!!this.widget,this.props["hasStatic."]&&$a(this);var b=this.$gui;if(b.syncExpr){for(var c;c=b.syncExpr.shift();)b.exprAttrs[c[0]]=c[1];delete b.syncExpr}var d=this.props.styles;if(d&&(this.props["data-span.path"]||this.props["data-unit.path"])){var e=this;Object.keys(d).forEach(function(a){var b=d[a];if("object"==("undefined"==typeof b?"undefined":f(b))&&a){var c=e.componentOf(a);c&&(c.duals.style=b)}})}b.hasIdSetter&&(this.duals.id__=2)}},{key:"componentWillUnmount",value:function(){if(m.__debug__&&"function"==typeof this.teardown__)try{this.teardown__()}catch(a){console.log(a)}var b=this.$gui;b.hasIdSetter&&(this.duals.id__=0);for(var f,c=Object.keys(b.connectBy),d=[],e=0;f=c[e];e++){var g=b.connectBy[f],h=g[0];h!==this&&d.indexOf(h)<0&&d.push(h)}for(var h,e=0;h=d[e];e++)h.unlisten("*",this);if(b.connectTo={},b.connectBy={},b.compState=0,Array.isArray(this.widget)){var i=this.widget.parent;if(Array.isArray(i)){var j=b.keyid,k=i.component;if(k){var l=k.$gui;if(!l.flowFlag&&!l.forExpr){var n=l.compIdx[j];"number"==typeof n&&(delete l.comps[n],delete l.compIdx[j])}}i.$unhook(this.widget,j)}delete this.widget.component,delete this.widget}this.isHooked=!1}},{key:"reRender",value:function(b,c){if(this.isHooked)if(this.$gui.inSync){var d=this;setTimeout(function(){var a=d.state.id__===M?N():M,e=Object.assign({},c,{id__:a});d.setState(e,b)},0)}else{var e=this.state.id__===M?N():M,f=Object.assign({},c,{id__:e});this.setState(f,b)}else console.log("warning: reRender() failed when component unhooked."),b&&b()}},{key:"listen",value:function(b,c,d){function h(a){var b=Object.getOwnPropertyDescriptor(g.duals,a);if(b)return!0;if(g.props["$"+a])return K.indexOf(a)>0&&console.log("warning: '"+a+"' is not listenable."),!0;if(e.dataset.indexOf(a)>=0||e.tagAttrs.indexOf(a)>=0||e.dualAttrs.hasOwnProperty(a)){var c=wa(g,a);return Object.defineProperty(g.duals,a,{enumerable:!0,configurable:!0,get:c[0],set:c[1]}),!0}return!1}var e=this.$gui,g=this;if("function"==typeof c){var i;if(Array.isArray(b))i=b;else{if("string"!=typeof b||!b)return console.log("warning: invalid listen source."),this;i=[b]}for(var k,j=0;k=i[j];j++)if(h(k)){var l=e.connectTo[k];l||(l=e.connectTo[k]=[]),l.push([null,c,!1])}else console.log("warning: listen source ("+k+") inexistent.");return this}if(!c||!c.$gui)return console.log("warning: invalid listen target."),this;var m,i=[];if(Array.isArray(b))b.forEach(function(a){var b=("on-"+a).replace(bb,function(a,b){return b.toUpperCase()});i.push([a,b])});else if("string"==(m="undefined"==typeof b?"undefined":f(b)))d&&"string"==typeof d?i.push([b,d,d]):(d=("on-"+b).replace(bb,function(a,b){return b.toUpperCase()}),i.push([b,d]));else{if(!action||"object"!=m)return this;Object.keys(b).forEach(function(a){i.push([a,b[a]])})}return i.forEach(function(a){var b=a[0],d=a[1],f=!1;if(!b||!h(b))return void console.log("warning: listen source ("+b+") inexistent.");if("function"!=typeof c[d]){var i=a[2];if(!i||!c.duals.hasOwnProperty(i))return void console.log("warning: invalid listen target ("+d+").");if(i===b&&c===g)return void console.log("warning: can not connect dual ("+b+") to self.");f=!0,d=i}var j=c.$gui.connectBy,k=-1,l=j[d];l?(k=l.findIndex(function(a){return a[0]===g&&a[1]===b}),k>=0&&(l[k][2]=f)):l=j[d]=[],k<0&&l.push([g,b,f]),k=-1,l=e.connectTo[b],l?(k=l.findIndex(function(a){return a[0]===c&&a[1]===d}),k>=0&&(l[k][2]=f)):l=e.connectTo[b]=[],k<0&&l.push([c,d,f])}),this}},{key:"unlisten",value:function(b,c,d){if("function"==typeof c){if("string"!=typeof b||!b)return console.log("warning: invalid unlisten source."),this;var e=this.$gui,g=e.connectTo[b];if(g){var h=g.findIndex(function(a){return null===a[0]&&a[1]===c});h>=0&&(g.splice(h,1),0==g.length&&delete e.connectTo[b])}return this}if(!c||!c.$gui)return console.log("warning: invalid unlisten target."),this;var i,j=[],e=this.$gui;if(Array.isArray(b))b.forEach(function(a){var b=("on-"+a).replace(bb,function(a,b){return b.toUpperCase()});j.push([a,b])});else if("string"==(i="undefined"==typeof b?"undefined":f(b))){if("*"==b){var l=e.connectTo;return Object.keys(l).forEach(function(a){var b,d=l[a];if(d&&(b=d.length)>0){for(;--b>=0;){var e=d[b];e[0]===c&&d.splice(b,1)}0==d.length&&delete l[a]}}),this}if(d&&"string"==typeof d){if("*"==d){var m,l=e.connectTo,g=l[b];if(g&&(m=g.length)>0){for(;--m>=0;){var n=g[m];n[0]===c&&g.splice(m,1)}0==g.length&&delete l[b]}return this}}else d=("on-"+b).replace(bb,function(a,b){return b.toUpperCase()});j.push([b,d])}else{if(!action||"object"!=i)return this;Object.keys(b).forEach(function(a){j.push([a,b[a]])})}return j.forEach(function(a){var b=a[0],d=a[1],f=e.connectTo[b];if(f){var g=f.findIndex(function(a){return a[0]===c&&a[1]===d});g>=0&&(f.splice(g,1),0==f.length&&delete e.connectTo[b])}}),this}},{key:"getHtmlNode",value:function(b){return F(b||this)}},{key:"parentOf",value:function(){var b=this.widget,c=b&&b.parent,d=c&&c.component;return d||null}},{key:"componentOf",value:function(b){var c=b[0];if("."!=c&&"/"!=c){var d=this.widget,e=d&&d.W(b),f=e&&e.component;return f||null}return Ra(this,b)}},{key:"elementOf",value:function(b){var c,d=null,e="";if(b)if("."!=(c=b[0])&&"/"!=c)d=this.widget,e=b;else{var f=b.lastIndexOf("./");if(f>=0){var g=this.componentOf(b.slice(0,f+2));if(!g)return null;d=g.widget,e=b.slice(f+2)}else{if("."!=c){if("/"==c&&"/"==b[1]){var h=this.parentOf();return h?h.elementOf(b.slice(2)):null}return null}if(d=m,e=b.slice(1),!e)return null}}else d=this.widget;if(!d)return null;if(!e){var g=d.component;if(g){var i=d.parent,h=i&&i.component;if(h){var j=h.$gui.compIdx[g.$gui.keyid];if("number"==typeof j)return h.$gui.comps[j]}}return null}if(e.indexOf("/")>=0)return null;for(var o,k=e.split("."),l=k.length-1,n=0;o=k[n];n++){var p=d[o];if(!Array.isArray(p)||!p.W){var g=d.component;return g&&g.props["isTemplate."]?g.elementOf(k.slice(n).join(".")):null}if(!(n<l)){var h=d.component;if(h){var j=h.$gui.compIdx[o];if("number"==typeof j)return h.$gui.comps[j]}return null}d=p}return null}},{key:"prevSibling",value:function(){var b=this.widget,c=this.$gui.keyid;b=b&&b.parent;var d=b&&b.component;if(d&&(c||0===c)){var e=d.$gui,f=e.compIdx[c];if("number"==typeof f)for(var g=f-1;g>=0;g--){var h=e.comps[g];if(h){var i=X(h);return h=i&&b[i],h?h.component:void 0}}}}},{key:"nextSibling",value:function(){var b=this.widget,c=this.$gui.keyid;b=b&&b.parent;var d=b&&b.component;if(d&&(c||0===c)){var e=d.$gui,f=e.compIdx[c];if("number"==typeof f)for(var g=e.comps.length,h=f+1;h<g;h++){var i=e.comps[h];if(i){var j=X(i);return i=j&&b[j],i?i.component:void 0}}}}},{key:"fullClone",value:function(b){var c=null,d=this.$gui.keyid,e=this.widget,g=e&&e.parent;if(g=g&&g.component){var h=g.$gui.compIdx[d];"number"==typeof h&&(c=g.$gui.comps[h])}var i,j=null;if("object"!=("undefined"==typeof b?"undefined":f(b))&&(b={}),c){if(i=c.props["isReference."])return j=Y(c.props),"number"==typeof d&&(delete j.key,delete j["keyid."]),H(1==i?Bc:Dc,Object.assign(j,b));if(this.props["isTemplate."]&&!m.__design__){var k=this.$gui.template;if(k instanceof Sa)return G(c,{template:k},null);throw new Error("invalid template ("+d+")")}}if(!c||!(j=za(this)))throw new Error("invalid widget ("+d+")");return"number"==typeof d&&(j["keyid."]="",j.key=""),Object.assign(j,b),Aa(c,j,e,this)}},{key:"setChild",value:function(){function h(){if(c&&g){var a=e.component;a&&a.renewPages&&a.renewPages()}b&&b(c)}function za(a){var b,c=X(a),d=r+s+u.length,e=!1;if(c){var f=parseInt(c);f+""===c?(e=!0,b=f):b=c}else b=d,e=!0;return e&&(b<0||b>d)&&(o.instantShow("warning: invalid keyid ("+b+")"),b=d),[e&&b==d,b]}var b=void 0,c=!1,d=arguments.length;d>0&&(b=arguments[d-1],"function"!=typeof b?b=void 0:d-=1);var e=this.widget,g=e===x,i=this.$gui;if(!e)return o.instantShow("warning: invalid target widget in setChild()."),h();if(!this.isHooked)return o.instantShow("warning: can not add child to unhooked widget."),h();if(this.props["isTemplate."])if(A){for(var j=i.template,l=0;l<d;l++){var n=arguments[l],p="undefined"==typeof n?"undefined":f(n);if("function"==p){b=n;break}n&&k.isValidElement(n)&&tc(j,n)}if(!m.__design__)return h()}else if(!m.__design__)return o.instantShow("warning: can not set child of template."),h();var q=4;if(i.isPanel||g)q=1;else if(P(i.className,"rewgt-unit"))q=this.props["childInline."]?3:2;else if(!this.props["childInline."])return o.instantShow("warning: invalid call setChild()"),h();for(var r=i.removeNum,s=0,t=[],u=i.comps.slice(0),v=u.length-1;v>=0;v--){var w,z=u[v],C=z&&X(z);if(C)if(t.unshift(C),P(z.props.className,"rewgt-static"))u[v]=G(z,{key:C});else{var D=parseInt(C);w=D+""===C?D:C,w!==z.props["keyid."]&&(u[v]=G(z,{"keyid.":w,key:C}))}else u.splice(v,1),s+=1,c=!0}for(var E=void 0,F="",H=0;H<d;H++){var n=arguments[H],p="undefined"==typeof n?"undefined":f(n);if("function"==p){b=n;break}if("number"==p&&(n+="",p="string"),"string"==p){if(!n)continue;if(F=n[0],"-"==F||"+"==F){if(n=n.slice(1),!n){F="";continue}}else F="";E=n;var D=parseInt(n);if(D+""==n&&(E=D),"-"==F){var I=t.indexOf(n);I>=0&&(t.splice(I,1),u.splice(I,1),s+=1,c=!0),F="",E=void 0}else if("+"==F){var I=t.indexOf(n);I<0&&(F="")}}else if(n&&k.isValidElement(n)){if(P(n.props.className,"rewgt-static")){console.log("warning: setChild() not support rewgt-static."),F="",E=void 0;continue}var J=!0,K=n.props["childInline."];void 0===K||(1==q||2==q?P(n.props.className,["rewgt-panel","rewgt-unit"])||(J=!1):K||(J=!1));var L=void 0,O=!0;"+"==F&&void 0!==E?L=E:O=!1;var Q,R=!1;if("+"!=F&&void 0!==E)Q=E;else{var S=za(n);R=S[0],Q=S[1]}if(J){n.props["isReference."]&&("string"==typeof Q?"$"!=Q[0]&&(Q="$"+Q):Q="$"+Q,y&&B.push([this,Q]));var T=R||O?-1:t.indexOf(Q+"");if(T>=0)u[T]=[Q,n];else{var I=O?t.indexOf(L+""):-1;if(I>=0?(u.splice(I,0,[Q,n]),t.splice(I,0,Q+"")):(u.push([Q,n]),t.push(Q+"")),O&&!R){var U=t.indexOf(Q+"");U>=0&&U==I&&I>=0&&(U=t.indexOf(Q+"",I+1)),U>=0&&(u.splice(U,1),t.splice(U,1),s+=1)}}c=!0}else o.instantShow("error: display type of child widget ("+Q+") mismatch to owner ("+e.getPath()+").");F="",E=void 0}else if(Array.isArray(n))for(var V=n.length,W="",Y=void 0,Z=0;Z<V;Z++){var $=n[Z],_="undefined"==typeof $?"undefined":f($);if("number"==_&&($+="",_="string"),"string"==_){if(!$)continue;if(W=$[0],"-"==W||"+"==W){if($=$.slice(1),!$){W="";continue}}else W="";Y=$;var aa=parseInt($);if(aa+""==$&&(Y=aa),"-"==W){var ba=t.indexOf($);ba>=0&&(t.splice(ba,1),u.splice(ba,1),s+=1,c=!0),W="",Y=void 0}else if("+"==W){var ba=t.indexOf($);ba<0&&(W="")}}else if($&&k.isValidElement($)){if(P($.props.className,"rewgt-static")){console.log("warning: setChild() not support rewgt-static."),W="",Y=void 0;continue}var ca=!0,da=$.props["childInline."];void 0===da||(1==q||2==q?P($.props.className,["rewgt-panel","rewgt-unit"])||(ca=!1):da||(ca=!1));var ea=void 0,fa=!0;"+"==W&&void 0!==Y?ea=Y:"+"==F&&void 0!==E?insBefor2=E:fa=!1;var ga,ha=!1;if("+"!=W&&void 0!==Y)ga=Y;else{var ia=za($);ha=ia[0],ga=ia[1]}if(ca){$.props["isReference."]&&("string"==typeof ga?"$"!=ga[0]&&(ga="$"+ga):ga="$"+ga,y&&B.push([this,ga]));var ja=ha||fa?-1:t.indexOf(ga+"");if(ja>=0)u[ja]=[ga,$];else{var ba=fa?t.indexOf(insBefor2+""):-1;if(ba>=0?(u.splice(ba,0,[ga,$]),t.splice(ba,0,ga+"")):(u.push([ga,$]),t.push(ga+"")),fa&&!ha){var ka=t.indexOf(ga+"");ka>=0&&ka==ba&&ba>=0&&(ka=t.indexOf(ga+"",ba+1)),ka>=0&&(u.splice(ka,1),t.splice(ka,1),s+=1)}}c=!0}else o.instantShow("error: display type of child widget ("+ga+") mismatch to owner ("+e.getPath()+").");W="",Y=void 0}}}if(c){var la=!1,ma=!1;!g&&i.isPanel&&(P(this.props.className+" "+this.props.klass,["col-reverse","reverse-col"])?ma=!0:la=!0);var na=null,oa=0,pa=0;i.isPanel&&Array.isArray(this.props.sizes)&&(na=this.state.sizes,Array.isArray(na)&&(ma?pa=na.length:oa=na.length));for(var qa=u.length,ra=[],sa={},v=0;v<qa;v++){var ta,ua=u[v];if(Array.isArray(ua)){ta=ua[0],ua=ua[1];var va={key:ta+"","keyid.":ta};void 0!==ua.props["childInline."]&&(va["hookTo."]=e,g&&ua.props["isScenePage."]&&ua.props.noShow&&!m.__design__&&(va["isTemplate."]=!0),4!=q&&(va.width=ua.props.width,va.height=ua.props.height),oa?va.width=na[v%oa]:pa&&(va.height=na[v%pa])),u[v]=G(ua,va)}else ta=ua.props["keyid."],ra.push([v,ta]);sa[ta]=v}for(var ua,wa={},v=0;ua=ra[v];v++){var Z=ua[0],ta=ua[1],xa=e[ta];xa=xa&&xa.component,xa&&(wa[ta]=xa,oa?xa.state.width=na[Z%oa]:pa&&(xa.state.height=na[Z%pa]))}if(i.removeNum+=s,i.comps=u,i.compIdx=sa,i.inSync)(b||g)&&setTimeout(function(){h()},0);else{var ya=this.state.id__===M?N():M;this.setState({id__:ya},h)}}else h()}},{key:"prepareState",value:function(){function b(a,b,c){var d;if(b>=1)d=b;else{if("number"!=typeof a)return null;d=b>=.9999?a:b>=0?b*a:b}return d<0?c?d>-.9999?d*a:d>-1?-a:d:0:d}function c(a,b){return a>=1?a+"px":b?0:a>.9999?"100%":100*a+"%"}var d=this.state.parentWidth,e=this.state.parentHeight,f="number"!=typeof d,g="number"!=typeof e,h=this.state.padding,i=this.state.borderWidth,j=this.state.margin,k=null,l=null;"number"==typeof this.state.left&&(k=b(d,this.state.left,!0)),"number"==typeof this.state.top&&(l=b(e,this.state.top,!0));var m,n,p,q,s,t,u,v,y,z,A,B,r="",w="",C="";f?(m=n=p=q=0,r=c(h[0],!1)+" "+c(h[1],!1)+" "+c(h[2],!1)+" "+c(h[3],!1),s=t=u=v=0,w=c(i[0],!0)+" "+c(i[1],!0)+" "+c(i[2],!0)+" "+c(i[3],!0),y=z=A=B=0,C=c(j[0],!1)+" "+c(j[1],!1)+" "+c(j[2],!1)+" "+c(j[3],!1)):(m=b(d,h[0]),n=b(d,h[1]),p=b(d,h[2]),q=b(d,h[3]),r=m+"px "+n+"px "+p+"px "+q+"px",s=b(d,i[0]),t=b(d,i[1]),u=b(d,i[2]),v=b(d,i[3]),w=s+"px "+t+"px "+u+"px "+v+"px",y=b(d,j[0],!0),z=b(d,j[1],!0),A=b(d,j[2],!0),B=b(d,j[3],!0),C=y+"px "+z+"px "+A+"px "+B+"px");var D=this.widget,E=this.$gui,F=null,G=this.state.minWidth,H=this.state.maxWidth,I=this.state.minHeight,J=this.state.maxHeight,K=this.state.width,L=this.state.height,M=null,N="number"!=typeof K||!(K>=1)&&f,O=null,P="number"!=typeof L||!(L>=1)&&g,Q=!1,R=!1;if(!N){var S=null;if(K<0){var T=D&&D.parent;if(F=T&&T.component){var U=F.$gui.sparedX;"number"==typeof U&&(S=U*(0-K))}else F=void 0}else S=b(d,K);"number"!=typeof S?N=!0:(G&&S<G&&(S=G),H&&S>H&&(S=H),M=S-q-n-v-t,M<0?M=null:E.cssWidth!==M&&(Q=!0))}if(!P){var V=null;if(L<0){if(null===F){var T=D&&D.parent;F=T&&T.component}if(F){var U=F.$gui.sparedY;"number"==typeof U&&(V=U*(0-L))}else F=void 0}else V=b(e,L);"number"!=typeof V?P=!0:(I&&V<I&&(V=I),J&&V>J&&(V=J),O=V-m-p-s-u,O<0?O=null:E.cssHeight!==O&&(R=!0))}G&&(G=Math.max(0,G-q-n-v-t)),H&&(H=Math.max(0,H-q-n-v-t)),I&&(I=Math.max(0,I-m-p-s-u)),J&&(J=Math.max(0,J-m-p-s-u)),E.cssWidth=M,E.cssHeight=O;var W=E.respared;if(E.respared=!1,D&&(E.isPanel||D===x)&&(Q||R||W||o.dragInfo.justResized)&&(E.useSparedX?(Q||W)&&(E.sparedX=Ya(this,D,!0,M),W=!0):E.useSparedY&&(R||W)&&(E.sparedY=Ya(this,D,!1,O),W=!0),this.isHooked||W)){var X=this;setTimeout(function(){X.isHooked&&Ka(X,o.dragInfo.inDragging)},0)}var Y=Object.assign({},this.state.style,{margin:C,padding:r,borderWidth:w});"number"!=typeof k?delete Y.left:Y.left=k+"px","number"!=typeof l?delete Y.top:Y.top=l+"px",N?delete Y.width:Y.width=M+q+n+v+t+"px",P?delete Y.height:Y.height=O+m+p+s+u+"px",G?Y.minWidth=G+"px":delete Y.minWidth,H?Y.maxWidth=H+"px":delete Y.maxWidth,I?Y.minHeight=I+"px":delete Y.minHeight,J?Y.maxHeight=J+"px":delete Y.maxHeight,this.state.style=Y;var Z=[];return E.comps.forEach(function(a){a&&Z.push(a)}),Z}},{key:"render",value:function(){if(xa(this),this.hideThis)return null;var b=this.prepareState(),c=$(this);return H("div",c,b)}}]),a}();n.Widget_=cb;var eb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"BodyPanel",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.className="rewgt-unit",c["keyid."]="body",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.defineDual("innerSize",function(a,b){throw new Error("duals.innerSize is readonly")},[c.parentWidth,c.parentHeight]),this.defineDual("nodes",db,[]),c}},{key:"renewPages",value:function(){if(!m.__design__&&this.isHooked&&o.pageCtrl){var b=this.$gui.comps,c=this.widget,d=[];b.forEach(function(a){if(a&&a.props["isScenePage."]&&!a.props.noShow){var b=X(a),e=b&&c[b];e=e&&e.component,e&&d.push([b,e])}});var e=!1,f=o.pageCtrl.keys;if(f.length!=d.length)e=!0;else for(var h,g=0;h=f[g];g++)if(h!==d[g][0]){e=!0;break}e&&setTimeout(function(){o.pageCtrl.renewPages(d)},0)}}},{key:"componentDidMount",value:function(){d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentDidMount",this).call(this);var c=this.$gui;c.onWinResize&&window.addEventListener("resize",c.onWinResize,!1);var e=F(this);e&&L(e)}},{key:"componentWillUnmount",value:function(){var c=this.$gui;c.onWinResize&&(window.removeEventListener("resize",c.onWinResize,!1),c.onWinResize=null),d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentWillUnmount",this).call(this)}}]),b}(cb);n.BodyPanel_=eb,n.BodyPanel=new eb;var fb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Panel",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200),g="[any]: null for auto, 0~1 for percent, 0.9999 for 100%, N pixels, -0.xx for spared percent",h=f.width,i=f.height;return h&&(h[3]=g),i&&(i[3]=g),f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.className="rewgt-panel",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.widget&&this.widget.parent===x&&((this.props.left||0)>0||(this.props.top||0)>0)&&(this.duals.style=Object.assign({},this.props.style,{position:"absolute"})),this.defineDual("nodes",db,[]),c}},{key:"isRow",value:function(){return!P(this.props.className+" "+this.state.klass,["col-reverse","reverse-col"])}},{key:"isReverse",value:function(){return P(this.props.className+" "+this.state.klass,["reverse-row","reverse-col"])}}]),b}(cb);n.Panel_=fb,n.Panel=new fb;var gb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Unit",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200),g="[any]: null for auto, 0~1 for percent, 0.9999 for 100%, N pixels, -0.xx for spared percent",h=f.width,i=f.height;return h&&(h[3]=g),i&&(i[3]=g),f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.className="rewgt-unit",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.widget&&this.widget.parent===x&&(this.duals.style=Object.assign({},this.props.style,{position:"absolute"})),c}}]),b}(cb);n.Unit_=gb,n.Unit=new gb;var hb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"SplitDiv",c));return d._defaultProp.width=4,d._defaultProp.height=4,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.width=4,c.height=4,c}},{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200),g="[number]: 0~1 for percent, 0.9999 for 100%, N pixels";return f.width=[e+1,"number",null,g],f.height=[e+2,"number",null,g],f}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);this.$gui.comps=[];var e=null,f=this.widget;if(f&&(e=f.parent,e=e&&e.component),!e)return o.instantShow("error: no owner widget for SplitDiv"),c;if(!P(e.props.className,"rewgt-panel"))return o.instantShow("error: owner of widget ("+f.getPath()+") is not rewgt-panel"),c;var g=!0;return P(e.props.className+" "+e.props.klass,["col-reverse","reverse-col"])&&(g=!1),Object.assign(this.$gui,{inRow:g,reversed:!1,inDrag:!1,dragStartX:0,dragStartY:0,resizeOwner:void 0,resizeTarg:void 0,sizingFunc:null}),this.defineDual("id__",function(a,b){if(1==b){var c=this.state;g?(("number"!=typeof c.width||c.width<1)&&(c.width=4),c.width>=1&&(c.minWidth=c.width,c.maxWidth=c.width),this.props.height>=1&&this.props.height<=4&&(c.height=.9999),void 0===this.props.minHeight&&(c.minHeight=10)):(("number"!=typeof c.height||c.height<1)&&(c.height=4),c.height>=1&&(c.minHeight=c.height,c.maxHeight=c.height),this.props.width>=1&&this.props.width<=4&&(c.width=.9999),void 0===this.props.minWidth&&(c.minWidth=10));var d={cursor:g?"ew-resize":"ns-resize"},e=!1;for(var f in c.style)if(f.startsWith("background")){e=!0;break}e||(d.backgroundColor="#ddd"),c.style=Object.assign({},c.style,d)}}),c}},{key:"$$onMouseDown",value:function(b){function e(a,b){var c=d.resizeOwner,e=d.resizeTarg;if(c&&e){var f=!1,g=-1,h=-1;if(d.inRow){g=e.state.width;var i=a-d.dragStartX;if(0!=i){var j=e.state.minWidth,k=e.state.maxWidth,l=g<1?g*e.state.parentWidth:g;if(g=d.reversed?l-i:l+i,j&&g<j&&(g=j),k&&g>k&&(g=k),g<1&&(g=1),g!=l){var n=g-l;d.reversed&&(n=-n),n!=i&&(a+=n-i),d.dragStartX=a,d.dragStartY=b,d.sizingFunc?d.sizingFunc(e,g,h,!d.inDrag):(e.state.width=g,_a(c,!d.inDrag,function(){e.reRender()})),f=!0}}}else{h=e.state.height;var o=b-d.dragStartY;if(0!=o){var p=e.state.minHeight,q=e.state.maxHeight,r=h<1?h*e.state.parentHeight:h;if(h=d.reversed?r-o:r+o,p&&h<p&&(h=p),q&&h>q&&(h=q),h<1&&(h=1),h!=r){var n=h-r;d.reversed&&(n=-n),n!=o&&(b+=n-o),d.dragStartX=a,d.dragStartY=b,d.sizingFunc?d.sizingFunc(e,g,h,!d.inDrag):(e.state.height=h,_a(c,!d.inDrag,function(){e.reRender()})),f=!0}}}f||d.inDrag||!(g>=1||h>=1)||(d.sizingFunc?d.sizingFunc(e,g,h,!0):_a(c,!0,function(){e.reRender()}))}}function f(a){if(!d.inDrag){var b=c.widget;b=b&&b.parent;var f=b&&b.component;if(!f)return;if(!f.$gui.isPanel)return;if(Array.isArray(f.props.sizes))return;var g=!1,h=d.inRow;if(h?Math.abs(a.clientX-d.dragStartX)>=4&&(g=!0):Math.abs(a.clientY-d.dragStartY)>=4&&(g=!0),g){for(var i=c.prevSibling();i;){var j=h?i.state.width:i.state.height,k=h?i.state.minWidth:i.state.minHeight,l=h?i.state.maxWidth:i.state.maxHeight;if("number"==typeof j&&j>0&&(0==k||0==l||k!=l)){d.reversed=P(f.props.className+" "+f.state.klass,["reverse-row","reverse-col"]),d.resizeOwner=f,d.resizeTarg=i,d.inDrag=!0,o.dragInfo.inDragging=!0;break}i=i.prevSibling()}var m,n;if(!d.inDrag&&!c.nextSibling()&&(m=b.parent)&&(n=m.component)&&f.$gui.sparedTotal>.989&&f.$gui.sparedTotal<=1.01){var j=h?f.state.width:f.state.height,k=h?f.state.minWidth:f.state.minHeight,l=h?f.state.maxWidth:f.state.maxHeight;if("number"==typeof j&&j>0&&.9999!=j&&(0==k||0==l||k!=l)&&(d.reversed=P(n.props.className+" "+n.state.klass,["reverse-row","reverse-col"]),d.resizeOwner=n,d.resizeTarg=f,d.inDrag=!0,o.dragInfo.inDragging=!0),!d.inDrag&&"number"==typeof j&&j>0&&n.$gui.sparedTotal>.989&&n.$gui.sparedTotal<=1.01){var p=m.parent,q=p&&p.component;if(q){var j=h?n.state.width:n.state.height,k=h?n.state.minWidth:n.state.minHeight,l=h?n.state.maxWidth:n.state.maxHeight;"number"==typeof j&&j>0&&.9999!=j&&(0==k||0==l||k!=l)&&(d.reversed=P(q.props.className+" "+q.state.klass,["reverse-row","reverse-col"]),d.resizeOwner=q,d.resizeTarg=n,d.inDrag=!0,o.dragInfo.inDragging=!0)}}if(d.inDrag){var r=d.resizeOwner.$gui.onCellSizing;r&&(d.sizingFunc=r)}}}}d.inDrag&&(a.stopPropagation(),e(a.clientX,a.clientY))}function g(a){o.dragInfo.inDragging=!1,d.inDrag=!1,setTimeout(function(){C=!1},300),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g),a.stopPropagation(),e(a.clientX,a.clientY),d.resizeOwner=null,d.resizeTarg=null,d.sizingFunc=null}var c=this,d=this.$gui;d.dragStartX=b.clientX,d.dragStartY=b.clientY,d.inDrag=!1,C=!0,document.addEventListener("mouseup",g,!1),document.addEventListener("mousemove",f,!1),b.stopPropagation(),this.$onMouseDown&&this.$onMouseDown(b)}},{key:"$onClick",value:function(b){b.stopPropagation()}}]),b}(gb);n.SplitDiv_=hb,n.SplitDiv=new hb;var ib=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"GridPanel",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.sizes=[e+1,"any",null,"[any]: [0.2,0.3,-0.4,-0.6], negative value stand for left space"],f.cellSpacing=[e+2,"number",null,"[number]: 0,1,2,..."],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.sizes=[.3,.3,-1],c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);if(!Array.isArray(this.props.sizes))return c;var e=this.$gui;return e.inRow=!P(e.className+" "+this.props.klass,["col-reverse","reverse-col"]),this.defineDual("cellSpacing",function(a,b){e.comps.length&&(e.useSparedX||e.useSparedY)&&(e.respared=!0)}),c.sizes=null,this.defineDual("sizes",function(a,b){if(Array.isArray(a)){a=this.state.sizes=a.slice(0);var c=!1,d=!1,f=0,g=this.widget===x;!g&&e.isPanel||(a.splice(0),c=!0,g&&console.log("error: only none-topmost panel can use props.sizes"));for(var h=a.length-1;h>=0;h--){var i=a[h];"number"!=typeof i||isNaN(i)?(a[h]=null,c=!0):i<0&&(d=!0,f+=-i)}var j=!1,k=!1;P(this.props.className+" "+this.state.klass,["col-reverse","reverse-col"])?k=!0:j=!0;var l=!Ba(a,b);if(!c&&d&&(j||k)){e.sparedTotal=f;var m=e.useSparedX,n=e.useSparedY;j?e.useSparedX=!0:e.useSparedY=!0,l||m==e.useSparedX&&n==e.useSparedY||(l=!0)}else e.sparedTotal=0,e.useSparedX=!1,e.useSparedY=!1;l&&(e.comps.length&&(e.removeNum+=1),e.respared=!0,this.reRender())}else this.state.sizes=null,e.sparedTotal=0,e.useSparedX=!1,e.useSparedY=!1,Array.isArray(b)&&(e.comps.length&&(e.removeNum+=1),this.reRender())}),this.defineDual("childNumId",function(a,b){var c=this.state.sizes,d=Array.isArray(c);if(d){var f=0,g=c.length;e.comps.forEach(function(a,b){if(a){if(P(a.props.className,"rewgt-static"))return void f++;if(a.props["isReference."])return void f++;if(void 0===a.props["childInline."])return void f++;var d=c[f++%g];e.inRow?a.props.width!==d&&(e.comps[b]=G(a,{width:d})):a.props.height!==d&&(e.comps[b]=G(a,{height:d}))}})}}),e.onCellSizing=function(a,b,c,d){var e=a.$gui.keyid,f=this.state.sizes;if(Array.isArray(f)){var g=this.$gui,h=g.compIdx[e],i=null,j=this.widget;if("number"==typeof h&&h>=0&&(i=g.comps[h]),i&&j){var k=f.length;if(g.inRow){if("number"==typeof b&&b>=0){b<1&&("number"!=typeof g.cssWidth?b=null:b*=g.cssWidth);var l=h%k;f[l]=b;var m=[];for(var n in g.compIdx){var o=g.compIdx[n];if("number"==typeof o&&o>=0&&o%k==l){var p=j[n];p=p&&p.component,p&&(p.state.width=b,m.push(p))}}_a(this,d,function(){for(var b,a=0;b=m[a];a++)b.reRender()})}else if("number"==typeof c&&c>=0){var l=Math.floor(h/k),q=l+k;for(var n in g.compIdx){var o=g.compIdx[n];if("number"==typeof o&&o>=l&&o<q){var p=j[n];if(p=p&&p.component){var r=p.state.height;if("number"==typeof r&&r>=0){var s=p.state.minHeight,t=p.state.maxHeight,u=c;"number"==typeof c&&c<1&&(u="number"!=typeof g.cssHeight?null:c*g.cssHeight),s&&("number"!=typeof u||u<s)&&(u=s),t&&("number"!=typeof u||u>t)&&(u=t),r!==u&&p.setState({height:u})}}}}}}else if("number"==typeof c&&c>=0){c<1&&("number"!=typeof g.cssHeight?c=null:c*=g.cssHeight);var l=h%k;f[l]=c;var m=[];for(var n in g.compIdx){var o=g.compIdx[n];if("number"==typeof o&&o>=0&&o%k==l){var p=j[n];p=p&&p.component,p&&(p.state.height=c,m.push(p))}}_a(this,d,function(){for(var b,a=0;b=m[a];a++)b.reRender()})}else if("number"==typeof b&&b>=0){var l=Math.floor(h/k),q=l+k;for(var n in g.compIdx){var o=g.compIdx[n];if("number"==typeof o&&o>=l&&o<q){var p=j[n];if(p=p&&p.component){var r=p.state.width;if("number"==typeof r&&r>=0){var s=p.state.minWidth,t=p.state.maxWidth,u=b;"number"==typeof b&&b<1&&(u="number"!=typeof g.cssWidth?null:b*g.cssWidth),s&&("number"!=typeof u||u<s)&&(u=s),t&&("number"!=typeof u||u>t)&&(u=t),r!==u&&p.setState({width:u})}}}}}}}}.bind(this),c}},{key:"render",value:function(){if(xa(this),this.hideThis)return null;var b=this.prepareState();m.__design__&&b.push(H("div",{key:"$end",title:"end of GridPanel",style:{width:"100%",height:"10px",backgroundColor:"#eee"}}));var c=$(this);return H("div",c,b)}}]),b}(fb);n.GridPanel_=ib,n.GridPanel=new ib;var jb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"TableRow",c));return d._silentProp.push("isTableRow."),d._defaultProp.height=void 0,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isTableRow."]=!0,c.height=null,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);if(m.__design__){var e=this;this.defineDual("childNumId",function(a,b){var c=e.widget,d=c&&c.parent;d=d&&d.component,d&&setTimeout(function(){d.reRender()},0)})}return c}},{key:"render",value:function(){var b=this.$gui,c=b.cssWidth,d=b.cssHeight;if(xa(this),this.hideThis)return null;var e=b.cssWidth=this.state.parentWidth,g="number"!=typeof e||e<0,h=this.state.parentHeight,i=this.state.height,j="number"!=typeof i||i<0;j?h=b.cssHeight=null:i>=1?h=b.cssHeight=i:"number"==typeof h?i>=.9999?(b.cssHeight=h,("number"!=typeof h||h<0)&&(j=!0)):h=b.cssHeight=h*i:(h=b.cssHeight=null,j=!0);var k=c!==e,l=this.widget,m=this.$gui.comps,n=[];
if(m.forEach(function(a){if(a){var b=X(a);if(b){var c,d,e,g,h,i=l&&l[b];i=i&&i.component,i?(c=i.state.width,d=i.state.height,e=i.state.colSpan,g=i.state.rowSpan,h=i.state.tdStyle):(c=a.props.width,d=a.props.height,e=a.props.colSpan,g=a.props.rowSpan,h=a.props.tdStyle);var m=b,o=parseInt(b);o+""===b&&(m=o);var p={key:b,"keyid.":m};e=parseInt(e),g=parseInt(g),e&&(p.colSpan=e+""),g&&(p.rowSpan=g+"");var q=null,r=null,s=!1,t=j;"number"==typeof c&&c>=0&&(q=c,p.style={width:c>=1?c+"px":c>=.9999?"100%":100*c+"%"}),"object"==("undefined"==typeof h?"undefined":f(h))&&(p.style=Object.assign(p.style||{},h)),"number"==typeof d&&d>=0?d>=1?(r=d,t=!1):j?s=!0:r=d:t=!0,(k&&null!==q||s)&&(a=G(a,{width:q,height:r})),n.push(H("td",p,a))}}}),this.isHooked&&(!g&&c!==e||!j&&d!==h||o.dragInfo.justResized)){var p=this;setTimeout(function(){Ka(p,o.dragInfo.inDragging)},0)}var q=Object.assign({},this.state.style);!j&&h>=0?q.height=h+"px":delete q.height;var r=$(this,q);return H("tr",r,n)}}]),b}(gb);n.TableRow_=jb,n.TableRow=new jb;var kb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"TablePanel",c));return d._defaultProp.height=void 0,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.className="rewgt-unit rewgt-table",c.height=null,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this),e=this;return this.defineDual("childNumId",function(a,b){e.$gui.respared=!0}),c}},{key:"render",value:function(){var b=this.$gui,c=b.cssWidth,d=b.cssHeight;if(xa(this),this.hideThis)return null;var e=this.prepareState();if(this.isHooked&&("number"==typeof b.cssWidth&&c!==b.cssWidth||"number"==typeof b.cssHeight&&d!==b.cssHeight||o.dragInfo.justResized)){var f=this;setTimeout(function(){Ka(f,o.dragInfo.inDragging)},0)}var g=this.widget;if(m.__design__&&g){var h=2,i=[];e.forEach(function(a){if(a){var b=0,c=0,d=!1,e=Pa(a,g);e.forEach(function(a){for(var e=i[b]||0;e>=2;)i[b++]=e-1,c+=1,e=i[b]||0;var f=parseInt(a.props.rowSpan||0),g=parseInt(a.props.colSpan||0);if(g>=2)for(;g>=2;){g-=1;var h=Math.max(0,(i[b]||0)-1);i[b++]=Math.max(h,f),c+=1}var j=a.props.width;("number"!=typeof j||j<0)&&(d=!0),i[b++]=f,c+=1}),i.splice(b),d||(c+=1),c>h&&(h=c)}});for(var j={style:{margin:"10px"}},k={style:{margin:"2px"}},l=[],n=0;n<h;n+=1)l.push(H("td",{key:n+"",style:{backgroundColor:"#eee"}},H("div",0==n?j:k)));e.push(H("tr",{key:"$end",title:"end of TablePanel",style:{height:"10px"}},l))}var p=H("tbody",null,e),q=$(this);return H("table",q,p)}}]),b}(fb);n.TablePanel_=kb,n.TablePanel=new kb;var lb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Div",c));return d._silentProp.push("tagName."),d._defaultProp.height=void 0,d._defaultProp.minHeight=20,d._htmlText=!0,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.width=.9999,c.height=null,c.minHeight=20,c["tagName."]="div",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return c["html."]=null,this.defineDual("html.",function(a,b){this.state["html."]=a||null}),c}},{key:"render",value:function(){if(xa(this),this.hideThis)return null;var b=this.prepareState(),c=$(this);return H(this.props["tagName."],c,b.length?b:this.state["html."])}}]),b}(gb);n.Div_=lb,n.Div=new lb;var mb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"HiddenDiv",c));return d._defaultProp.width=void 0,delete d._defaultProp.minHeight,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.width=null,delete c.minHeight,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.hideThis=!0,c}}]),b}(lb);n.HiddenDiv_=mb,n.HiddenDiv=new mb,n.Article_=nb(lb,"Article"),n.Article=new n.Article_,n.Section_=nb(lb,"Section"),n.Section=new n.Section_,n.Header_=nb(lb,"Header"),n.Header=new n.Header_,n.Footer_=nb(lb,"Footer"),n.Footer=new n.Footer_,n.Aside_=nb(lb,"Aside"),n.Aside=new n.Aside_,n.Nav_=nb(lb,"Nav"),n.Nav=new n.Nav_,n.Main_=nb(lb,"Main"),n.Main=new n.Main_;var ob=[6,0,6,0],pb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"P",c));return d._silentProp.push("tagName."),d._defaultProp.width=void 0,d._defaultProp.height=void 0,d._defaultProp.margin=ob.slice(0),d._htmlText=!0,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.width=null,c.height=null,c.margin=ob.slice(0),c["childInline."]=!0,c["tagName."]="p",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return c["html."]=null,this.defineDual("html.",function(a,b){this.state["html."]=a||null}),c}},{key:"render",value:function(){if(xa(this),this.hideThis)return null;var b=this.prepareState(),c=$(this);return H(this.props["tagName."],c,b.length?b:this.state["html."])}}]),b}(gb);n.P_=pb,n.P=new pb;var qb=k.createClass(n.P._extend()),rb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Noscript",c));return delete d._defaultProp.margin,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="noscript",delete c.margin,c}},{key:"render",value:function(){return xa(this),H(this.props["tagName."])}}]),b}(pb);n.Noscript_=rb,n.Noscript=new rb;var sb=[10,10,10,10],tb=[2,2,2,2],ub=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Fieldset",c));return d._defaultProp.padding=sb.slice(0),d._defaultProp.borderWidth=tb.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.padding=sb.slice(0),c.borderWidth=tb.slice(0),c["tagName."]="fieldset",c}}]),b}(pb);n.Fieldset_=ub,n.Fieldset=new ub,n.Details_=nb(pb,"Details"),n.Details=new n.Details_;var vb=[0,0,0,20],wb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Ul",c));return d._defaultProp.padding=vb.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="ul",c.padding=vb.slice(0),c}}]),b}(pb);n.Ul_=wb,n.Ul=new wb;var xb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Ol",c));return d._defaultProp.padding=vb.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="ol",c.padding=vb.slice(0),c}}]),b}(pb);n.Ol_=xb,n.Ol=new xb,n.Li_=nb(pb,"Li"),n.Li=new n.Li_,n.Dl_=nb(pb,"Dl"),n.Dl=new n.Dl_,n.Dd_=nb(pb,"Dd"),n.Dd=new n.Dd_,n.Dt_=nb(pb,"Dt"),n.Dt=new n.Dt_,n.Figure_=nb(pb,"Figure"),n.Figure=new n.Figure_,n.Figcaption_=nb(pb,"Figcaption"),n.Figcaption=new n.Figcaption_,n.Menu_=nb(pb,"Menu"),n.Menu=new n.Menu_,n.Menuitem_=nb(pb,"Menuitem"),n.Menuitem=new n.Menuitem_,n.Address_=nb(pb,"Address"),n.Address=new n.Address_,n.Form_=nb(pb,"Form"),n.Form=new n.Form_;var yb=[0,0,0,0],zb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Iframe",c));return d._defaultProp.margin=yb.slice(0),d._htmlText=!1,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="iframe",c.margin=yb.slice(0),c}}]),b}(pb);n.Iframe_=zb,n.Iframe=new zb;var Ab=[0,30,0,30],Bb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Blockquote",c));return d._defaultProp.padding=Ab.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.padding=Ab.slice(0),c["tagName."]="blockquote",c}}]),b}(pb);n.Blockquote_=Bb,n.Blockquote=new Bb;var Cb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Table",c));return d._htmlText=!1,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="table",c}}]),b}(pb);n.Table_=Cb,n.Table=new Cb,n.Caption_=nb(pb,"Caption"),n.Caption=new n.Caption_,n.Col_=nb(pb,"Col"),n.Col=new n.Col_,n.Colgroup_=nb(pb,"Colgroup"),n.Colgroup=new n.Colgroup_,n.Td_=nb(pb,"Td"),n.Td=new n.Td_;var Db=[0,0,0,0],Eb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Tbody",c));return d._defaultProp.margin=Db.slice(0),d._htmlText=!1,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="tbody",c.margin=Db.slice(0),c}},{key:"render",value:function(){if(m.__design__){if(xa(this),this.hideThis)return null;var c=this.prepareState(),e=H("tr",{key:"$end",title:"end of Tbody",style:{height:"10px"}},H("td"));c.push(e);var f=$(this);return H(this.props["tagName."],f,c)}return d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this)}}]),b}(pb);n.Tbody_=Eb,n.Tbody=new Eb,n.Thead_=nb(pb,"Thead"),n.Thead=new n.Thead_,n.Tfoot_=nb(pb,"Tfoot"),n.Tfoot=new n.Tfoot_;var Fb=[0,0,0,0],Gb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Th",c));return d._defaultProp.margin=Fb.slice(0),d._htmlText=!1,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="th",c.margin=Fb.slice(0),c}}]),b}(pb);n.Th_=Gb,n.Th=new Gb;var Hb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Tr",c));return d._defaultProp.margin=Fb.slice(0),d._htmlText=!1,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="tr",c.margin=Fb.slice(0),c}}]),b}(pb);n.Tr_=Hb,n.Tr=new Hb,n.Hgroup_=nb(pb,"Hgroup"),n.Hgroup=new n.Hgroup_,n.H1_=nb(pb,"H1"),n.H1=new n.H1_,n.H2_=nb(pb,"H2"),n.H2=new n.H2_,n.H3_=nb(pb,"H3"),n.H3=new n.H3_,n.H4_=nb(pb,"H4"),n.H4=new n.H4_,n.H5_=nb(pb,"H5"),n.H5=new n.H5_,n.H6_=nb(pb,"H6"),n.H6=new n.H6_;var Ib=[1,1,1,1],Jb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Hr",c));return d._defaultProp.width=.9999,d._defaultProp.borderWidth=Ib.slice(0),d._htmlText=!1,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.width=.9999,c.borderWidth=Ib.slice(0),c["tagName."]="hr",c}}]),b}(pb);n.Hr_=Jb,n.Hr=new Jb,n.Pre_=nb(pb,"Pre"),n.Pre=new n.Pre_;var Kb={style:{display:"none"}},Lb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Span",c));return d._statedProp=[],d._silentProp=["className","hookTo.","keyid.","childInline.","tagName."],d._defaultProp={width:void 0,height:void 0},d._htmlText=!0,d}return h(b,a),e(b,[{key:"_getSchema",value:function(b,c){return{key:[-1,"string"],width:[],height:[]}}},{key:"getDefaultProps",value:function(){return{"childInline.":!0,"tagName.":"span"}}},{key:"getInitialState",value:function(){var b=this.getShadowTemplate();if(Object.defineProperty(this,"_",{enumerable:!1,configurable:!1,writable:!1,value:b}),this.isHooked=!1,this.hideThis=!1,m.__debug__&&0==o.widgetNum())return o.instantShow("error: inline widget can not be used as topmost panel."),{};this.duals={};var c={inSync:!1,removeNum:0,className:this.props.className||"",compState:0,duals:{},initDuals:[],initDuals0:[],connectTo:{},connectBy:{},id__:0,id2__:0},d=c.eventset={},e=c.tagAttrs=[],g=c.dualAttrs={},h=c.dataset=[],i=c.exprAttrs=[],j="",k="",l="";c.forExpr=!1,c.hasIdSetter=!1;var n={},p=this.$eventset||[{},{}],r=p[0],s=p[1];delete this.$eventset;for(var w,t=null,u=Object.keys(this.props),v=0;w=u[v];v++)if(0==w.indexOf("data-"))"data-unit.path"!=w&&"data-span.path"!=w||(j=w,k=this.props[w]),h.push(w);else if(0==w.indexOf("dual-")){var z=w.slice(5).replace(bb,function(a,b){return b.toUpperCase()});z&&(g[z]=w)}else if(0==w.indexOf("aria-"))h.push(w);else if("$"==w[0]&&w.length>1){var A=this.props[w],C="undefined"==typeof A?"undefined":f(A);if("string"==C){if("$id__"!=w){var D=!1;w=w.slice(1),"$for"==w&&(w="for",D=!0),K.indexOf(w)>=0?"for"==w?c.forExpr?console.log("warning: reduplicate property ($for)"):(c.forExpr=D?2:1,i.push(w)):l?console.log("error: property ($"+w+") conflict with previous ($"+l+")"):(l=w,"else"!=w&&i.push(w)):"children"==w?this.props.hasOwnProperty("for.index")&&(c.isChildExpr=!0,c.children2=this.props.children):"key"!=w&&i.push(w);continue}A=q[A],C="undefined"==typeof A?"undefined":f(A)}if("function"==C){if("$"==w[1]){console.log("warning: invalid using props."+w);continue}w=w.slice(1),"id__"==w?(t=A,c.hasIdSetter=!0):s[w]||(n[w]=A.bind(this))}}else{var E=Xa[w];E&&5!=E&&e.push(w)}c.flowFlag=l,c.dataset2=h.slice(0);for(var F in r)d[F]=this["$"+F];for(var F in n)d[F]=n[F];for(var F in s)d[F]=this["$$"+F];Object.defineProperty(this,"$gui",{enumerable:!1,configurable:!1,writable:!1,value:c}),m.__design__&&(c.className=Q(c.className,"rewgt-inline"));var L=(Object.assign({},this.props.style),{id__:0,childNumId:0,duals:[],exprAttrs:i.slice(0),klass:"",style:{},"html.":null});if(m.__design__){var M=b._getGroupOpt(this);L["data-group.opt"]=M.type+"/"+M.editable}var N=this.props["keyid."];if(N){var O="undefined"==typeof N?"undefined":f(N);"string"!=O&&"number"!=O&&(N=void 0)}var R=this.props["hookTo."];"string"==typeof R&&(R=m.W(R)),Array.isArray(R)&&R.W&&(void 0!==N?R.$set(N,R.W(this)):N=R.push(R.W(this))-1,c.keyid=N),c.compIdx={},c.comps=I(this.props.children),Object.defineProperty(this.duals,"keyid",{enumerable:!0,configurable:!0,get:function(){return this.$gui.keyid}.bind(this),set:function(b,c){throw new Error("property (keyid) is readonly")}}),this.defineDual("klass",function(a,b){this.state.klass=a||""}),this.defineDual("style",function(a,b){this.state.style=Object.assign({},b,a)}),this.defineDual("html.",function(a,b){this.state["html."]=a||null}),this.defineDual("id__",function(a,b){this.state.id__=a,c.id__=c.id2__=a}),t&&this.defineDual("id__",t),this.defineDual("trigger",ab);var S=this.widget;if(R&&S&&j){S.$callspace={flowFlag:"ref",forSpace:null},S.$callspace[j]=k;var T=S.$callspace.exprSpace={};na(T,this)}return this.defineDual("childNumId",function(a,b){var d=this,e=this.widget;if(e){0==b&&e.parent===x&&console.log("warning: can not hook inline widget to topmost directly.");var f=c.compIdx,g=c.comps;g.forEach(function(a,b){if("string"==typeof a){if(0==b&&1==g.length&&d.duals.hasOwnProperty("html."))return d.state["html."]=a,void(g[b]=void 0);a=g[b]=H(Mb,{"html.":a})}else if(!a)return;var h,i=X(a),j=!1;if(i){var k=parseInt(i);h=k+""===i?k:i,"number"==typeof f[i]&&(j=!0)}else h=b+c.removeNum,i=h+"";if(P(a.props.className,"rewgt-static")){if(j)return void(f[h]=b);var l=Object.assign({},a.props);return l.key=i,!m.__design__||d.props.$for||d.props.$$for||(l.onMouseDown=Ha,l.onDoubleClick=Ia.bind(d)),f[h]=b,void(g[b]=H("span",l))}var n=a.props["childInline."];return void 0===n?(f[h]=b,void(j||(g[b]=G(a,{key:i})))):n?(!j&&a.props["isReference."]&&("$"!=i[0]&&(i=h="$"+i),y&&B.push([d,h])),j&&e!==a.props["hookTo."]&&(j=!1),f[h]=b,void(j||(g[b]=G(a,{"hookTo.":e,key:i,"keyid.":h})))):void(g[b]=void 0)})}}),L}},{key:"willResizing",value:function(b,c,d){return!1}},{key:"prepareState",value:function(){console.log("warning: inline widget not support prepareState()")}},{key:"render",value:function(){if(xa(this),this.hideThis)return H("span",Kb);var b=$(this),c=this.$gui.comps,d=c.length?c:this.state["html."];return H(this.props["tagName."],b,d)}}]),b}(cb);n.Span_=Lb,n.Span=new Lb;var Mb=k.createClass(n.Span._extend()),Nb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"HiddenSpan",c))}return h(b,a),e(b,[{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.hideThis=!0,c}}]),b}(Lb);n.HiddenSpan_=Nb,n.HiddenSpan=new Nb;var Ob=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Br",c));return d._htmlText=!1,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="br",c}}]),b}(Lb);n.Br_=Ob,n.Br=new Ob;var Pb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"A",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="a",c}},{key:"$$onClick",value:function(b){m.__design__&&b.preventDefault(),this.$onClick&&this.$onClick(b)}}]),b}(Lb);n.A_=Pb,n.A=new Pb,n.Q_=nb(Lb,"Q"),n.Q=new n.Q_,n.Abbr_=nb(Lb,"Abbr"),n.Abbr=new n.Abbr_;var Rb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Audio",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.src=[e+1,"string",null],f.autoPlay=[e+2,"string",["","autoplay"]],f.controls=[e+3,"string",["","controls"]],f.loop=[e+4,"string",["","loop"]],f.muted=[e+5,"string",["","muted"]],f.preload=[e+6,"string",["auto","meta","none"]],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="audio",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return Qb(this),c}}]),b}(Lb);n.Audio_=Rb,n.Audio=new Rb,n.Source_=nb(Lb,"Source"),n.Source=new n.Source_,n.Track_=nb(Lb,"Track"),n.Track=new n.Track_,n.Bdi_=nb(Lb,"Bdi"),n.Bdi=new n.Bdi_,n.Bdo_=nb(Lb,"Bdo"),n.Bdo=new n.Bdo_,n.Data_=nb(Lb,"Data"),n.Data=new n.Data_,n.Mark_=nb(Lb,"Mark"),n.Mark=new n.Mark_,n.Wbr_=nb(Lb,"Wbr"),n.Wbr=new n.Wbr_,n.Button_=nb(Lb,"Button"),n.Button=new n.Button_;var Sb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Textarea",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.disabled=[e+1,"string",["","disabled"]],f.readonly=[e+2,"string",["","readonly"]],f.placeholder=[e+3,"string"],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="textarea",c}}]),b}(Lb);n.Textarea_=Sb,n.Textarea=new Sb;var Tb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Progress",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.value=[e+1,"string"],f.max=[e+2,"string"],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="progress",c}}]),b}(Lb);n.Progress_=Tb,n.Progress=new Tb;var Ub=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Img",c));return d._htmlText=!1,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="img",c}},{key:"$$onDragStart",value:function(b){return m.__design__?void b.preventDefault():void(this.$onDragStart&&this.$onDragStart(b))}}]),b}(Lb);n.Img_=Ub,n.Img=new Ub;var Vb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Video",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="video",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return Qb(this),c}}]),b}(Lb);n.Video_=Vb,n.Video=new Vb,n.Canvas_=nb(Lb,"Canvas"),n.Canvas=new n.Canvas_,n.Picture_=nb(Lb,"Picture"),n.Picture=new n.Picture_,n.Map_=nb(Lb,"Map"),n.Map=new n.Map_,n.Area_=nb(Lb,"Area"),n.Area=new n.Area_,n.Time_=nb(Lb,"Time"),n.Time=new n.Time_,n.Output_=nb(Lb,"Output"),n.Output=new n.Output_;var Wb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Input",c));return d._htmlText=!1,d}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return Object.assign(f,{type:[e+1,"string",["text","button","checkbox","file","hidden","image","password","radio","reset","submit","color","date","datetime","datetime-local","email","month","number","range","search","tel","time","url","week"]],checked:[e+2,"string",["","checked"]],disabled:[e+3,"string",["","disabled"]],readonly:[e+4,"string",["","readonly"]],value:[e+5,"string"],placeholder:[e+6,"string"],min:[e+7,"string"],max:[e+8,"string"],step:[e+9,"string"],pattern:[e+10,"string"],src:[e+11,"string"],required:[e+12,"string",["","required"]]}),f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="input",c.type="text",c}},{key:"$$onChange",value:function(b){this.setState({value:b.target.value}),this.$onChange&&this.$onChange(b)}}]),b}(Lb);n.Input_=Wb,n.Input=new Wb,n.Keygen_=nb(Lb,"Keygen"),n.Keygen=new n.Keygen_;var Xb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Label",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.htmlFor=[e+1,"string",null,"[string]: indicate which input widget"],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="label",c}}]),b}(Lb);n.Label_=Xb,n.Label=new Xb,n.Legend_=nb(Lb,"Legend"),n.Legend=new n.Legend_,n.Sub_=nb(Lb,"Sub"),n.Sub=new n.Sub_,n.Sup_=nb(Lb,"Sup"),n.Sup=new n.Sup_;var Yb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Select",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.multiple=[e+1,"string",["","multiple"]],f.disabled=[e+2,"string",["","disabled"]],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="select",c}}]),b}(Lb);n.Select_=Yb,n.Select=new Yb,n.Datalist_=nb(Yb,"Datalist"),n.Datalist=new n.Datalist_;var Zb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Optgroup",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.label=[e+1,"string"],f.disabled=[e+2,"string",["","disabled"]],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="optgroup",c}}]),b}(Lb);n.Optgroup_=Zb,n.Optgroup=new Zb,n.Option_=nb(Lb,"Option"),n.Option=new n.Option_,n.B_=nb(Lb,"B"),n.B=new n.B_,n.I_=nb(Lb,"I"),n.I=new n.I_,n.S_=nb(Lb,"S"),n.S=new n.S_,n.U_=nb(Lb,"U"),n.U=new n.U_,n.Ins_=nb(Lb,"Ins"),n.Ins=new n.Ins_,n.Del_=nb(Lb,"Del"),n.Del=new n.Del_,n.Code_=nb(Lb,"Code"),n.Code=new n.Code_,n.Var_=nb(Lb,"Var"),n.Var=new n.Var_,n.Summary_=nb(Lb,"Summary"),n.Summary=new n.Summary_,n.Em_=nb(Lb,"Em"),n.Em=new n.Em_,n.Strong_=nb(Lb,"Strong"),n.Strong=new n.Strong_,n.Big_=nb(Lb,"Big"),n.Big=new n.Big_,n.Small_=nb(Lb,"Small"),n.Small=new n.Small_,n.Dfn_=nb(Lb,"Dfn"),n.Dfn=new n.Dfn_,n.Samp_=nb(Lb,"Samp"),n.Samp=new n.Samp_,n.Kdb_=nb(Lb,"Kdb"),n.Kdb=new n.Kdb_,n.Cite_=nb(Lb,"Cite"),n.Cite=new n.Cite_,n.Dialog_=nb(Lb,"Dialog"),n.Dialog=new n.Dialog_;var $b=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Meter",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.value=[e+1,"string"],f.high=[e+2,"string"],f.low=[e+3,"string"],f.max=[e+4,"string"],f.min=[e+5,"string"],f.optimum=[e+6,"string"],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="meter",c}}]),b}(Lb);n.Meter_=$b,n.Meter=new $b,n.Embed_=nb(Lb,"Embed"),n.Embed=new n.Embed_,n.Object_=nb(Lb,"Object"),n.Object=new n.Object_,n.Param_=nb(Lb,"Param"),n.Param=new n.Param_,n.Ruby_=nb(Lb,"Ruby"),n.Ruby=new n.Ruby_,n.Rp_=nb(Lb,"Rp"),n.Rp=new n.Rp_,n.Rt_=nb(Lb,"Rt"),n.Rt=new n.Rt_;var ac=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"NavPanel",c));return d._silentProp.push("isNavigator."),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isNavigator."]=1,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);c.checkedId="";var e=this.$gui;return e.navItems={},e.navOrder=[],e.navSubkey=void 0,this.widget&&this.widget===x&&o.instantShow("error: NavPanel/NavDiv can not be used at topmost."),e.updateNavItems=function(){function k(a){return c.findIndex(function(b){return b[0]===a})}var a=e.comps,b=a.length;e.navSubkey=void 0,m.__design__&&(e.navItems={});for(var c=[],d=0;d<b;d++){var f=a[d];if(f){var g,h=X(f);if(!h)continue;if(f.props["isNavigator."]&&(e.navSubkey=h),parseInt(h)+""===h)continue;f.props["isPlayground."]?(e.navItems[h]=f,c.push([h,!0])):c.push([h,!1])}}for(var i=c.length,d=e.navOrder.length-1;d>=0;d--){var j=e.navOrder[d];if(j[1])k(j[0])<0&&c.splice(i,0,j);else{var g=k(j[0]);g<0?e.navOrder.splice(d,1):i=g}}e.navOrder=c},this.defineDual("childNumId",function(a,b){e.updateNavItems()}),c}},{key:"listOptComp",value:function(b){function k(a){var d=a.component;if(d)if(d.props["isOption."]){if(c.push(d),b&&b===d.$gui.keyid)return!0}else{if(d.props["isNavigator."])return!1;for(var e=d.$gui.comps,f=e.length,g=0;g<f;g++){var h=e[g];if(h){var i=X(h),j=i&&a[i];if(j&&k(j))return!0}}}return!1}var c=[],d=this.widget;if(!d)return c;for(var e=this.$gui.comps,f=e.length,g=0;g<f;g++){var h=e[g];if(h&&!h.props["isPlayground."]){var i=X(h),j=i&&d[i];if(j&&k(j))return c}}return c}},{key:"fireChecked",value:function(b,c){if(this.isHooked&&b&&b!==this.state.checkedId){b+="";var d=this.listOptComp(b),e=d[0];if(e&&e.setChecked)return void e.setChecked(c);if(!e)return void _b(this,b,c)}c&&c()}},{key:"prepareState",value:function(){var c=this.$gui,e=c.cssWidth,f=c.cssHeight,g=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"prepareState",this).call(this);if(!c.isPanel&&this.isHooked&&("number"==typeof c.cssWidth&&e!==c.cssWidth||"number"==typeof c.cssHeight&&f!==c.cssHeight||o.dragInfo.justResized)){var h=this;setTimeout(function(){Ka(h,o.dragInfo.inDragging)},0)}return g}},{key:"render",value:function(){function q(a,b){for(var d,c=0;d=a[c];c++)if(b==X(d))return c;return-1}if(xa(this),this.hideThis)return null;var b=this.prepareState();if(m.__design__){var c=this.widget;c&&setTimeout(function(){b.forEach(function(a){var b=a&&X(a),d=b&&c[b];d=d&&d.component,d&&d.reRender()})},0)}else{for(var d=this.state.checkedId+"",e=b.length-1,f=!1;e>=0;){var g=b[e];g.props["isPlayground."]&&(d&&d==X(g)?f=!0:b.splice(e,1)),e-=1}if(!f&&d){var h=this.$gui,g=h.navItems[d];if(g){var i=h.navOrder.findIndex(function(a){return a[0]===d});if(i<0)b.push(g);else{for(var l,n,j=h.navOrder.slice(i+1),k=0,o=!1;(l=j.findIndex(function(a,b){return b>=k&&!a[1]}))>=0;){if(n=q(b,j[l][0]),n>=0){o=!0;break}k=l}o?b.splice(n,0,g):b.push(g)}}}}var p=$(this);return H("div",p,b)}}]),b}(fb);n.NavPanel_=ac,n.NavPanel=new ac;var bc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"NavDiv",c));return d._silentProp.push("tagName."),d._defaultProp.height=void 0,d._defaultProp.minHeight=20,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.className="rewgt-unit",c["isNavigator."]=2,c["tagName."]="div",c.height=null,c.minHeight=20,c}}]),b}(ac);n.NavDiv_=bc,n.NavDiv=new bc;var dc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"GroundPanel",c));return d._silentProp.push("isPlayground."),d._defaultProp.height=void 0,d._defaultProp.minHeight=20,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isPlayground."]=1,c.width=.9999,c.height=null,c.minHeight=20,c}},{key:"render",value:function(){return m.__design__?cc(this,1):d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this)}}]),b}(fb);n.GroundPanel_=dc,n.GroundPanel=new dc;var ec=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"GroundDiv",c));return d._silentProp.push("tagName.","isPlayground."),d._defaultProp.height=void 0,d._defaultProp.minHeight=20,d._htmlText=!0,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.width=.9999,c.height=null,c.minHeight=20,c["tagName."]="div",c["isPlayground."]=2,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return c["html."]=null,this.defineDual("html.",function(a,b){this.state["html."]=a||null}),c}},{key:"render",value:function(){
if(m.__design__)return cc(this,2);if(xa(this),this.hideThis)return null;var b=this.prepareState(),c=$(this);return H(this.props["tagName."],c,b.length?b:this.state["html."])}}]),b}(gb);n.GroundDiv_=ec,n.GroundDiv=new ec;var lc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptSpan",c));return d._statedProp.push("data-checked"),d._silentProp.push("isOption."),d._defaultProp["data-checked"]="",d}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return kc(f,e)}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["data-checked"]="",c["isOption."]=!0,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return jc(this,c),c}},{key:"findNavOwner",value:function(){return fc(this)}},{key:"fireTrigger",value:function(){_(void 0,this)}},{key:"clearChecked",value:function(){this.state["data-checked"]&&(this.duals["data-checked"]="")}},{key:"setChecked",value:function(b,c,d){ic(this,b,c,d)}},{key:"$$onClick",value:function(b){m.__design__&&b.stopPropagation(),this.setChecked(null),this.$onClick&&this.$onClick(b)}}]),b}(Lb);n.OptSpan_=lc,n.OptSpan=new lc;var mc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptA",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="a",c}},{key:"$$onClick",value:function(c){m.__design__&&c.preventDefault(),d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"$$onClick",this).call(this,c)}}]),b}(lc);n.OptA_=mc,n.OptA=new mc;var nc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptImg",c));return d._htmlText=!1,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="img",c}}]),b}(lc);n.OptImg_=nc,n.OptImg=new nc;var oc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptButton",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="button",c}}]),b}(lc);n.OptButton_=oc,n.OptButton=new oc;var pc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptOption",c));return d._silentProp.push("selected"),d}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.value=[e+1,"string"],f.label=[e+2,"string"],f.disabled=[e+3,"string",["","disabled"]],f}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);this.$gui;return this.defineDual("data-checked",function(a,b){var c="false"!==a&&"0"!==a&&a?"1":"";this.props.hasOwnProperty("selected")&&(this.state.selected=c);var d=this;setTimeout(function(){var b=F(d);b&&(b.selected=!!a)},0)}),c}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="option",c}}]),b}(lc);n.OptOption_=pc,n.OptOption=new pc;var qc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptDiv",c));return d._statedProp.push("data-checked"),d._silentProp.push("isOption."),d._defaultProp["data-checked"]="",d}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return kc(f,e)}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="div",c["data-checked"]="",c["isOption."]=!0,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return jc(this,c),c}},{key:"findNavOwner",value:function(){return fc(this)}},{key:"fireTrigger",value:function(){_(void 0,this)}},{key:"clearChecked",value:function(){this.state["data-checked"]&&(this.duals["data-checked"]="")}},{key:"setChecked",value:function(b,c,d){ic(this,b,c,d)}},{key:"$$onClick",value:function(b){m.__design__&&b.stopPropagation(),this.setChecked(null),this.$onClick&&this.$onClick(b)}}]),b}(lb);n.OptDiv_=qc,n.OptDiv=new qc;var rc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptLi",c));return d._statedProp.push("data-checked"),d._silentProp.push("isOption."),d._defaultProp["data-checked"]="",d}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return kc(f,e)}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="li",c["data-checked"]="",c["isOption."]=!0,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return jc(this,c),c}},{key:"findNavOwner",value:function(){return fc(this)}},{key:"fireTrigger",value:function(){_(void 0,this)}},{key:"clearChecked",value:function(){this.state["data-checked"]&&(this.duals["data-checked"]="")}},{key:"setChecked",value:function(b,c,d){ic(this,b,c,d)}},{key:"$$onClick",value:function(b){m.__design__&&b.stopPropagation(),this.setChecked(null),this.$onClick&&this.$onClick(b)}}]),b}(pb);n.OptLi_=rc,n.OptLi=new rc;var sc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptInput",c));return d._htmlText=!1,d}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.type=[e+1,"string",["checkbox","radio","button","image"]],f.value=[e+2,"string"],f.src=[e+3,"string"],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="input",c.type="checkbox",c.checked="",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);this.$gui;return this.defineDual("data-checked",function(a,b){var c="false"!==a&&"0"!==a&&a?"1":"";this.state.checked=c}),c}},{key:"clearChecked",value:function(b){b||(b=F(this)),b&&(b.checked&&(b.checked=!1),this.state["data-checked"]&&(this.duals["data-checked"]=""))}},{key:"$$onChange",value:function(b){m.__design__&&b.stopPropagation();var c=this.state.type;if("checkbox"===c||"radio"===c){var d=F(this);d&&(d.checked?this.setChecked(null):this.clearChecked(d))}this.$onChange&&this.$onChange(b)}},{key:"$$onClick",value:function(b){m.__design__&&b.stopPropagation();var c=this.state.type;"checkbox"!==c&&"radio"!==c&&this.setChecked(null),this.$onClick&&this.$onClick(b)}}]),b}(lc);n.OptInput_=sc,n.OptInput=new sc;var xc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"TempPanel",c));return d._silentProp.push("isTemplate.","data-temp.type"),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isTemplate."]=1,m.__design__?c["data-temp.type"]=1:(c.width=0,c.height=0),c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);vc(this.$gui),this.isLibGui=!1;var e=this.props.style;if(this.props["hookTo."]===x&&(this.duals.style=e=Object.assign({},e,{position:"absolute"}),(this.$gui.keyid+"").startsWith("$$")&&(this.isLibGui=!0)),m.__design__&&!this.isLibGui)this.duals.style=Object.assign({},e,{display:"none"}),uc(this);else{var f=this.props.template;f instanceof Sa?this.$gui.template=f:uc(this),this.$gui.compIndex={},this.$gui.comps=[]}return c}},{key:"elementOf",value:function(b){return wc(this,b)}},{key:"render",value:function(){if(m.__design__&&!this.isLibGui)return d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this);if(xa(this),this.hideThis)return null;var c=Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}),e=$(this,c);return H("div",e)}}]),b}(fb);n.TempPanel_=xc,n.TempPanel=new xc;var yc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"TempDiv",c));return d._silentProp.push("isTemplate.","tagName.","data-temp.type"),d._htmlText=!0,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isTemplate."]=2,c["tagName."]="div",m.__design__?c["data-temp.type"]=2:(c.width=0,c.height=0),c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);vc(this.$gui),this.isLibGui=!1;var e=this.props.style;if(this.props["hookTo."]===x&&(this.duals.style=e=Object.assign({},e,{position:"absolute"}),(this.$gui.keyid+"").startsWith("$$")&&(this.isLibGui=!0)),m.__design__&&!this.isLibGui)this.duals.style=Object.assign({},e,{display:"none"}),uc(this);else{var f=this.props.template;f instanceof Sa?this.$gui.template=f:uc(this),this.$gui.compIndex={},this.$gui.comps=[]}return c}},{key:"elementOf",value:function(b){return wc(this,b)}},{key:"render",value:function(){if(m.__design__&&!this.isLibGui)return d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this);if(xa(this),this.hideThis)return null;var c=Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}),e=$(this,c);return H("div",e)}}]),b}(gb);n.TempDiv_=yc,n.TempDiv=new yc;var zc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"TempSpan",c));return d._silentProp.push("isTemplate.","data-temp.type"),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isTemplate."]=3,m.__design__&&(c["data-temp.type"]=3),c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);if(vc(this.$gui),this.isLibGui=!1,m.__design__)this.duals.style=Object.assign({},this.props.style,{display:"none"}),uc(this);else{var e=this.props.template;e instanceof Sa?this.$gui.template=e:uc(this),this.$gui.compIndex={},this.$gui.comps=[]}return c}},{key:"elementOf",value:function(b){return wc(this,b)}},{key:"render",value:function(){if(m.__design__)return d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this);if(xa(this),this.hideThis)return H("span",Kb);var c=Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}),e=$(this,c);return H("span",e)}}]),b}(Lb);n.TempSpan_=zc,n.TempSpan=new zc;var Ac=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"RefDiv",c));return d._silentProp.push("isReference."),d._htmlText=!0,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.width=0,c.height=0,c["isReference."]=1,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.props["hookTo."]===x&&o.instantShow("warning: can not add RefDiv to topmost widget."),c}},{key:"componentDidMount",value:function(){d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentDidMount",this).call(this);var c;if(!y&&(c=this.widget)){c=c.parent;var e=c&&c.component;e&&Ta(e,this.$gui.keyid+"",function(){})}}},{key:"render",value:function(){var b=O(this),c={style:{width:"0px",height:"0px"}};return b&&(c.className=b),H("div",c)}}]),b}(gb);n.RefDiv_=Ac,n.RefDiv=new Ac;var Bc=r.RefDiv__=k.createClass(n.RefDiv._extend()),Cc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"RefSpan",c));return d._silentProp.push("isReference."),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isReference."]=2,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.props["hookTo."]===x&&o.instantShow("error: can not hook RefSpan to topmost widget."),c}},{key:"componentDidMount",value:function(){d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentDidMount",this).call(this);var c;if(!y&&(c=this.widget)){c=c.parent;var e=c&&c.component;e&&Ta(e,this.$gui.keyid+"",function(){})}}},{key:"render",value:function(){var b=O(this),c={style:{width:"0px",height:"0px"}};return b&&(c.className=b),H("span",c)}}]),b}(Lb);n.RefSpan_=Cc,n.RefSpan=new Cc;var Dc=r.RefSpan__=k.createClass(n.RefSpan._extend()),Ec=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"ScenePage",c));return d._silentProp.push("isScenePage.","isTemplate."),d._defaultProp.noShow="",d}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);f.noShow=[e+1,"string",["","1"],"[string]: disable show content"];var g="[number]: 0~1 for percent, 0.9999 for 100%, N pixels",h=f.width,i=f.height;return h&&(h[1]="number",h[3]=g),i&&(i[1]="number",i[3]=g),f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.noShow="",c["isScenePage."]=1,c.className="rewgt-panel rewgt-scene",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);this.props["hookTo."]!==x&&o.instantShow("error: ScenePage only hook to topmost widget.");var e=Object.assign({},this.props.style,{position:"absolute",display:"none"});e.zIndex||(e.zIndex="0"),this.duals.style=e;var f=this.props.width,g=this.props.height;if("number"==typeof f&&f>0||console.log("warning: invalid width of ScenePage ("+this.$gui.keyid+")"),"number"==typeof g&&g>0||console.log("warning: invalid height of ScenePage ("+this.$gui.keyid+")"),m.__design__)this.$gui.currSelected="";else if(this.props["isTemplate."]){vc(this.$gui),this.isLibGui=!1;var h=this.props.template;h instanceof Sa?this.$gui.template=h:uc(this),this.$gui.compIndex={},this.$gui.comps=[]}return c}},{key:"elementOf",value:function(c){return this.props["isTemplate."]?wc(this,c):d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"elementOf",this).call(this,c)}},{key:"setSelected",value:function(b){function e(a,b){var d=c&&c[a];if(d=d&&d.component){var e=parseInt(d.state.style.zIndex)||0;b?e>=-997&&e<=999&&d.setState({style:Object.assign({},d.state.style,{zIndex:e+2e3})}):e>=1e3&&e<=2999&&d.setState({style:Object.assign({},d.state.style,{zIndex:e-2e3})})}}if(m.__design__){var c=this.widget,d=this.$gui;if(d.currSelected){if(b==d.currSelected)return;e(d.currSelected,!1),d.currSelected=""}b&&(e(b,!0),d.currSelected=b)}}},{key:"render",value:function(){if(xa(this),this.hideThis)return null;if(this.props["isTemplate."]){var b=Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}),c=$(this,b);return H("div",c)}var d=this.prepareState(),b=void 0;this.props.noShow&&!m.__design__&&(b=Object.assign({},this.state.style),b.display="none");var e=H("div",{className:"rewgt-center"},d),c=$(this,b);return H("article",c,e)}}]),b}(fb);n.ScenePage_=Ec,n.ScenePage=new Ec;var Hc=(k.createClass(n.ScenePage._extend()),function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"MaskPanel",c))}return h(b,a),e(b,[{key:"getInitialState",value:function(){function e(a,b,c){return a<1&&(a>=.9999?a=b:a>0?a*=b:a=c),a}function f(a,b,c){return"number"!=typeof a?a=(b-c)/2:a<1&&(a*=b),a<0&&(a=0),a}var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.defineDual("popOption"),this.defineDual("id__",function(a,b){if(1===b){var g,c=null,d=null,h=this.$gui,i=this.props.popOption;if(i){if(g=i.frame,g?(d=this.props.popFrame,d&&!d.props&&(d=null)):g={},this.props.children){var j=I(this.props.children);c=j[0]}h.compIdx={},h.comps=[]}var k=this.widget;if(c&&k&&w){var l=w.frameInfo,n=window.innerWidth,p=window.innerHeight;this.state.left=0,this.state.top=0,this.state.width=n-l.leftWd-l.rightWd,this.state.height=p-l.topHi-l.bottomHi,this.state.style=Object.assign({},this.state.style,{position:"absolute",zIndex:"auto",backgroundColor:i.maskColor||"rgba(238,238,238,0.84)"});var q=this.state.width,r=this.state.height;if(d){var s=e(g.width||.9,q,4),t=e(g.height||.9,r,4),u=f(g.left,q,s),v=f(g.top,r,t),x=Object.assign({},d.props.style,{position:"absolute",zIndex:"auto"}),y={"hookTo.":k,"keyid.":"",key:"",style:x,left:u,top:v,width:s,height:t};h.compIdx[0]=0,h.comps.push(G(d,y))}var z=e(i.width||.8,q,6),A=e(i.height||.8,r,6),B=f(i.left,q,z),C=f(i.top,r,A);if(!d&&B>0&&C>0&&B+z<q&&C+A<r){var D=B-1,E=C-1;d=H("div",{key:"0",style:{position:"absolute",zIndex:"auto",left:D+"px",top:E+"px",width:z+"px",height:A+"px",border:"1px solid #e0e0e0",boxShadow:"-2px 8px 4px rgba(0,0,0,0.1)"}}),h.compIdx[0]=0,h.comps.push(d)}var F="",J=X(c);if(J){var K=parseInt(J);F=K+""===J?K:J}var L=Object.assign({},c.props.style,{backgroundColor:"#fff",position:"absolute",zIndex:"auto"});i.bodyStyle&&Object.assign(L,i.bodyStyle);var M={"hookTo.":k,"keyid.":F,key:J,style:L,left:B,top:C,width:z,height:A,$onClick:Gc},N=G(c,M);h.compIdx[J]=h.comps.length,h.winComp=h.comps.push(N)-1,i.state&&(i.state.opened=!0),this.setEvent({$onClick:function(b){b.stopPropagation(),m.__design__||i.manualClose||setTimeout(function(){o.popWin.popWindow()},100)},$onDblClick:Gc,$onMouseDown:Gc,$onMouseMove:Gc,$onMouseUp:Gc,$onKeyPress:Gc,$onKeyDown:Gc,$onKeyUp:Gc,$onDragOver:Gc,$onDrop:Gc})}}}),c}},{key:"componentDidMount",value:function(){if(d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentDidMount",this).call(this),m.__design__){var c=F(this);c&&(c.onclick=Gc,c.ondblclick=Gc,c.onmousedown=Gc,c.onmousemove=Gc,c.onmouseup=Gc,c.onkeypress=Gc,c.onkeydown=Gc,c.onkeyup=Gc,c.ondragover=Gc,c.ondrop=Gc)}}},{key:"componentWillUnmount",value:function(){var c=this.state.popOption;c&&c.state&&c.state.opened&&(c.state.opened=!1),d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentWillUnmount",this).call(this)}}]),b}(fb)),Ic=k.createClass((new Hc)._extend()),Jc=null,Kc=null;r.scanWtcFlag=Lc,r.scanPreCode=Mc;var Nc=/^auto[0-9]+$/,Pc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"MarkedDiv",c));return d._defaultProp.width=void 0,d._defaultProp.minWidth=20,d._defaultProp.noShow="",d._silentProp.push("marked.","hasStatic.","noSaveChild."),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.noShow="",c.width=null,c.minWidth=20,c["marked."]=!0,c["hasStatic."]=!0,c["noSaveChild."]=!0,c["isPre."]=!0,c}},{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.noShow=[e+1,"string",["","1"],"[string]: disable show content"],f}},{key:"_getGroupOpt",value:function(b){var c={type:"mono",editable:"none",baseUrl:r.appBase(),tools:[]},d=b.widget;if(!d||!b.isHooked)return c;var e=d.getPath();return c.tools=[{name:"editor",icon:"res/edit_txt.png",title:"edit markdown",url:"edit_markdown.html",halfScreen:!0,noMove:!1,clickable:!0,width:.9,height:.9,get:function(c){var d=b.state["html."]||"";return[d,e,Lc()]},set:function(c,d,f){var g=d[0],h=d[1];b===c&&h==e&&"string"==typeof g&&Oc(c,g,function(a,b){a&&c.setState({"html.":g,id__:N()},function(){$a(c,!0);var a=null;0==c.state.nodes.length?b&&b.length&&(a=b):a=b||[],a&&setTimeout(function(){c.duals.nodes=a},10),m.__design__&&f&&w&&w.notifyBackup&&w.notifyBackup(h,1e3)})})}}],c}},{key:"getInitialState",value:function(){function h(){var a=e.$gui.keyid+"";setTimeout(function(){var b=e.widget;b=b&&b.parent,b=b&&b.component,b&&b.cellKeys&&b.cellStyles&&(b.cellKeys[a]=[e.state.rowSpan,e.state.colSpan],b.cellStyles[a]=e.state.tdStyle,b.reRender())},0)}var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this),e=this,f=this.$gui,g=this.widget;return g=g&&g.parent,g=g&&g.component,g&&g.props["markedTable."]&&(this.defineDual("colSpan",function(a,b){var c=parseInt(a);this.state.colSpan=isNaN(c)?void 0:c,h()}),this.defineDual("rowSpan",function(a,b){var c=parseInt(a);this.state.rowSpan=isNaN(c)?void 0:c,h()}),this.props.tdStyle&&this.defineDual("tdStyle",function(a,b){this.state.tdStyle=Object.assign({},b,a),h()},this.props.tdStyle)),f.delayTid=0,this.defineDual("html.",function(a,b){function d(){f.delayTid&&(clearTimeout(f.delayTid),f.delayTid=0),++c>24||(e.isHooked?Oc(e,a,function(a,b){a&&e.reRender(function(){$a(e,!0);var a=null;0==e.state.nodes.length?b&&b.length&&(a=b):a=b||[],a&&setTimeout(function(){e.duals.nodes=a},10)})}):f.delayTid=setTimeout(function(){d()},100))}if(this.widget&&"string"==typeof a){var c=0;d()}}),c.nodes=[],this.defineDual("nodes"),c}},{key:"willResizing",value:function(b,c,d){if(!d&&this.isHooked){var e=this;setTimeout(function(){Ka(e,!1)},0)}return!0}},{key:"render",value:function(){if(xa(this),this.hideThis)return null;var b=this.prepareState();this.props.noShow&&(b=null);var c=$(this);return H(this.props["tagName."],c,b)}}]),b}(lb);n.MarkedDiv_=Pc,n.MarkedDiv=new Pc;var Qc=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"MarkedTable",c));return d._silentProp.push("markedTable."),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["markedTable."]=!0,c["tagName."]="table",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.firstScan=!0,this.cellKeys={},this.cellStyles={},c}},{key:"render",value:function(){if(xa(this),this.hideThis)return null;var b=this.prepareState(),c=$(this);if(this.props.noShow)return H("div",c);0==b.length&&b.push(H(qb,{"html.":" "}));var d=["tbody",null],e=null,f=this,g=this.firstScan;this.firstScan=!1,b.forEach(function(a){if(a.props["markedRow."])e&&d.push(H.apply(null,e)),e=["tr",null];else{e||(e=["tr",null]);var b=a.props["keyid."],c=void 0,h=void 0,i=null;if(void 0!==b&&(b+=""),b&&a.props["marked."])if(g){var j,k;(j=a.props.rowSpan)&&!isNaN(k=parseInt(j))&&(c=k+""),(j=a.props.colSpan)&&!isNaN(k=parseInt(j))&&(h=k+""),f.cellKeys[b]=[c,h],i=f.cellStyles[b]=a.props.tdStyle}else{var l=f.cellKeys[b];Array.isArray(l)&&(c=l[0],h=l[1]),i=f.cellStyles[b]}var m=null;b&&(m={key:b,rowSpan:c,colSpan:h},i&&(m.style=i)),e.push(H("td",m,a))}}),e&&d.push(H.apply(null,e));var h=H.apply(null,d);return H("table",c,h)}}]),b}(Pc);n.MarkedTable_=Qc,n.MarkedTable=new Qc,b.exports=n},{"./react_widget":2,react:void 0,"react-dom":void 0}],4:[function(a,b,c){function g(a){if(e===setTimeout)return setTimeout(a,0);try{return e(a,0)}catch(b){try{return e.call(null,a,0)}catch(b){return e.call(this,a,0)}}}function h(a){if(f===clearTimeout)return clearTimeout(a);try{return f(a)}catch(b){try{return f.call(null,a)}catch(b){return f.call(this,a)}}}function m(){j&&k&&(j=!1,k.length?i=k.concat(i):l=-1,i.length&&n())}function n(){if(!j){var a=g(m);j=!0;for(var b=i.length;b;){for(k=i,i=[];++l<b;)k&&k[l].run();l=-1,b=i.length}k=null,j=!1,h(a)}}function o(a,b){this.fun=a,this.array=b}function p(){}var e,f,d=b.exports={};!function(){try{e=setTimeout}catch(a){e=function(){throw new Error("setTimeout is not defined")}}try{f=clearTimeout}catch(a){f=function(){throw new Error("clearTimeout is not defined")}}}();var k,i=[],j=!1,l=-1;d.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new o(a,b)),1!==i.length||j||g(n)},o.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=p,d.addListener=p,d.once=p,d.off=p,d.removeListener=p,d.removeAllListeners=p,d.emit=p,d.binding=function(a){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(a){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}]},{},[1]);