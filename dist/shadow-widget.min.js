// shadow-wdiget ver 0.0.2
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=window.React,e=window.ReactDOM,f=void 0,g=void 0;if(d&&e){if("string"==typeof d.version){var h=d.version.split(".");0==parseInt(h[0])&&parseInt(h[1])<14&&console.log("warning: react@>=0.14 is required, current is "+d.version)}f=a("./react_widget"),g=a("./template")}else console.log("fatal error! React or ReactDom not found, cdn version of React library should be loaded first.");var i={react:d,"react-dom":e,"shadow-widget":f},j=arguments[3],k=arguments[4],l=arguments[5];if("function"==typeof j&&k)Object.keys(i).forEach(function(a){l[a]={exports:i[a]}}),k[9998]=[f.$utils.loadingEntry,k[1][1]],setTimeout(function(){f.$main.isStart||(f.$main.isStart=!0,j(k,l,[9998]))},300);else if("undefined"!=typeof __webpack_require__&&__webpack_require__.c){var m={exports:{},id:9998,loaded:!0};__webpack_require__.c[9998]=m,setTimeout(function(){f.$main.isStart||(f.$main.isStart=!0,f.$utils.loadingEntry(function(a){if("number"==typeof a)return __webpack_require__(a);var b=i[a];return b||console.log("can not find module: "+a),b},m,m.exports))},300)}else console.log("fatal error: unknown package tool!")},{"./react_widget":2,"./template":3}],2:[function(a,b,c){(function(c){"use strict";function h(a,b){var c=a[b];if(c)return c;for(var d in a)if("parent"!=d&&a.hasOwnProperty(d)){var e=a[d];if(Array.isArray(e)&&e.W&&(e=h(e,b)))return e}}function i(a){var b="undefined"==typeof a?"undefined":d(a);if("number"==b)return this.W?this[a]:l[a];if(!a){if(""===a)return l;var c=new Array;return k(c)}if("object"==b){var e=a.constructor===Object,c=new Array;return c.$id=g++,c.component=a,e||(a.widget=c),k(c)}if("string"!=b)return l;var f=void 0,i=a.split("."),j=0;if(i[0]){var m=i.shift();if(j+=1,f=Array.isArray(this)&&this.W?this:l,"-"==m[0]){var n=m.slice(1);f=0==n.search(/^[0-9]+$/)?f[Math.max(0,f.length-parseInt(n))]:f===l?h(f,m):f[m]}else f=0==m.search(/^[0-9]+$/)?f[parseInt(m)]:f===l?h(f,m):f[m]}for(;i.length;){var m=i.shift();if(j+=1,m)if("-"==m[0]){var n=m.slice(1);if(0==n.search(/^[0-9]+$/)){if(!f)return f;f=f[Math.max(0,f.length-parseInt(n))]}else{if(!f)return f;f=f[m]}}else if(0==m.search(/^[0-9]+$/)){if(!f)return f;f=f[parseInt(m)]}else{if(!f)return f;f=f[m]}else{if(f||1!=j)return f;f=this.W?this:l}}return f}function k(a){function c(a,b){return function(){return b.apply(a,arguments)}}function d(a,b){if(a.$id===b)return a;for(var c in a)if("parent"!=c&&a.hasOwnProperty(c)){var e=a[c];if(Array.isArray(e)&&e.W&&(e=d(e,b)))return e}}for(var b in j)a[b]=j[b];return l&&l.__debug__&&(a.queryById=function(a){return d(this,parseInt(a))},a.addShortcut=function(){var a=[],b=this.component;if(!b)return a;for(var e,d=0;e=arguments[d];d++){var f=b[e];"function"==typeof f?(this[e]=c(b,f),a.push(e)):f&&(this[e]=f)}return a}),a}function n(a){this.component=a}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=window.React||a("react"),f=window.ReactDOM||a("react-dom"),g=0,j={W:i,$set:function(b,c){if(b||0===b)if(Array.isArray(c)&&c.W){var d=this[b];this[b]=c,c.parent=this,Array.isArray(d)&&d.W&&delete d.parent}else if(!c){var d=this[b];delete this[b],Array.isArray(d)&&d.W&&delete d.parent}},$unhook:function(b,c){if(Array.isArray(b)&&b.W){var e="undefined"==typeof c?"undefined":d(c);if("string"==e||"number"==e)this[c]===b&&delete this[c];else for(var h,f=Object.keys(this),g=0;h=f[g];g+=1)if(b===this[h]){delete this[h];break}delete b.parent,delete b.$callspace}},getPath:function(b){var c=this.parent;if(c&&c.W&&c!==this){if(this.component){var d=this.component.$gui.keyid;if(d||0===d)return c.getPath("."+d+(b||""))}var e="";for(var f in c)if("parent"!=f&&c.hasOwnProperty(f)&&c[f]===this){e="."+f;break}return b&&(e+=b),c.getPath(e)}return b||""}},l=window.W;Array.isArray(l)?k(l):(l=new i,l.$modules=[],window.W=l),l.$templates={},l.$css=[],l.$main={$$onLoad:[],$onLoad:[],isReady:!1,inRunning:!1,inDesign:!1,isStart:!1},l.$idSetter={},l.$creator={},l.$staticNodes=[];var m={Div:!0,GroundDiv:!0,Article:!0,Section:!0,Header:!0,Footer:!0,Aside:!0,Nav:!0,Main:!0,P:!0,Details:!0,Li:!0,Blockquote:!0,Pre:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,Caption:!0,Figcaption:!0,Address:!0,Dd:!0,Dt:!0,Thead:!0,TFoot:!0,Th:!0,Td:!0,OptDiv:!0,OptLi:!0};l.$creator.textableBlock=function(a){return!!m[a]},l.$creator.createEx=function(a){var b=new n(a);return"function"==typeof b.init&&b.init(),b};var o=l.$utils={instantShow:function(b){console.log("[MSG]",b)},widgetNum:function(b){return l.__design__&&"number"==typeof b&&(g=b),g},cssNamedColor:function(b){},gotoHash:function(b,c){c&&c("")}};Object.defineProperty(o,"DIV",{enumerable:!0,configurable:!1,writable:!1,value:1}),Object.defineProperty(o,"SPAN",{enumerable:!0,configurable:!1,writable:!1,value:3}),l.$cachedClass={},l.$ex=new n,l.$ex.regist=function(a,b){a&&b&&(n.prototype[a]=b)};var p=function(){function a(a,b){if(null==a)throw new TypeError("Object.assign target cannot be null or undefined");for(var c=Object(a),d=Object.prototype.hasOwnProperty,e=1;e<arguments.length;e++){var f=arguments[e];if(null!=f){var g=Object(f);for(var h in g)d.call(g,h)&&(c[h]=g[h])}}return c}function b(a){var b;for(b in a)if(a.hasOwnProperty(b))return b;return null}function e(a,b,d,e,f,g,h,i){if("production"!==c.env.NODE_ENV&&void 0===b)throw new Error("invariant requires an error message argument");if(!a){var j;if(void 0===b)j=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[d,e,f,g,h,i],l=0;j=new Error(b.replace(/%s/g,function(){return k[l++]})),j.name="Invariant Violation"}throw j.framesToPop=1,j}}function g(b){return Array.isArray(b)?b.concat():b&&"object"===("undefined"==typeof b?"undefined":d(b))?a(new b.constructor,b):b}function p(a,b,d){Array.isArray(a)?void 0:"production"!==c.env.NODE_ENV?e(!1,"update(): expected target of %s to be an array; got %s.",d,a):e(!1);var f=b[d];Array.isArray(f)?void 0:"production"!==c.env.NODE_ENV?e(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",d,f):e(!1)}var f={}.hasOwnProperty,h=b({$push:null}),i=b({$unshift:null}),j=b({$splice:null}),k=b({$set:null}),l=b({$merge:null}),m=b({$apply:null}),n=[h,i,j,k,l,m],o={};return n.forEach(function(a){o[a]=!0}),function b(q,r){if("object"!==("undefined"==typeof r?"undefined":d(r))?"production"!==c.env.NODE_ENV?e(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",n.join(", "),k):e(!1):void 0,f.call(r,k))return 1!==Object.keys(r).length?"production"!==c.env.NODE_ENV?e(!1,"Cannot have more than one key in an object with %s",k):e(!1):void 0,r[k];var s=g(q);if(f.call(r,l)){var t=r[l];t&&"object"===("undefined"==typeof t?"undefined":d(t))?void 0:"production"!==c.env.NODE_ENV?e(!1,"update(): %s expects a spec of type 'object'; got %s",l,t):e(!1),s&&"object"===("undefined"==typeof s?"undefined":d(s))?void 0:"production"!==c.env.NODE_ENV?e(!1,"update(): %s expects a target of type 'object'; got %s",l,s):e(!1),a(s,r[l])}f.call(r,h)&&(p(q,r,h),r[h].forEach(function(a){s.push(a)})),f.call(r,i)&&(p(q,r,i),r[i].forEach(function(a){s.unshift(a)})),f.call(r,j)&&(Array.isArray(q)?void 0:"production"!==c.env.NODE_ENV?e(!1,"Expected %s target to be an array; got %s",j,q):e(!1),Array.isArray(r[j])?void 0:"production"!==c.env.NODE_ENV?e(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",j,r[j]):e(!1),r[j].forEach(function(a){Array.isArray(a)?void 0:"production"!==c.env.NODE_ENV?e(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",j,r[j]):e(!1),s.splice.apply(s,a)})),f.call(r,m)&&("function"!=typeof r[m]?"production"!==c.env.NODE_ENV?e(!1,"update(): expected spec of %s to be a function; got %s.",m,r[m]):e(!1):void 0,s=r[m](s));for(var u in r)o.hasOwnProperty(u)&&o[u]||(s[u]=b(q[u],r[u]));return s}}();l.$ex.regist("update",p),function(){function b(b,c){if(b===c)return!0;if("object"!==("undefined"==typeof b?"undefined":d(b))||null===b||"object"!==("undefined"==typeof c?"undefined":d(c))||null===c)return!1;var e=Object.keys(b),f=Object.keys(c);if(e.length!==f.length)return!1;for(var g=a.bind(c),h=0;h<e.length;h++)if(!g(e[h])||b[e[h]]!==c[e[h]])return!1;return!0}function c(a,c,d){var e=a.props||{},f=a.state||{};if(Object.keys(e).length!==Object.keys(c).length||Object.keys(f).length!==Object.keys(d).length)return!0;for(var g in c)if(!b(e[g],c[g]))return!0;for(var g in d)if(!b(f[g],d[g]))return!0;return!1}var a=Object.prototype.hasOwnProperty;this.shallowEqual=b,this.shallowCompare=c,this.shouldUpdate=c}.call(o),function(){function b(b){this.tokens=[],this.tokens.links={},this.options=b||l.defaults,this.rules=a.normal,this.options.gfm&&(this.options.tables?this.rules=a.tables:this.rules=a.gfm)}function d(a,b){if(this.options=b||l.defaults,this.links=a,this.rules=c.normal,this.renderer=this.options.renderer||new e,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=c.breaks:this.rules=c.gfm:this.options.pedantic&&(this.rules=c.pedantic)}function e(a){this.options=a||{}}function f(a){this.tokens=[],this.token=null,this.options=a||l.defaults,this.options.renderer=this.options.renderer||new e,this.renderer=this.options.renderer,this.renderer.options=this.options}function g(a,b){return a.replace(b?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function h(a){return a.replace(/&([#\w]+);/g,function(a,b){return b=b.toLowerCase(),"colon"===b?":":"#"===b.charAt(0)?"x"===b.charAt(1)?String.fromCharCode(parseInt(b.substring(2),16)):String.fromCharCode(+b.substring(1)):""})}function i(a,b){return a=a.source,b=b||"",function c(d,e){return d?(e=e.source||e,e=e.replace(/(^|[^\[])\^/g,"$1"),a=a.replace(d,e),c):new RegExp(a,b)}}function j(){}function k(a){for(var c,d,b=1;b<arguments.length;b++){c=arguments[b];for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}function l(a,c,d){if(d||"function"==typeof c){d||(d=c,c=null),c=k({},l.defaults,c||{});var h,i,e=c.highlight,j=0;try{h=b.lex(a,c)}catch(a){return d(a)}i=h.length;var m=function(b){if(b)return c.highlight=e,d(b);var g;try{g=f.parse(h,c)}catch(a){b=a}return c.highlight=e,b?d(b):d(null,g)};if(!e||e.length<3)return m();if(delete c.highlight,!i)return m();for(;j<h.length;j++)!function(a){return"code"!==a.type?--i||m():e(a.text,a.lang,function(b,c){return b?m(b):null==c||c===a.text?--i||m():(a.text=c,a.escaped=!0,void(--i||m()))})}(h[j])}else try{return c&&(c=k({},l.defaults,c)),f.parse(b.lex(a,c),c)}catch(a){if(a.message+="\nPlease report this to https://github.com/chjj/marked.",(c||l.defaults).silent)return"<p>An error occured:</p><pre>"+g(a.message+"",!0)+"</pre>";throw a}}var a={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:j,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:j,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:j,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};a.bullet=/(?:[*+-]|\d+\.)/,a.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,a.item=i(a.item,"gm")(/bull/g,a.bullet)(),a.list=i(a.list)(/bull/g,a.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+a.def.source+")")(),a.blockquote=i(a.blockquote)("def",a.def)(),a._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",a.html=i(a.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,a._tag)(),a.paragraph=i(a.paragraph)("hr",a.hr)("heading",a.heading)("lheading",a.lheading)("blockquote",a.blockquote)("tag","<"+a._tag)("def",a.def)(),a.normal=k({},a),a.gfm=k({},a.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),a.gfm.paragraph=i(a.paragraph)("(?!","(?!"+a.gfm.fences.source.replace("\\1","\\2")+"|"+a.list.source.replace("\\1","\\3")+"|")(),a.tables=k({},a.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),b.rules=a,b.lex=function(a,c){var d=new b(c);return d.lex(a)},b.prototype.lex=function(a){return a=a.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(a,!0)},b.prototype.token=function(b,c,d){for(var e,f,g,h,i,j,k,l,m,b=b.replace(/^ +$/gm,"");b;)if((g=this.rules.newline.exec(b))&&(b=b.substring(g[0].length),g[0].length>1&&this.tokens.push({type:"space"})),g=this.rules.code.exec(b))b=b.substring(g[0].length),g=g[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?g:g.replace(/\n+$/,"")});else if(g=this.rules.fences.exec(b))b=b.substring(g[0].length),this.tokens.push({type:"code",lang:g[2],text:g[3]||""});else if(g=this.rules.heading.exec(b))b=b.substring(g[0].length),this.tokens.push({type:"heading",depth:g[1].length,text:g[2]});else if(c&&(g=this.rules.nptable.exec(b))){for(b=b.substring(g[0].length),j={type:"table",header:g[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:g[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:g[3].replace(/\n$/,"").split("\n")},l=0;l<j.align.length;l++)/^ *-+: *$/.test(j.align[l])?j.align[l]="right":/^ *:-+: *$/.test(j.align[l])?j.align[l]="center":/^ *:-+ *$/.test(j.align[l])?j.align[l]="left":j.align[l]=null;for(l=0;l<j.cells.length;l++)j.cells[l]=j.cells[l].split(/ *\| */);this.tokens.push(j)}else if(g=this.rules.lheading.exec(b))b=b.substring(g[0].length),this.tokens.push({type:"heading",depth:"="===g[2]?1:2,text:g[1]});else if(g=this.rules.hr.exec(b))b=b.substring(g[0].length),this.tokens.push({type:"hr"});else if(g=this.rules.blockquote.exec(b))b=b.substring(g[0].length),this.tokens.push({type:"blockquote_start"}),g=g[0].replace(/^ *> ?/gm,""),this.token(g,c,!0),this.tokens.push({type:"blockquote_end"});else if(g=this.rules.list.exec(b)){for(b=b.substring(g[0].length),h=g[2],this.tokens.push({type:"list_start",ordered:h.length>1}),g=g[0].match(this.rules.item),e=!1,m=g.length,l=0;l<m;l++)j=g[l],k=j.length,j=j.replace(/^ *([*+-]|\d+\.) +/,""),~j.indexOf("\n ")&&(k-=j.length,j=this.options.pedantic?j.replace(/^ {1,4}/gm,""):j.replace(new RegExp("^ {1,"+k+"}","gm"),"")),this.options.smartLists&&l!==m-1&&(i=a.bullet.exec(g[l+1])[0],h===i||h.length>1&&i.length>1||(b=g.slice(l+1).join("\n")+b,l=m-1)),f=e||/\n\n(?!\s*$)/.test(j),l!==m-1&&(e="\n"===j.charAt(j.length-1),f||(f=e)),this.tokens.push({type:f?"loose_item_start":"list_item_start"}),this.token(j,!1,d),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(g=this.rules.html.exec(b))b=b.substring(g[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===g[1]||"script"===g[1]||"style"===g[1]),text:g[0]});else if(!d&&c&&(g=this.rules.def.exec(b)))b=b.substring(g[0].length),this.tokens.links[g[1].toLowerCase()]={href:g[2],title:g[3]};else if(c&&(g=this.rules.table.exec(b))){for(b=b.substring(g[0].length),j={type:"table",header:g[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:g[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:g[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;l<j.align.length;l++)/^ *-+: *$/.test(j.align[l])?j.align[l]="right":/^ *:-+: *$/.test(j.align[l])?j.align[l]="center":/^ *:-+ *$/.test(j.align[l])?j.align[l]="left":j.align[l]=null;for(l=0;l<j.cells.length;l++)j.cells[l]=j.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(j)}else if(c&&(g=this.rules.paragraph.exec(b)))b=b.substring(g[0].length),this.tokens.push({type:"paragraph",text:"\n"===g[1].charAt(g[1].length-1)?g[1].slice(0,-1):g[1]});else if(g=this.rules.text.exec(b))b=b.substring(g[0].length),this.tokens.push({type:"text",text:g[0]});else if(b)throw new Error("Infinite loop on byte: "+b.charCodeAt(0));return this.tokens};var c={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:j,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:j,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};c._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,c._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,c.link=i(c.link)("inside",c._inside)("href",c._href)(),c.reflink=i(c.reflink)("inside",c._inside)(),c.normal=k({},c),c.pedantic=k({},c.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),c.gfm=k({},c.normal,{escape:i(c.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:i(c.text)("]|","~]|")("|","|https?://|")()}),c.breaks=k({},c.gfm,{br:i(c.br)("{2,}","*")(),text:i(c.gfm.text)("{2,}","*")()}),d.rules=c,d.output=function(a,b,c){var e=new d(b,c);return e.output(a)},d.prototype.output=function(a){for(var c,d,e,f,b="";a;)if(f=this.rules.escape.exec(a))a=a.substring(f[0].length),b+=f[1];else if(f=this.rules.autolink.exec(a))a=a.substring(f[0].length),"@"===f[2]?(d=":"===f[1].charAt(6)?this.mangle(f[1].substring(7)):this.mangle(f[1]),e=this.mangle("mailto:")+d):(d=g(f[1]),e=d),b+=this.renderer.link(e,null,d);else if(this.inLink||!(f=this.rules.url.exec(a))){if(f=this.rules.tag.exec(a))!this.inLink&&/^<a /i.test(f[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(f[0])&&(this.inLink=!1),a=a.substring(f[0].length),b+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(f[0]):g(f[0]):f[0];else if(f=this.rules.link.exec(a))a=a.substring(f[0].length),this.inLink=!0,b+=this.outputLink(f,{href:f[2],title:f[3]}),this.inLink=!1;else if((f=this.rules.reflink.exec(a))||(f=this.rules.nolink.exec(a))){if(a=a.substring(f[0].length),c=(f[2]||f[1]).replace(/\s+/g," "),c=this.links[c.toLowerCase()],!c||!c.href){b+=f[0].charAt(0),a=f[0].substring(1)+a;continue}this.inLink=!0,b+=this.outputLink(f,c),this.inLink=!1}else if(f=this.rules.strong.exec(a))a=a.substring(f[0].length),b+=this.renderer.strong(this.output(f[2]||f[1]));else if(f=this.rules.em.exec(a))a=a.substring(f[0].length),b+=this.renderer.em(this.output(f[2]||f[1]));else if(f=this.rules.code.exec(a))a=a.substring(f[0].length),b+=this.renderer.codespan(g(f[2],!0));else if(f=this.rules.br.exec(a))a=a.substring(f[0].length),b+=this.renderer.br();else if(f=this.rules.del.exec(a))a=a.substring(f[0].length),b+=this.renderer.del(this.output(f[1]));else if(f=this.rules.text.exec(a))a=a.substring(f[0].length),b+=this.renderer.text(g(this.smartypants(f[0])));else if(a)throw new Error("Infinite loop on byte: "+a.charCodeAt(0))}else a=a.substring(f[0].length),d=g(f[1]),e=d,b+=this.renderer.link(e,null,d);return b},d.prototype.outputLink=function(a,b){var c=g(b.href),d=b.title?g(b.title):null;return"!"!==a[0].charAt(0)?this.renderer.link(c,d,this.output(a[1])):this.renderer.image(c,d,g(a[1]))},d.prototype.smartypants=function(a){return this.options.smartypants?a.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):a},d.prototype.mangle=function(a){if(!this.options.mangle)return a;for(var e,b="",c=a.length,d=0;d<c;d++)e=a.charCodeAt(d),Math.random()>.5&&(e="x"+e.toString(16)),b+="&#"+e+";";return b},e.prototype.code=function(a,b,c){if(this.options.highlight){var d=this.options.highlight(a,b);null!=d&&d!==a&&(c=!0,a=d)}return b?'<pre><code class="'+this.options.langPrefix+g(b,!0)+'">'+(c?a:g(a,!0))+"\n</code></pre>\n":"<pre><code>"+(c?a:g(a,!0))+"\n</code></pre>"},e.prototype.blockquote=function(a){return"<blockquote>\n"+a+"</blockquote>\n"},e.prototype.html=function(a){return a},e.prototype.heading=function(a,b,c){return"<h"+b+' id="'+this.options.headerPrefix+c.toLowerCase().replace(/[^\w]+/g,"-")+'">'+a+"</h"+b+">\n"},e.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.prototype.list=function(a,b){var c=b?"ol":"ul";return"<"+c+">\n"+a+"</"+c+">\n"},e.prototype.listitem=function(a){return"<li>"+a+"</li>\n"},e.prototype.paragraph=function(a){return"<p>"+a+"</p>\n"},e.prototype.table=function(a,b){return"<table>\n<thead>\n"+a+"</thead>\n<tbody>\n"+b+"</tbody>\n</table>\n"},e.prototype.tablerow=function(a){return"<tr>\n"+a+"</tr>\n"},e.prototype.tablecell=function(a,b){var c=b.header?"th":"td",d=b.align?"<"+c+' style="text-align:'+b.align+'">':"<"+c+">";return d+a+"</"+c+">\n"},e.prototype.strong=function(a){return"<strong>"+a+"</strong>"},e.prototype.em=function(a){return"<em>"+a+"</em>"},e.prototype.codespan=function(a){return"<code>"+a+"</code>"},e.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.prototype.del=function(a){return"<del>"+a+"</del>"},e.prototype.link=function(a,b,c){if(this.options.sanitize){try{var d=decodeURIComponent(h(a)).replace(/[^\w:]/g,"").toLowerCase()}catch(a){return""}if(0===d.indexOf("javascript:")||0===d.indexOf("vbscript:"))return""}var e='<a href="'+a+'"';return b&&(e+=' title="'+b+'"'),e+=">"+c+"</a>"},e.prototype.image=function(a,b,c){var d='<img src="'+a+'" alt="'+c+'"';return b&&(d+=' title="'+b+'"'),d+=this.options.xhtml?"/>":">"},e.prototype.text=function(a){return a},f.parse=function(a,b,c){var d=new f(b,c);return d.parse(a)},f.prototype.parse=function(a){this.inline=new d(a.links,this.options,this.renderer),this.tokens=a.reverse();for(var b="";this.next();)b+=this.tok();return b},f.prototype.next=function(){return this.token=this.tokens.pop()},f.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},f.prototype.parseText=function(){for(var a=this.token.text;"text"===this.peek().type;)a+="\n"+this.next().text;return this.inline.output(a)},f.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var c,d,e,f,g,a="",b="";for(e="",c=0;c<this.token.header.length;c++)f={header:!0,align:this.token.align[c]},e+=this.renderer.tablecell(this.inline.output(this.token.header[c]),{header:!0,align:this.token.align[c]});for(a+=this.renderer.tablerow(e),c=0;c<this.token.cells.length;c++){for(d=this.token.cells[c],e="",g=0;g<d.length;g++)e+=this.renderer.tablecell(this.inline.output(d[g]),{header:!1,align:this.token.align[g]});b+=this.renderer.tablerow(e)}return this.renderer.table(a,b);case"blockquote_start":for(var b="";"blockquote_end"!==this.next().type;)b+=this.tok();return this.renderer.blockquote(b);case"list_start":for(var b="",h=this.token.ordered;"list_end"!==this.next().type;)b+=this.tok();return this.renderer.list(b,h);case"list_item_start":for(var b="";"list_item_end"!==this.next().type;)b+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(b);case"loose_item_start":for(var b="";"list_item_end"!==this.next().type;)b+=this.tok();return this.renderer.listitem(b);case"html":var i=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(i);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},j.exec=j,l.options=l.setOptions=function(a){return k(l.defaults,a),l},l.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new e,xhtml:!1},l.Parser=f,l.parser=f.parse,l.Renderer=e,l.Lexer=b,l.lexer=b.lex,l.InlineLexer=d,l.inlineLexer=d.output,l.parse=l,this.marked=l}.call(o),function(){function a(){return++window.TRIGGER__.count}function c(b){var c=b.url,e=b.data,f=b.callback;if(!c||"string"!=typeof c)throw new Error("invalid URL");if(e&&"object"!=("undefined"==typeof e?"undefined":d(e)))throw new Error("invalid input argument (data)");if("function"!=typeof f)throw new Error("input argument (callback) should be a function");var g=a();c+=c.indexOf("?")>0?"&":"?",c+="callback=TRIGGER__%5B"+g+"%5D",e&&Object.keys(e).forEach(function(a){var b=e[a];c+="&"+a+"="+encodeURIComponent(b+"")});var h=document.head||document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script");i.async="async",b.scriptCharset&&(i.charset=b.scriptCharset),i.src=c,i.onload=i.onreadystatechange=function(){i.readyState&&!/loaded|complete/.test(i.readyState)||(i.onload=i.onreadystatechange=null,h&&i.parentNode&&h.removeChild(i),i=void 0,setTimeout(function(){var a=window.TRIGGER__[g];a&&(delete window.TRIGGER__[g],b.notifyError&&f(null))},0))},h.insertBefore(i,h.firstChild),window.TRIGGER__[g]=function(a){var b=window.TRIGGER__[g];b&&(delete window.TRIGGER__[g],f(a))}}function e(a){var c=a.url,e=(a.type||"GET").toUpperCase(),f=a.data;if(!c||"string"!=typeof c)throw new Error("invalid URL");if(f&&"object"!=("undefined"==typeof f?"undefined":d(f)))throw new Error("invalid input argument (data)");if(!(e in b))throw new Error("invalid request type ("+e+")");var g=a.timeout||6e4,h=c.indexOf("?")>0,i=a.dataType;void 0===i&&".json"==c.slice(-5)&&(i="json");var j=null;f&&("PUT"!=e&&"POST"!=e?Object.keys(f).forEach(function(a){var b=f[a];h?c+="&":(h=!0,c+="?"),c+=a+"="+encodeURIComponent(b+"")}):j=JSON.stringify(f));var k=null,l=!1;if(window.XMLHttpRequest?k=new XMLHttpRequest:window.ActiveXObject&&(k=new ActiveXObject("Microsoft.XMLHTTP")),!k)throw new Error("invalid XMLHttpRequest");k.onreadystatechange=function(){if(4==k.readyState){l=!0;var b=k.responseText||"",c=k.statusText||"",d=k.status||(b?200:404);if(200==d&&b)if("json"!==i)a.success&&a.success(b,c,k);else{var e,f=!0;try{e=JSON.parse(b.replace(/[\cA-\cZ]/gi,"")),f=!1}catch(b){a.error&&(c="JSON format error",a.error(k,c))}!f&&a.success&&a.success(e,c,k)}else a.error&&a.error(k,c);k=null}};var m,n;if(a.username?k.open(e,c,!0,a.username,a.password):k.open(e,c,!0),n=a.headers)for(m in n)k.setRequestHeader(m,n[m]);j&&k.setRequestHeader("Content-Type","application/json"),k.send(j),"number"==typeof g&&setTimeout(function(){l||(k.abort(),a.error&&a.error(k,"request timeout"),k=null)},g)}window.TRIGGER__||(window.TRIGGER__={count:0});var b={GET:1,POST:1,PUT:1,DELETE:1,HEAD:1};this.jsonp=c,this.ajax=e}.call(o),o.loadingEntry=function(a,b,c){function h(a,b,c){var d=[];a.forEach(function(a){a[0]==b&&d.push(a[1])});var e=d.length,f=0;e?d.forEach(function(a){var b=document.createElement("link");"onload"in b?(c&&(b.onload=function(a){f+=1,f>=e&&c()}),b.setAttribute("rel","stylesheet"),b.setAttribute("href",a),document.head.appendChild(b)):(b=document.createElement("img"),c&&(b.onerror=function(a){f+=1,f>=e&&c()}),b.setAttribute("src",a),document.body.appendChild(b))}):c&&c()}var d=document.getElementById("react-container");if(d){d.hasAttribute("__debug__")&&(l.__debug__=parseInt(d.getAttribute("__debug__")||0)),d.hasAttribute("__design__")&&(l.__design__=parseInt(d.getAttribute("__design__")||0)),window.W!==l&&(window.W&&(l.$modules=window.W.$modules),(l.__debug__||l.__design__)&&(window.W=l));var g=l.$modules;Array.isArray(g)&&(g.forEach(function(d){"function"==typeof d&&d.call(c,a,b,c)}),g.splice(0));for(var k,i=document.querySelectorAll('link[rel="stylesheet"]'),j=i.length-1;j>=0;j-=1){var k=i[j],n=k.getAttribute("shared");n&&"false"!=n&&"0"!=n&&l.$css.unshift(["pseudo",k.href])}h(l.$css,"basic",function(){function q(d){function g(a,b,c,d){for(var j,e=a[2],i=0;j=b.children[i];i++){var k=h(j,d,i);if(c){if(0==i&&(!k||"BodyPanel"!=k[0]))return console.log("error: root node of JSX should be BodyPanel"),!1;var l=k[1];if(l.hasOwnProperty("width")&&isNaN(l.width)&&(l.width=null),l.hasOwnProperty("height")&&isNaN(l.height)&&(l.height=null),i>0)return!0}if(k){e.push(k);var m=(k[1].key||i)+"";f.push(m),k[3]=f.join(".");var n=!1,o=d?d+"["+i+"]."+k[0]:k[0];if(g(k,j,!1,o)||(n=!0),f.pop(),n)return!1}else e.push(j)}return!0}function h(a,b,c){for(var d="",e=[],f="",g=a.attributes.length,h=!1,j=0;j<g;j++){var l=a.attributes[j],n=l.name;":t"==n||"$"==n?("DIV"==a.nodeName?d=l.value:"SPAN"==a.nodeName&&(h=!0,d=l.value),"$"==n&&(e.push([n,d]),d=h?"RefSpan":"RefDiv")):"style"==n?f=l.value:e.push([n,l.value])}if(d){var o={};if(f){var q="{"==f[0]&&"}"==f.slice(-1)?i(f.slice(1,-1),"style",b,0):k(f,a);q&&(o.style=q)}if(e.forEach(function(a,c){var d=a[0].toLowerCase(),e=a[1],f=d.split("-");if(f.length>1&&p.indexOf(f[0])<0)for(d=f.shift();f.length;){var g=f.shift();g&&(d+=g[0].toUpperCase()+g.slice(1))}"className"!=d&&(e&&"{"==e[0]&&"}"==e[e.length-1]&&"$"!=d[0]?o[d]=i(e.slice(1,-1),d,b,c):o[d]=e)}),0==a.children.length&&(h||m[d])){var r=a.textContent;r&&(o["html."]=r)}return[d,o,[]]}return null}function i(a,b,c,d){try{return JSON.parse(a)}catch(a){console.log("invalid JSON format: "+c+"["+d+"]."+b)}}function j(c){return c.replace(a,"ms-").replace(b,function(a,b){return b.toUpperCase()})}function k(a,b){a=a.replace(c,"");var d=a.split(";"),e=[];d.forEach(function(a){var b=a.indexOf(":");b>0&&(a=a.slice(0,b).trim(),a&&e.push(a))});var f={},g=!1;return e.forEach(function(a){var c=j(a),d=b.style[c];d?(f[c]=d,g=!0):a!=c&&(d=b.style[a],d&&(f[a]=d,g=!0))}),g?f:null}if(!d)return null;var e=[null,null,[]],f=[""];return g(e,d,!0,"")?e[2][0]:null}function r(a,b,c){var d=c&&!l.__design__,f=null;d&&(f=i[b],f||(d=!1));var h=d?o[a]:n[a];if(!d){if(h)return h;if(h=o[a])return h=n[a]=e.createClass(h._extend())}if(!h){var j=a.split("."),k=j.shift();for(h=g[k];h&&(k=j.shift());)h=h[k];if(!h||!h._extend)return console.log("error: can not find template ("+a+")"),null;o[a]=h}return d?e.createClass(h._extend(f)):h=n[a]=e.createClass(h._extend())}function s(a){var b=a[0],c=a[3],f=c&&c.search(d)<0,g=r(b,c,f);if(!g)return null;var h=a[1],i=a[2],j=i.length;if(f&&k&&!l.__design__){var m=k[c];m&&Object.assign(h,m)}for(var n=[g,h],o=!1,p=0;p<j;p++){var q=i[p];if(Array.isArray(q)){var t=s(q);t&&n.push(t)}else{var u,v=[q];if(!q.classList.contains("rewgt-static"))for(;p+1<j&&!Array.isArray(u=i[p+1]);)p+=1,v.push(u);for(var w=v.length-1;w>=0;w--)if(u=v[w],u.classList.contains("rewgt-static")){v.splice(w,1);for(var x=u.childNodes.length-1;x>=0;x--)v.splice(w,0,u.childNodes[x])}var y=l.$staticNodes.push(v)-1;n.push(e.createElement("div",{className:"rewgt-static",name:y+""})),o=!0}}return o&&(h["hasStatic."]=!0),e.createElement.apply(null,n)}h(l.$css,"lazy");var a=/^-ms-/,b=/-(.)/g,c=/(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*")/g,d=/\.[0-9]+/,g=l.$templates,i=l.$main,k=(l.$utils,l.$dataSrc),n={},o={},p=["data","$data","dual","$dual","aria","$aria"],t=document.getElementById("react-container"),u=q(t);
if(u){var v=s(u);v&&(l.$cachedClass=n,f.render(v,t,function(){l.$dataSrc=null,t.style.visibility="visible",i.isReady=!0;var a=i.$$onLoad_;"function"==typeof a&&a()}))}})}},b.exports=l}).call(this,a("_process"))},{_process:4,react:void 0,"react-dom":void 0}],3:[function(a,b,c){"use strict";function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function D(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function E(a){function c(a){return a=a.split(".").pop(),"$"==a[0]&&(a=a.slice(1)),a}function d(a){var b=a&&a._currentElement,c=b&&b._owner,d=c&&c._instance,e=d&&d.$gui;return e?e.keyid+"":""}if(!A)if(a.hasAttribute("data-reactid"))A=function(b){return c(b.getAttribute("data-reactid")||"")};else{for(var b in a)if(b.startsWith("__reactInternalInstance$")){z=b;break}if(!z)return console.log("warning: invalid react version!"),"";A=function(b){return d(b[z])}}return A(a)}function G(){return++F}function H(a){var b=a.$gui.className,c=a.state.klass;return b?c?b+" "+c:b:c||""}function I(a,b){if(!a)return!1;for(var c=" "+a+" ",d=Array.isArray(b)?b:String(b).split(/ +/),e=d.length,f=0;f<e;f++){var g=d[f];if(g&&c.indexOf(" "+g+" ")>=0)return!0}return!1}function J(a,b){for(var c=" "+(a||"")+" ",d=Array.isArray(b)?b:String(b).split(/ +/),e=d.length,f=0;f<e;f++){var g=d[f];if(g){var h=c.indexOf(" "+g+" ");h<0&&(c+=g+" ")}}return c.trim()}function K(a,b){if(!a)return"";for(var c=" "+a+" ",d=Array.isArray(b)?b:String(b).split(/ +/),e=d.length-1;e>=0;e--){var f=d[e];f&&(c=c.replace(" "+f+" "," "))}return c.trim()}function M(a){var b=a.key||"";return"."==b[0]?"$"==b[1]?b.slice(2):b.slice(1):b}function N(a){var b={};return Object.keys(a).forEach(function(c){B[c]||(b[c]=a[c])}),a.width&&(b.width=a.width),a.height&&(b.height=a.height),b}function O(a){var b=a;return a&&a.component&&!a.props&&(b=a.component),b?b.$gui.isPanel?"panel":I(b.props.className,"rewgt-unit")?b.props["childInline."]?"paragraph":"unit":b.props["childInline."]?"span":b.widget===t?"root":"unknown":"unknown"}function P(a,b){for(var c,k,d=H(a),e=a.state,f=a.$gui,g=f.tagAttrs,h=f.dataset2,i=Object.assign({style:b||e.style},f.eventset),j=0;k=g[j];j++)i[k]=e[k];for(var k,j=0;k=h[j];j++)i[k]=e[k];return d&&(i.className=d),m.__design__&&(c=e["data-group.opt"])&&(i["data-group.opt"]=c),i}function Q(a){if(!a||"string"!=typeof a)return null;var b=m.$cachedClass[a];if(b||null===b)return b;var d=a.split("."),e=d.shift();for(b=n[e];b&&(e=d.shift());)b=b[e];return b&&b._extend?m.$cachedClass[a]=b=k.createClass(b._extend()):m.$cachedClass[a]=b=null,b}function R(a){function e(){for(var a=[],b=0,d=this.state,e=this.index,f=this.input,g=0,h=c.length;g<h;g++){var i=c[g],j=i.start,k=j.length;if(!k||j.indexOf(d)>=0||d%2&&1===k&&!j[0]){var l=i.pattern;l.lastIndex=e;var m=l.exec(f);if(m&&m.index===e){var n=a.push({result:m,action:i.action,length:m[0].length});for(i.global&&(b=n);--n>b;){var o=n-1;if(a[n].length>a[o].length){var p=a[n];a[n]=a[o],a[o]=p}}}}}return a}"function"!=typeof a&&(a=R.defunct);var b=[],c=[],d=0;this.state=0,this.index=0,this.input="",this.addRule=function(a,b,d){var e=a.global;if(!e){var f="g";a.multiline&&(f+="m"),a.ignoreCase&&(f+="i"),a=new RegExp(a.source,f)}return Array.isArray(d)||(d=[0]),c.push({pattern:a,global:e,action:b,start:d}),this},this.setInput=function(a){return d=0,this.state=0,this.index=0,b.length=0,this.input=a,this},this.lex=function(){if(b.length)return b.shift();for(this.reject=!0;this.index<=this.input.length;){for(var c=e.call(this).splice(d),f=this.index;c.length&&this.reject;){var g=c.shift(),h=g.result,i=g.length;this.index+=i,this.reject=!1,d++;var j=g.action.apply(this,h);if(this.reject)this.index=h.index;else if("undefined"!=typeof j)return Array.isArray(j)&&(b=j.slice(1),j=j[0]),i&&(d=0),j}var k=this.input;if(f<k.length)if(this.reject){d=0;var j=a.call(this,k.charAt(this.index++));if("undefined"!=typeof j)return Array.isArray(j)?(b=j.slice(1),j[0]):j}else this.index!==f&&(d=0),this.reject=!0;else{if(!c.length)break;this.reject=!0}}}}function U(a,b,c){return T.push([b,a,S.index-a.length,c]),b}function W(a,b){function d(a,b,d,e){if(34==a[0]){var f=a[1],g=f[1],h=f[2],i=h?h[0]:0,j=g[3];if(j<e&&i>=31&&i<=43)return f[2]=[34,[h,b,d],h[2]],void c.push(a)}c.push([34,[a,b,d],a[2]])}function e(a,b,e){if(a>=3){var f,g,k,l,h=c[a-1],i=c[a-2],j=c[a-3],m=h[0],n=i[0],o=j[0];if(a>=5&&(f=c[a-4],k=f[0],g=c[a-5],l=g[0],!e&&l>=31&&l<=43&&5==k&&o>=31&&o<=43&&6==n&&m>=31&&m<=43))return c.splice(a-5,5,[35,[g,f,j,i,h],g[2]]),!0;if(o>=31&&o<=43&&14==n&&m>=31&&m<=43)return c.splice(a-3,3),d(j,i,h,i[3]),!0;if(!e&&o>=51&&o<=52&&7==n&&m>=31&&m<=43)return c.splice(a-3,3,[52,[j,i,h],j[2]]),!0;if(!e&&o>=31&&o<=43&&6==n&&m>=31&&m<=43)return a>=5&&l>=61&&l<=62&&7==k?c.splice(a-5,5,[62,[g,f,j,i,h],g[2]]):c.splice(a-3,3,[61,[j,i,h],j[2]]),!0}if(a>=1&&!b){var h=c[a-1],m=h[0];if(m>=31&&m<=43)return c.splice(a-1,1,[51,[h],h[2]]),!0}return!1}function f(a){var b=a[0];3==b&&"in"==a[1]&&(b=a[0]=14,a[3]=11);var f=c.length;if(20==b)for(f>=2&&7==c[f-1][0]&&(f-=1,c.pop());e(f);)f=c.length;else if(2==b){if(f){var g=c[f-1];if(14==g[0]&&"-"==g[1]){var h=!1;if(1==f)h=!0;else{var i=c[f-2],j=i[0];V.indexOf(j)<0&&(h=!0)}h&&(c.pop(),f-=1,a[1]="-"+a[1])}}c.push([31,[a],a[2]])}else if(3==b||4==b)c.push([29+b,[a],a[2]]);else if(7==b){for(;e(f);)f=c.length;c.push(a)}else if(6==b||8==b){for(;e(f,!0);)f=c.length;c.push(a)}else if(5==b||10==b||12==b||14==b){for(;e(f,!0,!0);)f=c.length;c.push(a)}else if(11==b){for(f>=2&&7==c[f-1][0]&&(f-=1,c.pop());e(f);)f=c.length;if(f>=3){var k=c[f-1],l=c[f-2],m=c[f-3],n=k[0],o=l[0],p=m[0];if(p>=31&&p<=43&&10==o&&51==n)return l[0]=14,l[3]=18,k=k[1][0],c.splice(f-3,3),void d(m,l,k,18)}if(f>=2){var k=c[f-1],l=c[f-2],n=k[0],o=l[0];if(10==o){if(n>=31&&n<=43)return void c.splice(f-2,2,[39,[l,[51,[k],k[2]],a],l[2]]);if(n>=51&&n<=52)return void c.splice(f-2,2,[39,[l,k,a],l[2]])}}if(f>=1){var k=c[f-1],n=k[0];if(10==n)return void(c[f-1]=[38,[k,a],k[2]])}c.push(a)}else if(13==b){for(;e(f);)f=c.length;if(f>=3){var k=c[f-1],l=c[f-2],m=c[f-3],n=k[0],o=l[0],p=m[0];if(p>=31&&p<=43&&12==o&&n>=51&&n<=52)return l[0]=14,l[3]=17,c.splice(f-3,3),void d(m,l,k,17)}if(f>=2){var k=c[f-1],l=c[f-2],n=k[0],o=l[0];if(o>=31&&o<=43&&12==n)return k[0]=14,k[3]=17,c.splice(f-2,2),void d(l,k,null,17);if(12==o&&n>=51&&n<=52)return void c.splice(f-2,2,[37,[l,k,a],l[2]])}c.push(a)}else if(9==b){for(f>=2&&7==c[f-1][0]&&(f-=1,c.pop());e(f,!0);)f=c.length;if(f>=2){var k=c[f-1],l=c[f-2],n=k[0],o=l[0];if(8==o&&n>=61&&n<=62)return void c.splice(f-2,2,[41,[l,k,a],l[2]])}if(f>=1){var k=c[f-1],n=k[0];if(8==n)return void(c[f-1]=[40,[k,a],k[2]])}c.push(a)}}for(var g,c=[];g=a.shift();)1!=g[0]&&f(g);if(0==c.length)throw new Error("expression is empty");if(g=c[0],1==c.length){var h=g[0];if(h>=51&&h<=52)return g;if(61==h&&b)return g}if(g[0]<20)throw new Error("invalid operand ("+g[1]+") at offset ("+g[2]+")");for(var i=0,j=g[2];i<c.length;){var k=c[i++],l=k[0];if(l<51||l>52){j=k[2];break}}throw new Error("syntax error at offset ("+j+")")}function X(a,b){function x(a,c){var d=c[0],e=c[1];if(61==d){var f=e[0],g=f[0],h=32==g?f[1][0][1]:X(f,b);a.push([h,X(e[2],b)])}else{if(62!=d)throw new Error("syntax error at offset ("+c[2]+")");x(a,e[0]);var f=e[2],g=f[0],h=32==g?f[1][0][1]:X(f,b);a.push([h,X(e[4],b)])}}function y(a,c){var d=c[0],e=c[1];51==d?a.push(X(e[0],b)):52==d?(y(a,e[0]),a.push(X(e[2],b))):a.push(X(c,b))}function z(a){var c=a[0],d=a[1];return 51==c?X(d[0],b):52==c?z(d[0],b):X(a,b)}function A(a){if(52==a[0]){var c=a[1];A(c[0],b),X(c[2],b)}}var c=a[0],d=a[1];if(31==c)return parseFloat(d[0][1]);if(32==c){var e=d[0][1];if("null"==e)return null;if("undefined"==e)return;if("true"==e)return!0;if("false"==e)return!1;if("NaN"==e)return NaN;var f=b[e];if(void 0!==f||b.hasOwnProperty(e))return f;throw new Error("symbol ("+e+") not defined")}if(33==c){var g=d[0][1];return g?g.slice(1,-1):""}if(34==c){var h=d[0],i=d[1],j=d[2],k=i[1];if("."==k){if(32!=j[0])throw new Error("syntax error at offset ("+a[2]+"): invalid attribute name");var l=X(h,b),m=j[1][0][1];return l[m]}if("["==k){var l=X(h,b),m=X(j,b);return l[m]}if("("==k){if(32==h[0]&&"while"==h[1][0][1]){var n=0;if(!j)return n;for(var o=z(j);o;)n+=1,A(j),o=z(j);return n}var p=[];if(j&&y(p,j),34==h[0]){var q=h[1];if("."==q[1][1]){var r=q[2];if(32!=r[0])throw new Error("syntax error at offset ("+r[2]+"): invalid attribute name");var s=X(q[0],b),t=r[1][0][1];return s[t].apply(s,p)}}var u=X(h,b);return u.apply(null,p)}if("&&"==k){var v=X(h,b);return v?X(j,b):v}if("||"==k){var v=X(h,b);return v?v:X(j,b)}var v=X(h,b),w=X(j,b);if("*"==k)return v*w;if("/"==k)return v/w;if("%"==k)return v%w;if("+"==k)return v+w;if("-"==k)return v-w;if("<<"==k)return v<<w;if(">>"==k)return v>>w;if(">>>"==k)return v>>>w;if("<"==k)return v<w;if("<="==k)return v<=w;if(">"==k)return v>w;if(">="==k)return v>=w;if("in"==k)return v in w;if("=="==k)return v==w;if("!="==k)return v!=w;if("==="==k)return v===w;if("!=="==k)return v!==w;if("&"==k)return v&w;if("^"==k)return v^w;if("|"==k)return v|w;throw new Error("unknown operator: "+k)}if(35==c){var o=X(d[0],b);return X(o?d[2]:d[4],b)}if(37==c){var p=[];return y(p,d[1]),p[p.length-1]}if(38==c)return[];if(39==c){var p=[];return y(p,d[1]),p}if(40==c)return{};if(41==c){var f={},p=[];return x(p,d[1]),p.forEach(function(a){f[a[0]]=a[1]}),f}if(51==c)return X(d[0],b);if(52==c){var p=[];return y(p,a),p[p.length-1]}throw new Error("syntax error at offset ("+a[2]+")")}function Y(a,b,c){var d=null,e=!1;T=[];try{for(S.setInput(a);S.lex(););e=!0}catch(a){o.instantShow("error: lexical analysis failed at "+b.widget.getPath()+":"+c),console.log(a)}if(!e)return null;try{d=W(T,!0)}catch(a){o.instantShow("error: yacc analysis failed at "+b.widget.getPath()+":"+c),console.log(a)}return d}function Z(a,b,c,d){var e=a.widget;if("number"==typeof b){for(var f=void 0,g=d||0;e;){var h=e.component,i=h&&h.props["for.index"];if(e.$callspace&&e.$callspace.hasOwnProperty("flowFlag")){if(e.$callspace.forSpace){if(b>=-1)return b==-1?f="number"==typeof i?i:void 0:0==g&&(f="number"==typeof i?i:void 0),c&&(c.unshift(0==b&&0!=g),c.unshift(e.$callspace),c.unshift(f)),e.component;b+=2}else{if(0==b){var j=e.$callspace.flowFlag;if(("for"==j||"for0"==j)&&0==g){f="number"==typeof i?i:void 0,e=e.parent,g+=1;continue}return c&&(c.unshift(!1),c.unshift(e.$callspace),c.unshift(f)),e.component}b+=1}f="number"==typeof i?i:void 0}else void 0===f&&"number"==typeof i&&(f=i);e=e.parent,g+=1}return null}for(;e;){if(e.$callspace&&e.$callspace.hasOwnProperty("flowFlag"))return Ca(e.component,b);e=e.parent}return null}function $(a,b,c){function e(c){return function(e){var g=e||0,h="undefined"==typeof g?"undefined":f(g);if("number"==h?g>0&&(g=0):"string"!=h&&(g=0),0===g)return b[c];var i=0;d!==a.index&&(i=1);var j=[],k=Z(b,g,j,i);return k?k[c]:null}}a.ex=r.createEx(b),a.Math=Math;var d=function(c,d){void 0===c?c=0:("number"!=typeof c||isNaN(c)||c>0)&&(console.log("warning: invalid expression: index("+c+")"),c=0);var e=[],f=Z(b,c,e,d);return f?e[0]:void 0};a.index=d,a.props=e("props"),a.state=e("state"),a.duals=e("duals"),a.typeof=function(a){return"undefined"==typeof a?"undefined":f(a)},a.count=function(e){if(void 0===e?e=0:("number"!=typeof e||isNaN(e)||e>0)&&(console.log("warning: invalid expression: count("+e+")"),e=0),0===e&&c)throw new Error("invalid expression: count(0)");var f=0;d!==a.index&&(f=1);var g=[],h=Z(b,e,g,f),i=g[1];return h&&i?((g[2]?i.forSpace:i)["data-for.path"]||[]).length:0},a.item=function(e){if(void 0===e?e=0:("number"!=typeof e||isNaN(e)||e>0)&&(console.log("warning: invalid expression: item("+e+")"),e=0),0===e&&c)throw new Error("invalid expression: item(0)");var f=0;d!==a.index&&(f=1);var g=[],h=Z(b,e,g,f),i=g[1];if(h&&i){var j=f?a.index(e):g[0];if("number"==typeof j)return((g[2]?i.forSpace:i)["data-for.path"]||{})[j]}}}function aa(a){var b=a.widget;if(b=b&&b.parent,!b)return!1;var c=b.component;if(!c)return!1;var d=c.$gui.compIdx[a.$gui.keyid];if("number"!=typeof d)return!1;var e=!1,f=c.$gui.comps;for(d-=1;d>=0;){var h=f[d--],i=M(h);if(h=h&&i&&b[i],h=h&&h.component,h&&h.$gui.compState){var j=h.$gui.flowFlag;if("if"==j){h.state[j]&&(e=!0);break}if("elif"!=j)break;if(h.state[j]){e=!0;break}}}return e}function ca(a,b){function s(a){if(32==a[0]){var b=a[1][0][1],c=ba.indexOf(b);if(c>=0)return c+1}return 0}var c,d=a[0],e=a[1];if(d>=51)51==d?ca(e[0],b):52==d?(ca(e[0],b),ca(e[2],b)):61==d?(ca(e[0],b),ca(e[2],b)):62==d&&(ca(e[0],b),ca(e[2],b),ca(e[4],b));else if(d>=31)if(32==d){if(c=s(a)){var f=a[2],g=a.slice(0);return a[0]=34,a[1]=[g,[14,"(",f,17],null],b.push([c,0])}}else if(34==d){var h=e[0],i=e[1],j=e[2],k=i[1];if("."==k)if(c=s(h))if(32==j[0]){var l=j[1][0][1];b.push([c,0,l]);var f=h[2],g=h.slice(0);h[0]=34,h[1]=[g,[14,"(",f,17],null]}else ca(j,b);else{if(ca(h,b)&&32==j[0]){var l=j[1][0][1],m=b[b.length-1];return m.push(l),0}ca(j,b)}else if("("==k)if(c=s(h)){if(null===j)return b.push([c,0]);var n=j[0];if(51==n){var o=j[1][0],p=o[0];if(31==p){var q=o[1][0][1];return b.push([c,parseFloat(q)])}if(33==p){var r=o[1][0][1];return b.push([c,r.slice(1,-1)])}}ca(j,b)}else ca(h,b),null!==j&&ca(j,b);else if("["==k)if(c=s(h))if(33==j[0]){var r=j[1][0][1];b.push([c,0,r.slice(1,-1)]);var f=h[2],g=h.slice(0);h[0]=34,h[1]=[g,[14,"(",f,17],null]}else ca(j,b);else{if(ca(h,b)&&33==j[0]){var r=j[1][0][1],m=b[b.length-1];return m.push(r.slice(1,-1)),0}ca(j,b)}else"in"==k?(32!=h[0]&&ca(h,b),ca(j,b)):(ca(h,b),ca(j,b))}else 35==d?(ca(e[0],b),ca(e[2],b),ca(e[4],b)):37==d?ca(e[1],b):39==d?ca(e[1],b):41==d&&ca(e[1],b);return 0}function da(a,b){var c=Y(b,a,"key");if(c){61==c[0]&&(c=c[1][2]),ca(c,[]);var d=[],e=Z(a,0,d,1),f=d[1];return e&&f?(d[2]&&(f=f.forSpace),function(a,b){var d=f.exprSpace,e=d.index;d.index=function(a){return void 0===a||0===a?b:e(a,1)},d.$info=[a,"key",p.time()];try{return X(c,d)}finally{d.index=e}}):null}return null}function fa(a,b,c,d){function A(a,b){var c=a.widget;if(c=c&&c.parent,!c)return!1;var d=c.component;if(!d)return!1;var e=d.$gui.compIdx[a.$gui.keyid];if("number"!=typeof e)return!1;var f=!1,g=d.$gui.comps,h=[],i=!1;for(e-=1;e>=0;){var j=g[e--],k=M(j);if(j=j&&k&&c[k],j=j&&j.component,j&&j.$gui.compState){var l=j.$gui.flowFlag;if("if"!=l&&"elif"!=l)break;var m=j.$gui.flowExprId0;if(!i&&(j.$gui.flowExprId!==m||b>m)?h.unshift([l,j]):(i=!0,j.state[l]&&(f=!0)),"if"==l)break}}return h.length&&h.forEach(function(a){var b=a[0],c=a[1],d=c.$gui.exprAttrs[b];if(f||!d)c.state[b]&&setTimeout(function(){c.state[b]=!0;var a={};a[b]=!1,c.setState(a)},0),c.state[b]=!1,c.$gui.flowExprId0=c.$gui.flowExprId=_;else try{var e=c.state[b];d(c,1);var g=c.state[b];g&&(f=!0),!e!=!g&&setTimeout(function(){c.state[b]=e;var a={};a[b]=g,c.setState(a,function(){g&&c.props["hasStatic."]&&La(c)})},0)}catch(a){console.log(a)}}),f}function B(a,b,c){var d=a.widget;if(d=d&&d.parent){var e=d.component;if(e){var f=e.$gui.compIdx[a.$gui.keyid],g=e.$gui.comps;if("number"==typeof f){for(var h=[],i=g.length,j=f+1;j<i;j+=1){var k=g[j],l=k&&M(k),m=l&&d[l];if(m=m&&m.component,m&&m.$gui.compState){var n=m.$gui.flowFlag;if("elif"!=n&&"else"!=n)break;var o=m.$gui.flowExprId0;if(!(m.$gui.flowExprId!==o||c>o))break;if(h.push([n,m]),"else"==n)break}}h.forEach(function(a){var c=a[0],d=a[1],e="elif"==c?d.$gui.exprAttrs[c]:null;if(b||"elif"==c&&!e)d.$gui.flowExprId0=d.$gui.flowExprId=_,d.state[c]&&(d.state[c]=!1,setTimeout(function(){d.state[c]=!0;var a={};a[c]=!1,d.setState(a)},0));else if("elif"==c)try{var f=d.state[c];e(d,2);var g=d.state[c];g&&(b=!0),!f!=!g&&setTimeout(function(){d.state.elif=!g,d.setState({elif:g},function(){g&&d.props["hasStatic."]&&La(d)})},0)}catch(a){console.log(a)}else d.$gui.flowExprId0=d.$gui.flowExprId=_,d.state.else||(d.state.else=!0,setTimeout(function(){d.state.else=!1,d.setState({else:!0},function(){d.props["hasStatic."]&&La(d)})},0))})}}}}function D(a,b,c,d){var e=d[d.length-1],f=[],g=Z(a,e,f,0);if(!g)return void console.log("error: can not listen ("+e+":for) for "+a.widget.getPath()+":"+b);for(var k,h=g.widget,i=f[1],j=f[2],l=0;h&&i;){if(d.indexOf(e)>=0&&(k=h.component)&&(k.props.$for||k.props.$$for)&&(k.listen("for",function(c,d){if(!a.isHooked)return void k.unlisten("*",a);var e=a.state.exprAttrs.slice(0);e.indexOf(b)<0&&e.push(b),C.indexOf(b)>0&&(0==ea&&(ea=++_,setTimeout(function(){ea=0},0)),a.$gui.flowExprId=ea),a.setState({exprAttrs:e})}),l+=1),j)j=!1,e-=1;else for(h=h.parent;h;){if(i=h.$callspace){j=!!i.forSpace,e-=1;break}h=h.parent}if(e<c)break}l<d.length&&console.log("error: not all source ($for) is watched for "+a.widget.getPath()+":"+b)}var e="any",f=Y(c,a,b);if(f){61==f[0]&&(e=f[1][0],f=f[1][2],32==e[0]&&(e=e[1][0][1]),"all"!==e&&"strict"!==e&&(e="any"));var g=C.indexOf(b);g>=0&&"any"!=e&&(console.log("error: invalid using '"+e+":' at "+a.widget.getPath()+":"+b),e="any");var h=[];ca(f,h);var i={},j=[];h.forEach(function(c){var d,e=c[0],f=c[1];if(e>=4&&"number"==typeof f)return void(f<=0&&j.indexOf(f)<0&&j.push(f));if(3==e&&void 0!==(d=c[2])){if("number"==typeof f&&!(f<=0))return void console.log("error: invalid using duals("+f+") at "+a.widget.getPath()+":"+b);var g=i[f];if(g||(g=i[f]=[]),0==g.length){var h=[],k=Z(a,f,h,0);k?g.push(k,d):console.log("error: can not find duals("+f+") at "+a.widget.getPath()+":"+b)}else g.indexOf(d,1)<0&&g.push(d)}}),j.sort(function(a,b){return a-b});var k={};Object.keys(i).forEach(function(c){var d=i[c],f=d&&d[0];if(f){var g=d.slice(1);"any"!=e&&g.forEach(function(a){k[c+":"+a]=!1}),f.listen(g,function(d,g,h){if(!a.isHooked)return void f.unlisten("*",a);if("any"==e){var i=a.state.exprAttrs.slice(0);i.indexOf(b)<0&&i.push(b),C.indexOf(b)>0&&(0==ea&&(ea=++_,setTimeout(function(){ea=0},0)),a.$gui.flowExprId=ea),a.setState({exprAttrs:i})}else{var j=c+":"+h;if(k.hasOwnProperty(j)){"strict"==e&&k[j]&&console.log("error: conflict in strict mode, duals("+c+")."+h+" is fired more than one time."),k[j]=!0;for(var l=!0,m=Object.keys(k),n=m.length-1;n>=0;n--)if(!k[m[n]]){l=!1;break}if(l){for(var n=m.length-1;n>=0;n--)k[m[n]]=!1;var i=a.state.exprAttrs.slice(0);i.indexOf(b)<0&&i.push(b),a.setState({exprAttrs:i})}}}})}}),j.length&&"any"==e&&D(a,b,j[0],j);var l=[],m=Z(a,0,l,0),n=l[0],o=l[1];if(!m||!o)return console.log("warning: locate current callspace failed."),[null,e];l[2]&&(o=o.forSpace);var q=!1,r=null,s=null,t=null;if("html"==b)q=!0;else if(0==g){var u=[],v=f,w=v[0],x=v[1];if(51==w&&37==x[0][0]&&(v=x[0][1][1],w=v[0],x=v[1]),51==w)r=x[0];else if(52==w){for(;52==w;)u.unshift(x[2]),v=x[0],w=v[0],x=v[1];51==w&&(r=x[0])}else r=v;if(r=r&&34==r[0]&&"in"==(x=r[1])[1][1]?x[2]:null)for(;u.length;){var y=u.pop(),z=y[0];if(31==z)t||(t=[]),t.unshift(parseFloat(y[1][0][1]));else if(33==z)t||(t=[]),t.unshift(y[1][0][1].slice(1,-1));else{if(u.length){console.log("warning: invalid filter expression ($for) at "+a.widget.getPath()),s=null;break}s=y}}else console.log("error: invalid expression ($for) at "+a.widget.getPath())}return[function(a,c){var e=o.exprSpace,h=e.index;e.index=function(a){return void 0===a||0===a?n:h(a,1)},e.$info=[a,b,p.time()];try{if(0==g)if(a.$gui.flowExprId0=a.$gui.flowExprId=_,r){var i=X(r,e);if(Array.isArray(i)){if(s){for(var j=[],k=i.length,l=0;l<k;l++){var m=e.$item=i[l];try{X(s,e)&&j.push(m)}catch(b){console.log("error: run filter failed ("+a.widget.getPath()+")"),console.log(b)}}delete e.$item,i=j}t&&(i=p.order(i,t)),a.state[b]=i}else console.log("error: result of '$for' ("+a.widget.getPath()+") should be array"),a.state[b]=[]}else a.state[b]=[];else if(g>=1){var u=a.$gui.flowExprId;if(c=c||0,2==g){var v=!1,w=!1;if(u!==a.$gui.flowExprId0?w=!0:c&&_>a.$gui.flowExprId0&&(w=!0),a.$gui.flowExprId0=a.$gui.flowExprId=_,w){var x,y=a.state.elif;1!=c&&A(a,u)?(v=!0,x=a.state.elif=!1):(x=a.state.elif=X(f,e),v=!!x),x&&y!==x&&a.props["hasStatic."]&&setTimeout(function(){La(a)},0)}else(a.state.elif||1!=c&&A(a,u))&&(v=!0);2!=c&&B(a,v,u)}else if(1==g){var w=!1;if(u!==a.$gui.flowExprId0?w=!0:c&&_>a.$gui.flowExprId0&&(w=!0),a.$gui.flowExprId0=a.$gui.flowExprId=_,w){var y=a.state.if,x=a.state.if=X(f,e);x&&y!==x&&a.props["hasStatic."]&&setTimeout(function(){La(a)},0)}2!=c&&B(a,!!a.state.if,u)}}else d?a.duals[b]=X(f,e):a.state[b]=X(f,e),q&&(a.state["html."]=a.state[b])}finally{e.index=h}},e]}return[null,e]}function ga(a,b,c,d){for(var f,e=0;f=a[e];e++)try{var g=f[0],h=f[1];f[2]?g&&(g.duals[h]=b):g?g[h]&&g[h](b,c,d):"function"==typeof h&&h(b,c,d)}catch(a){console.log(a)}}function ha(a,b,c,d){function g(){return this.state[b]}function h(a){if(e.inSync){var g;if(arguments.length>=2)g=arguments[1];else if(g=this.state[b],g===a)return;var h=!1;if(f&&a<=2?(this.state[b]=a,e.id__=a,d&&d(a,g),h=0!=a):(c?c(a,g):h=!0,d?d(a,g):this.state[b]=a),h){var i=e.connectTo[b];i&&e.compState>=2&&setTimeout(function(){ga(i,a,g,b)},0)}}else if(this.state)if(f&&0==a){var g=this.state[b];if(0===g)return;this.state[b]=a,e.id__=a,d&&d(a,g)}else{var j=this,k=this.state.duals.slice(0);k.push([b,a]),setTimeout(function(){j.setState({duals:k})},0)}else e.initDuals.push([b,a])}var e=a.$gui,f="id__"==b;return[g.bind(a),h.bind(a)]}function ia(a){function Z(b){var c=d[b];if(c)try{var g=f.connectTo[b];if(g){var h=a.state[b];c(a);var i=a.state[b];i!==h&&e.push([g,i,h,b])}else c(a)}catch(a){console.log(a)}}function ba(a){var b=a&&a.component;return!!b&&(!!b.props["isTemplate."]||ba(a.parent))}var d,e,b=!1,c=!1,f=a.$gui,g=a.duals;f.inSync=!0;try{0==f.compState?(c=!0,f.compState=1):f.compState=2;var h=f.flowFlag,i=f.duals,j=a.state.duals;if(c){b=!0,f.hasIdSetter?g.id__=1:(a.state.id__=1,f.id__=1);var l={},n=[];Object.keys(g).forEach(function(b){var c=a.props[b];void 0!==c&&(i[b]=c,n.push([b,c])),l[b]=!0});var o=f.exprAttrs,p=Array.isArray(o);(p||h)&&m.__design__&&ba(a.widget)&&(f.forExpr=0,h=f.flowFlag="",o.splice(0),a.state.exprAttrs=[]);var q=[],r=[],s=a.state.exprAttrs;d=f.exprAttrs={},p&&o.forEach(function(b,c){var d=a.props["$"+b],e=!1;if(d||"for"!=b||2!==f.forExpr||(d=a.props.$$for),!d)return void("for"!=b&&console.log("warning: invalid dual attribute ($"+b+")."));if(0==b.indexOf("dual-")){var g=s.indexOf(b);g>=0&&s.splice(g,1);var h=b.slice(5).replace(Oa,function(a,b){return b.toUpperCase()});if(!h)return;e=!0,b=h}var i=void 0!==a.props[b];if(i&&!l[b])return void console.log("warning: dual attribute ($"+b+") is confliction.");if(e&&s.push(b),"data"!=b){var j=Ia[b];j&&5!=j&&!i&&f.tagAttrs.push(b)}q.push(b),r.push([b,d])});var t,u,v=f.initDuals0;for(f.initDuals0=[],t=0;u=v[t];t++)a.state[u[0]]=u[1];var w={},x=Object.keys(f.dualAttrs);if(q.length||x.length||f.tagAttrs.length||f.dataset.length)for(var z,y=[q,x,f.tagAttrs,f.dataset],t=0;z=y[t];t++)z.forEach(function(b){if(0==t)l[b]=!0;else if(1==t){var c=!1;if(void 0!==a.props[b]?c=!0:l[b]&&void 0!==i[b]&&(c=!0),c)return void console.log("warning: dual attribute ("+b+") is confliction.");if(l[b]=!0,"data"!=b){var d=Ia[b];d&&5!=d&&!bothPropDual&&f.tagAttrs.push(b)}var e=i[b]=a.props[f.dualAttrs[b]];if(g.hasOwnProperty(b))return void n.push([b,e]);a.state[b]=e}else{if(l[b])return;l[b]=!0;var e=i[b]=a.props[b];if(g.hasOwnProperty(b))return void n.push([b,e]);a.state[b]=e}var h=Object.getOwnPropertyDescriptor(g,b);if(h)0==t&&(w[b]=!0);else{var j=ha(a,b);Object.defineProperty(g,b,{enumerable:!0,configurable:!0,get:j[0],set:j[1]})}});var A;if(f.forExpr&&(A=a.widget)){var B;2==f.forExpr&&(A.$callspace={flowFlag:"ref",forSpace:null},A.$callspace["data-rfor.path"]="",B=A.$callspace.exprSpace={},$(B,a)),B={};var C={flowFlag:"for",exprSpace:B},D=a.props[2==f.forExpr?"$$for":"$for"],E=!0;if(A.$callspace?D?A.$callspace.forSpace=f.forExpr=C:(delete f.forExpr,E=!1):(A.$callspace=C,D?f.forExpr=C:(delete f.forExpr,C.flowFlag="for0")),E&&$(B,a,!D),f.forExpr){for(var H=f.comps2=f.comps,J=f.exprKeys=[],t=H.length-1;t>=0;t-=1){var K=H[t];if(K){if(I(K.props.className,"rewgt-static")){J.unshift(null);continue}var L=K.props.$key;if(L&&"string"==typeof L){var M=da(a,L);if(M){J.unshift(M);continue}console.log("error: invalid '$key' expression: "+L)}else console.log("error: no '$key' defined for child element in '$for' loop.")}H.splice(t,1)}f.comps=[],f.compIdx={}}}r.length&&(f.flowExprId0=0,f.flowExprId=1,r.forEach(function(b){var c=b[0],e=fa(a,c,b[1],w[c]),g=e[0],h=e[1];g?("any"!=h?setTimeout(function(){d[c]=g},0):d[c]=g,0!=c.indexOf("data-")&&0!=c.indexOf("aria-")||f.dataset2.push(c)):console.log("warning: compile expression ($"+c+") failed.")}));var N=n.length;for(f.initDuals.forEach(function(a){var b=a[0],c=n.findIndex(function(a){return a[0]===b});c>=0&&c<N&&(n.splice(c,1),N-=1),n.push(a)}),f.initDuals=[];u=n.shift();)g[u[0]]=u[1]}else{for(var O;O=j.shift();)g[O[0]]=O[1];Object.keys(g).forEach(function(c){var d=a.props[c];if(void 0===d){var e=f.dualAttrs[c];if(!e)return;if(d=a.props[e],void 0===d)return}d!==i[c]&&(i[c]=d,g[c]=d,b=!0)})}var s=a.state.exprAttrs;if(d=f.exprAttrs,e=[],s.length){var u,P=s.indexOf("data");for(P>=0&&(u=s[P],s.splice(P,1),Z(u),s=a.state.exprAttrs);u=s.shift();)Z(u)}if(h||f.forExpr){var A,Q=!1,R=!0;if(h&&(R=a.state[h],"if"==h||"elif"==h?(Q=!0,a.hideThis=!R):"else"==h&&(c&&(f.flowExprId0=f.flowExprId=_,R=a.state.else=!aa(a)),Q=!0,a.hideThis=!R)),f.forExpr&&(A=a.widget)){R=a.state.for,Array.isArray(R)&&0!=R.length||(R=[]),f.forExpr["data-for.path"]=R;var S={},T=[],H=f.comps2,J=f.exprKeys,V=!1,W=a.props["childInline."];R.forEach(function(b,c){for(var e,d=0;e=H[d];d+=1){var f=J[d];if(f){var j=e.props["childInline."];if(void 0!==j)if(W){if(!j)continue}else if(!I(e.props.className,["rewgt-panel","rewgt-unit"]))continue;if(e.props["isReference."])continue;try{var h=f(a,c);"number"!=typeof h&&(h+=""),S[h]=T.push(k.cloneElement(e,{"hookTo.":A,"keyid.":h,key:h+"","for.index":c}))-1}catch(a){console.log("error: caculate '$key' ("+(d+1)+" of "+H.length+") failed."),console.log(a)}}else{V=!0;var h="static-"+c,i=Object.assign({},e.props);i["keyid."]=h,i.key=h,S[h]=T.push(k.createElement(W?"span":"div",i))-1}}}),V&&setTimeout(function(){La(a)},0);var X=Object.keys(f.compIdx);f.compIdx=S,f.comps=T,X.forEach(function(a){S.hasOwnProperty(a)||(f.removeNum+=1)})}}if(e.length&&f.compState>=2&&setTimeout(function(){e.forEach(function(a){ga(a[0],a[1],a[2],a[3])})},0),c&&m.__debug__&&"function"==typeof a.setup__)try{a.setup__()}catch(a){console.log(a)}if(f.id__===a.state.id__)0==f.id2__&&(g.id__=F!==a.state.id__?F:G());else{var Y=a.state.id__;a.state.id__=Y-1,g.id__=Y}f.id2__=0,g.childNumId=f.comps.length+(f.removeNum<<16)}catch(a){console.log(a)}return f.inSync=!1,b}function ja(a,b){var c=null,d=b.frame||{},e=d.path;return e&&(c=a.componentOf(e),c=c&&c.fullClone(),c||(m.__design__||delete b.frame,console.log("warning: can not locate popup frame ("+e+")."))),c||null}function ka(a){var b=a._;if(!b)return null;var c=b._statedProp||[],d=b._slientProp||[],e=Object.assign({},a.props);return a.$gui.dataset.forEach(function(b){var c=a.state[b];void 0!==c&&(e[b]=c)}),c.forEach(function(b){var c=a.state[b];void 0!==c&&(e[b]=c)}),d.forEach(function(a){delete e[a]}),delete e["data-unit.path"],delete e["data-span.path"],delete e.children,e}function la(a,b,c,d){var e=d.$gui.comps,f=[],g=d.props["childInline."];return e.forEach(function(a){if(a){if(a.props["isReference."])return void f.push(a);if(I(a.props.className,"rewgt-static")){var b=Object.assign({},a.props);delete b["keyid."],delete b.key,delete b.onMouseDown,delete b.onDoubleClick;var e,h=b.name;if("number"==typeof(e=parseInt(h))&&e>=1048576){var i=d.$gui.statics;if(i=i&&i[h],Array.isArray(i)){var j=i.map(function(a){return a.cloneNode(!0)});e=m.$staticNodes.push(j)-1,b.name=e+""}}return void f.push(k.createElement(g?"span":"div",b))}var l=M(a),n=l&&c[l],o=n&&n.component;if(o){if(o.props["isTemplate."]&&!m.__design__){var p=o.$gui.template;return p instanceof Da?k.cloneElement(a,{template:p},null):void 0}var b=ka(o);b&&f.push(la(a,b,n,o))}}}),0==f.length?k.cloneElement(a,b,null):(f.unshift(b),f.unshift(a),k.cloneElement.apply(null,f))}function ma(a,b){var c;if(Array.isArray(a)){if(Array.isArray(b)&&(c=a.length)==b.length){for(var d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}return!1}if(a&&"object"==("undefined"==typeof a?"undefined":f(a))){if(b&&"object"==("undefined"==typeof b?"undefined":f(b))){var e=Object.keys(a),g=Object.keys(b);if((c=e.length)!=g.length)return!1;for(var d=0;d<c;d++){var h=e[d];if(a[h]!==b[h])return!1}return!0}return!1}return a===b}function na(a,b,c){function y(a){return[a._className,a._statedProp||[],a._slientProp||[],a._defaultProp||{}]}function z(a){if(!a)return!1;var b=a.component;return!(!b||!b.props["data-unit.path"]&&!b.props["data-span.path"])||z(a.parent)}if(!b){if(b=t,!b)return;c=""}var d=b.component,e=b===t;if(c+="."+(d?d.$gui.keyid:"undefined"),d){var h,f={},g=0,i=d.state,j=i["data-unit.path"];if(void 0!==j?(h="RefDiv",g=2):(j=i["data-span.path"],void 0!==j&&(h="RefSpan",g=3)),void 0!==j){var k=j?d.props["link.props"]:null;if(k){Object.assign(f,k);var m=f["keyid."];delete f["keyid."],delete f.key,"string"==typeof m&&("$"==m[0]?(m=m.slice(1),m!==parseInt(m)+""&&(f.key=m)):f.key=m),Object.keys(f).forEach(function(a){void 0===f[a]&&delete f[a]}),f.$=j,a.push([h,f,g])}}else if(d.props["isReference."]);else{var n=d.$gui.keyid,m="string"==typeof n?n:"",o=y(d._),p=o[1],q=o[2],r=o[3],s=Object.keys(r);h=o[0],d.props["childInline."]?g=I(d.props.className,"rewgt-unit")?2:3:I(d.props.className,"rewgt-unit")&&(g=1),Object.assign(f,d.props),d.$gui.dataset.forEach(function(a){var b=i[a];void 0!==b&&(f[a]=b)}),p.forEach(function(a){var b=i[a];void 0!==b&&(f[a]=b)}),q.forEach(function(a){delete f[a]}),s.forEach(function(a){var b=r[a];void 0===b?"number"!=typeof f[a]&&delete f[a]:ma(b,f[a])&&delete f[a]}),delete f.children,delete f["hasStatic."],Object.keys(f).forEach(function(a){var b=f[a];void 0===b?delete f[a]:"function"==typeof b&&(delete f[a],z(d.widget)||console.log("warning: can not dump function property ("+a+")"))}),delete f.key,m&&(f.key=m),e&&(delete f.left,delete f.top);var u=[];if(!d.props["noSaveChild."]&&void 0===j){var v=d.$gui.comps,w=null;v.forEach(function(a){if(a){var f=M(a);if(f){if(e&&"$"==f[0]){if("$pop"==f)return;if("$"==f[1]&&a.props["isTemplate."])return}var h=b[f];if(h)na(u,h,c);else if(I(a.props.className,"rewgt-static")){w||(w=l.findDOMNode(d));var i=a.props.name,j=[];if(w&&i){var k=w.querySelector('.rewgt-static[name="'+i+'"]');if(k)for(var n,m=0;n=k.children[m];m+=1)j.push(n.outerHTML)}j.length&&u.push(["",{html:j},g])}}}})}var x=[h,f,g];u.length?(u.unshift(x),a.push(u)):a.push(x)}}else console.log("warning: widget ("+c+") is null.")}function qa(a,b,c,d){if(!s||!b)return!1;if(!s.showDesignDlg)return!1;var e=a;if("string"==typeof a&&(e=m.W(a),e=e&&e.component,!e||!e.props))return!1;if(!e)return!1;if(!c){var f=e._._getGroupOpt(e),g=f.tools||[];if(c=g.find(function(a){return a.name===b}),!c||!c.get||!c.set)return!1;c=Object.assign({},c),d||(d=f.baseUrl||"")}var h=c.get(e);return pa+=1,oa=[pa,e,c],s.showDesignDlg(pa,c,h,d),!0}function ra(a,b,c){if(oa&&oa[0]==b){var d=oa[1],e=oa[2];oa=null,e.set(d,c,a)}}function sa(a){a.preventDefault()}function ta(a){if(s){var b=this.widget,c=b&&b.getPath();if(c){var d=l.findDOMNode(this);if(d){for(var e="",f=a.target;f&&f!==d;){if(f.classList.contains("rewgt-static")){e=f.getAttribute("name");break}f=f.parentNode}e&&(a.stopPropagation(),a.preventDefault(),qa(f,"default",{name:"default",title:"edit content",url:"/app/files/rewgt/web/edit_static.html",halfScreen:!0,width:.96,height:.9,clickable:!1,get:function(b){return[b.innerHTML,c,e]},set:function(b,c,d){var e=c[0]||"",f=c[1],g=c[2];if(f&&g){
var h=m.W(f);if(h=h&&h.component){var i=l.findDOMNode(h),j=null;if(i&&(j=i.querySelector('.rewgt-static[name="'+g+'"]')),j===b){j.innerHTML=e;var k=parseInt(g),n=null;if("number"==typeof k&&k<1048576&&(n=m.$staticNodes[k],Array.isArray(n))){n=m.$staticNodes[k]=[];for(var p,o=0;p=j.children[o];o+=1)n.push(p)}m.__design__&&s.notifyBackup&&s.notifyBackup("")}}}}},""))}}}}function ua(a,b,c,d,e){function h(a,b){var c="undefined"==typeof a?"undefined":f(a);if("string"!=c)return k.isValidElement(a)?(g=3,a):"function"==c?(g=2,a):null;var e,h=b?m.$main[b]:null;if(!h&&(e=d[a],e||null===e))return g=0,e;var i,j=a.split("."),l=j.shift();if(0==j.length&&((i=l[0])<"A"||i>"Z"))return g=1,l;for(g=0,e=n[l];e&&(l=j.shift());)e=e[l];return e&&e._extend?h?e=k.createClass(e._extend(h)):d[a]=e=k.createClass(e._extend()):d[a]=e=null,e}function i(a,b,c){for(var d=b.length,e=c;e<d;e++){var g=b[e];if(g){var h="undefined"==typeof g?"undefined":f(g);if("string"!=h)if(k.isValidElement(g))a.push(g);else if("function"!=h){if(Array.isArray(g)&&g.length>=1){var j,l,m=g[0],n=0,o=!1;Array.isArray(m)?(n=g.length-1,j=m[0],l=m[1]):(j=m,l=g[1]),l||(o=!0,l={});var p=!1,q="undefined"==typeof j?"undefined":f(j);if("string"==q){var r=j[0];if(r>="A"&&r<="Z"||j.indexOf(".")>=0){console.log("warning: unknown react class ("+j+")");continue}}else if(k.isValidElement(j))p=!0;else if("function"!=q){console.log("warning: unknown react class");continue}if(n){var s=[];i(s,g,1),p?a.push(k.cloneElement(j,l,s)):a.push(k.createElement(j,l,s))}else p?a.push(o?j:k.cloneElement(j,l)):a.push(k.createElement(j,l))}}else a.push(k.createElement(g));else a.push(g)}}}var j,l,g=0,o=b[0],p=0,q=!1;if(Array.isArray(o)?(p=b.length-1,j=o[0],l=o[1]):(j=o,l=b[1]),l||(q=!0,l={}),!j){var r=l.html||[];if(r.length>0){var s=document.createElement("div");s.innerHTML=r.join("");for(var w,t=[],u=c.push(t)-1,v=0;w=s.children[v];v+=1)t.push(w);return a.push(k.createElement("div",{className:"rewgt-static",name:u+""})),!0}return!1}var x="";e&&l.key&&(x=e+"."+l.key);var y="RefDiv"===j||"RefSpan"===j?j:"";if(y)return a.push(k.createElement(h(y,x),l)),!1;var z=h(j,x);if(!z){var A="string"==typeof j?" ("+j+")":"";return console.log("warning: can not find template"+A),!1}if(g>0)if(p>0){var B=[];i(B,b,1),3==g?a.push(k.cloneElement(z,l,a)):a.push(k.createElement(z,l,B))}else 3==g?a.push(q?z:k.cloneElement(z,l)):a.push(k.createElement(z,l));else{var C=[z,l];if(p>0){for(var D,w,E=!1,v=1;w=b[v];v+=1)Array.isArray(w)?ua(C,w,c,d,x)&&(E=!0):k.isValidElement(w)?C.push(w):"string"==(D="undefined"==typeof w?"undefined":f(w))?C.push(k.createElement(_b,{"html.":w})):"function"==D&&C.push(k.createElement(w));E&&(C[1]=Object.assign({},l,{"hasStatic.":!0}))}a.push(k.createElement.apply(null,C))}return!1}function va(a,b){var c=a.widget;if(c){var d=a.cssWidth,e=a.cssHeight,f=!!b;if("number"==typeof d||"number"==typeof e){var g=0;a.$gui.comps.forEach(function(a){if(a){var b=M(a),h=b&&c[b];if(h=h&&h.component){if(h.willResizing&&!h.willResizing(d,e,f))return;g||(g=G()),h.setState({parentWidth:d,parentHeight:e,id__:g})}}})}}}function wa(a,b,c){function g(){setTimeout(function(){v=!1},300),c&&c()}if(!m.__design__)return void(c&&c());var d=[],e=[],f={};if(ua(d,b,e,f),1==d.length){v=!0;var h=d[0];l.unmountComponentAtNode(a),a.style.visibility="hidden",a.innerHTML="",setTimeout(function(){o.widgetNum(0),t=null,w=!1,u=!0,x=[],m.$cachedClass=f,m.$staticNodes=e,l.render(h,a,function(){a.style.visibility="visible";var b=m.$main.$$onLoad_;"function"==typeof b&&b(g)})},0)}else c&&c()}function ya(a,b){function c(){return new Array(b+1).join("  ")}b=b||0;var d,e,f,g=a[0],h=0;Array.isArray(g)?(h=a.length-1,d=g[0],e=g[1],f=g[2]):(d=g,e=a[1],f=a[2]),void 0===f&&(f=1);var i=c(),j=i;if(!d){var k=e.html||[],l=f<=1?"<div class='rewgt-static'>":"<span class='rewgt-static'>",m=f<=1?"</div>":"</span>";return 0==k.length?j="":1==k.length?j+=l+k[0]+m+"\n":(j+=l+"\n",k.forEach(function(a){j+=i+"  "+a+"\n"}),j+=i+m+"\n"),j}var n=!1;"RefDiv"==d?(n=!0,j+="<div $="+JSON.stringify(e.$||"")):"RefSpan"==d?(n=!0,j+="<span $="+JSON.stringify(e.$||"")):j+=3==f?"<span :t="+d:"<div :t="+d;var o=e.key,p=e["html."];o&&(j+=" key='"+o+"'");for(var q in e)if("key"!=q&&"html."!=q&&"$"!=q){var r=e[q];void 0!==r&&(j+=" "+q.replace(xa,"-$1").toLowerCase()+"=",j+="string"!=typeof r||r&&"{"==r[0]&&"}"==r.slice(-1)?"'{"+JSON.stringify(r).replace(/'/g,"\\'")+"}'":JSON.stringify(r))}if(h){j+=">\n";for(var t,s=1;t=a[s];s+=1)j+=ya(t,b+1);j+=i}else j+=">",p&&(j+=D(p));return j+=3==f?"</span>\n":"</div>\n"}function za(a,b){var c=a.component;if(!c)return null;for(var d in c.$gui.compIdx){var e=a[d],f=e&&e.component;if(f)if(f.props["isNavigator."]){var g=f.$gui.navItems,h=g&&g[b];if(h&&h.props["isPlayground."])return e}else if(!f.props["childInline."]&&(e=za(e,b)))return e}return null}function Aa(a,b){if(!b)return[];var c=M(a),d=c&&b[c];if(d){var e=[];return(d=d.component)?(d.$gui.comps.forEach(function(a){a&&e.push(a)}),e):e}return k.Children.toArray(a.props.children)}function Ba(a){var b=a,c=b.indexOf("./"),d=b[0],e=0,f=!1;if(0==c)e=1,b=b.slice(2);else if(1==c&&"."==d)for(e=2,b=b.slice(3);0==(c=b.indexOf("../"));)e+=1,b=b.slice(3);else"."==d?(e=-1,b=b.slice(1)):"/"==d?"/"==b[1]&&b.length>=2?(b=b.slice(2),e=-1,f=!0):(e=-1,b=b.slice(1)):f=!0;return b.indexOf("/")>=0?(o.instantShow("error: invalid reference path ("+a+")."),null):[b,e,f]}function Ca(a,b){function k(a){return a=a&&a.component,a?a:(console.log("warning: can not find widget ("+b+")."),null)}var c=Ba(b);if(!c)return null;var d=c[0],e=c[1],f=c[2];if(f){var g=a.widget,h=g;if(e<0&&(h=g&&g.parent),h)return k(d?h.W(d):h)}else if(e==-1){if(d)return k(m.W(d))}else{for(var g=a.widget;g&&e>0;){var i=g&&g.component;if(i&&i.props["isNavigator."]&&(e-=1,0==e))break;var j=g.parent;if(!j){e-=1,g=m;break}g=j}if(g&&0==e)return k(d?g.W(d):g)}return k(null)}function Da(a){this.comps={},this.element=a,this.pathSeg=""}function Ea(a,b,c){function j(a,b,c){var d=Ba(b);if(!d)return l(null,b);var e=d[0],f=d[1],g=d[2],h=a instanceof Da;if(g){if(h)return l(null,b);var i=a.widget;if(f<0&&(i=i&&i.parent,i&&!e)){var j=i.component,k=i.parent,o=k&&k.component;if(j&&o){var p=o.$gui.compIdx[j.$gui.keyid];if("number"==typeof p)return l(o.$gui.comps[p],b)}return l(null,b)}if(i)return void n(i,e,b,!1)}else{if(f==-1)return void n(null,e,b,!1);var i=a;if(h){i=a.element;var q=i.props["hookTo."],r=!1;for(q||(q=i.widget,q=q&&q.parent);i&&f>0&&q;){if(!(q instanceof Da)){if(Array.isArray(q)){if(c)return l(null,b);i=q.component,r=!0;break}return l(null,b)}if(c){var d=q.comps[c];if(!d)return l(null,b);var s=d[0];if(4==s)c=d[2],c||(i=q.element,c=q.pathSeg,q=i.props["hookTo."],q||(q=i.widget,q=q&&q.parent));else{if(3!=s)return l(null,b);if(f-=1,0==f)return void n(q,e,b,!0,c);c=d[2]}}else i=q.element,c=q.pathSeg,q=i.props["hookTo."],q||(q=i.widget,q=q&&q.parent)}if(!i||!q||!r)return l(null,b)}for(i=i.widget;i&&f>0;){var t=i&&i.component;if(t&&t.props["isNavigator."]&&(f-=1,0==f))break;var u=i.parent;if(!u){f-=1,i=m;break}i=u}if(i&&0==f)return void n(i,e,b,!1)}l(null,b)}function l(g,h){if(!g)return o.instantShow("error: can not find reference ("+h+")."),void c();d?g.props["childInline."]||o.instantShow("warning: reference target ("+h+") should be inline widget."):I(g.props.className,["rewgt-panel","rewgt-unit"])||o.instantShow("warning: reference target ("+h+") should be: panel, div, paragraph.");var i=a.$gui,j=b.slice(1),l=null,n=i.compIdx[b];if("number"==typeof n){l=i.comps[n];var p=i.compIdx[j];"number"!=typeof p?l&&(i.compIdx[j]=n,delete i.compIdx[b],i.removeNum+=1):(n=p,i.removeNum+=1)}if(!l)return o.instantShow("error: invalid linker ("+b+")."),void c();e.unshift(l.props);var q={},r={},s=0;g.props.style&&(Object.assign(r,g.props.style),s+=1);for(var t=e.pop();t;){var u=N(t);u.style&&(Object.assign(r,u.style),s+=1),Object.assign(q,u),t=e.pop()}s&&(q.style=r),q["hookTo."]=a.widget,d?q["data-span.path"]=f:q["data-unit.path"]=f;var v=l.props.styles;if(v&&(q.styles=v),m.__design__){var w={};q["link.props"]=Object.assign(w,N(l.props)),v&&(w.styles=v)}var x=parseInt(j),y=x+""===j?x:j;q.key=j,q["keyid."]=y,i.comps[n]=k.cloneElement(g,q),a.reRender(c)}function n(a,b,c,f,g){var h;if(a){if(!b){if(f)return l(a.element,c);var i=a.parent,k=a.component;if(i=i&&i.component,i&&k){var n=i.$gui.compIdx[k.$gui.keyid];if("number"==typeof n)return l(k.fullClone(),c)}return l(null,c)}h=b.split(".")}else{if(!b||f)return l(null,c);if(h=b.split("."),h.length<=1)return l(null,c);if(a=m[h.shift()],!a)return l(null,c)}for(;a&&h.length;){var p=h.shift();if(!p)return l(null,c);var q=null,r=null,s="";if(f){if(m.__design__)return l(null,c);r=a,g?(s=g,h.unshift(p)):s=p}else{if(q=a.component,!q&&(a===m&&(a=m[p],a&&(q=a.component),p=h.shift()),!q||!p))return l(null,c);if((!m.__design__||q.isLibGui)&&q.props["isTemplate."]){if(r=q.$gui.template,!r)return l(null,c);s=p,q=null}}if(r){for(var t=r.comps[s];t;){var u=t[0],v=t[1];if(2==u){if(0!=h.length)break;var w=v.props,x=2==w["isReference."],y=w.$;if(w["hookTo."]===r&&"string"==typeof y){if(y=y.trim(),!y)return l(null,y);d!=x&&o.instantShow("warning: reference type ("+c+") mismatch.");var z=y[0];if("/"!=z&&"."!=z){if(y.indexOf("/")>=0)return l(null,y);h=s.split("."),h.pop(),s=h.join("."),h=y.split("."),s&&(s+="."),s+=h.shift(),t=r.comps[s],e.push(w);continue}return e.push(w),void j(r,y,t[2])}break}if(4==u&&(r=v,v=r.element),0==h.length)return l(v,c);4==u?s=h.shift():s+="."+h.shift(),t=r.comps[s]}return l(null,c)}if(0==h.length){var n=q.$gui.compIdx[p];if("number"==typeof n){var A=a[p];return A=A&&A.component,A?l(A.fullClone(),c):l(null,c)}if(n=q.$gui.compIdx["$"+p],"number"==typeof n){var v=q.$gui.comps[n];if(v&&v.props["isReference."]){var w=v.props,x=2==w["isReference."],y=w.$;if("string"==typeof y)return(y=y.trim())?(d!=x&&o.instantShow("warning: reference type ("+c+") mismatch."),e.push(w),void j(q,y,"")):l(null,y)}}return l(null,c)}a=a[p]}l(null,c)}var g,d=!1,e=[],f="",h=a.$gui.compIdx[b];if(a.widget&&"number"==typeof h&&"$"==b[0]&&(g=a.$gui.comps[h])&&g.props["isReference."]){var i=g.props;2==i["isReference."]&&(d=!0),f=i.$,"string"!=typeof f||0==(f=f.trim()).length?(""!==f&&console.log("warning: load reference ("+b+") failed: invalid path"),c()):f?j(a,f,""):l(null,f)}else console.log("warning: load reference ("+b+") failed."),c()}function Fa(a){function j(a){a.target.style.backgroundColor="rgba(0,0,0,0.08)"}function k(a){a.target.style.backgroundColor=""}var b=this.pageIndex=0,c=this.keys=[],d=this.namedPage={};a.forEach(function(a,e){c.push(a[0]+"");var f=a[1],g=Object.assign({},f.state.style);g.display=e==b?"block":"none",f.setState({style:g});var h=f.props.name;h&&"string"==typeof h&&(d[h]=e)});var e=window.innerWidth,f=Math.max(Math.floor(e/20),20),g=document.createElement("div");g.setAttribute("style","position:absolute; left:0px; top:0px; width:"+f+"px; height:100%; z-index:3000;"),document.body.appendChild(g);var h=document.createElement("div");h.setAttribute("style","position:absolute; right:0px; top:0px; width:"+f+"px; height:100%; z-index:3000;"),document.body.appendChild(h),this.leftPanel=g,this.rightPanel=h;var i=this;g.addEventListener("click",function(a){i.prevPage()},!1),h.addEventListener("click",function(a){i.nextPage()},!1),g.addEventListener("mouseover",j,!1),g.addEventListener("mouseout",k,!1),h.addEventListener("mouseover",j,!1),h.addEventListener("mouseout",k,!1)}function Ga(){var a=[],b=t&&t.component;return b&&(b.$gui.comps||[]).forEach(function(b){if(b){var c=M(b),d=c&&t[c];d=d&&d.component,d&&d.props["isScenePage."]&&a.push([c,d])}}),a}function Ja(a,b,c,d){if("number"!=typeof d)return null;var e,f,g=d,h=a.$gui;if(a.state?(e=a.state.sizes,f=parseFloat(a.state.cellSpacing)||0):(e=a.props.sizes,f=parseFloat(a.props.cellSpacing)||0),Array.isArray(e)){for(var i=e.length,j=0;j<i;j++){var k=e[j];if("number"!=typeof k)return null;k>=0&&(g-=k>=1?k:k>=.9999?d:k*d)}return g-=f*(i+1),g<0?null:g}for(var l=h.comps,i=l.length,j=0;j<i;j++){var m=l[j];if(m&&!m.props["isReference."]){var k,n=M(m),o=n&&b[n];if(o=o&&o.component,k=o&&o.state?c?o.state.width:o.state.height:c?m.props.width:m.props.height,"number"!=typeof k)return null;k>=0&&(g-=k>=1?k:k>=.9999?d:k*d)}}return g-=f*(1+i),g<=0?null:g}function Ka(a){a.popDesigner=qa,a.saveDesigner=ra,a.dumpTree=na,a.loadTree=wa,a.streamTree=ya,a.listScenePage=Ga,a.keyOfNode=function(a){return E(a)},a.splitterMouseDn=function(){return y}}function La(a){var b=l.findDOMNode(a);if(b)for(var d,c=0;d=b.children[c];c++)if(d.classList.contains("rewgt-static")&&!(d.children.length>0)){var e=d.getAttribute("name"),f=null,g=!1;if(e){var h=parseInt(e);if("number"==typeof h)if(h>=1048576){g=!0;var i=a.$gui.statics;f=i&&i[e]}else f=m.$staticNodes[h]}if(Array.isArray(f))for(var k,j=0;k=f[j];j++)d.appendChild(g?k:k.cloneNode(!0))}}function Ma(a,b,c){function d(){c&&c()}var e=a.widget;if(!e)return d();var f=!1,g=a.$gui,h=a.cssWidth,i=a.cssHeight,j=g.useSparedX;if(j){var k=Ja(a,e,!0,h);g.sparedX!==k?(g.sparedX=k,"number"==typeof k&&(f=!0)):b&&(f=!0)}else if(g.useSparedY){var l=Ja(a,e,!1,i);g.sparedY!==l?(g.sparedY=l,"number"==typeof l&&(f=!0)):b&&(f=!0)}if(!f)return d();if("number"!=typeof h&&"number"!=typeof i)return d();var m=[];g.comps.forEach(function(a){if(a){var b=M(a);if(b){var c=e[b];if(c=c&&c.component){var d=j?c.state.width:c.state.height;"number"==typeof d&&d<0&&m.push(c)}}}}),m.length&&setTimeout(function(){var a=o.dragInfo.inDragging;m.forEach(function(b){b.willResizing&&!b.willResizing(h,i,a)||b.setState({parentWidth:h,parentHeight:i,id__:G()})})},0),d()}function Na(a){return function(b,c){"object"==("undefined"==typeof b?"undefined":f(b))&&(Array.isArray(b)||(b=[["",b]]),a.state.trigger=b,b.forEach(function(b){if(Array.isArray(b)){var c=b[0],d=b[1];if("string"!=typeof c||!d)return;var e=c?Ca(a,c):a;if(!e)return void console.log("warning: can not find trigger target ("+c+")");if(!e.duals.hasOwnProperty("data"))return;setTimeout(function(){e.duals.data=p.update(e.duals.data,d)},0)}}))}}function ed(a,b){if(ia(a),a.hideThis)return null;var c=a.widget;c=c&&c.parent;var d=!1,e=void 0,f=c&&c.component;f&&f.props["isNavigator."]&&(e=f.state.checkedId,d=!0);var g=a.prepareState(),h=Object.assign({},a.state.style);d&&(!e&&0!==e||e!=a.$gui.keyid)?h.display="none":h.display="block",g.length||2!=b||(g=a.state["html."]||null);var i=P(a,h);return k.createElement("div",i,g)}function hd(a,b,c){function i(b){function c(b){return function(c){var d=c||0,e="undefined"==typeof d?"undefined":f(d);if("number"==e){if(d<0)return console.log("error: no callspace stack for "+b+"("+d+")"),null;d=0}else"string"!=e&&(d=0);if(0===d)return a[b];var g=Ca(a,d);return g?g[b]:null}}b.ex=r.createEx(a),b.Math=Math,b.props=c("props"),b.state=c("state"),b.duals=c("duals"),b.typeof=function(a){return"undefined"==typeof a?"undefined":f(a)}}if("string"==typeof b){var d=Y(b,a,"trigger");if(d){61==d[0]&&(d=d[1][2]),ca(d,[]);var e=a.$gui,g=e.triggerInfo;if(g)g[1]=d;else{var h={};e.triggerInfo=[h,d],i(h)}}}}function id(a){function k(b,c){if("string"==typeof b&&c){var d=b?Ca(a,b):a;return d?void(d.duals.hasOwnProperty("data")&&setTimeout(function(){d.duals.data=p.update(d.duals.data,c)},0)):void console.log("warning: can not find target ("+b+")")}}function l(b,c){var d=void 0;c&&"object"==("undefined"==typeof c?"undefined":f(c))&&(d=c),setTimeout(function(){var c=b?Ca(a,b):a;return c?c===a?void console.log("warning: trigger can not fire widget itself."):void(c.props["isOption."]&&c.setChecked&&c.setChecked(null,!1,d)):void console.log("warning: can not find target ("+b+")")},0)}var b=a.$gui.triggerInfo;if(b){var c=b[0],d=b[1];c.$info=[a,"trigger",p.time()];var e=X(d,c),g="undefined"==typeof e?"undefined":f(e);if("string"==g)e=[e];else{if("object"!=g)return;Array.isArray(e)||(e=[["",e]])}for(var h=e.shift();;){if(Array.isArray(h))k(h[0]||"",h[1]);else{if("string"!=typeof h)break;var i,j=null;e.length>0&&"object"==f(i=e[0])&&!Array.isArray(i)&&(j=e.shift()),l(h,j)}h=e.shift()}}}function jd(a){var b=a.widget,c=null,d=!1;for(b=b&&b.parent;b&&(c=b.component);){if(c.props["isNavigator."]){c.setChecked&&(d=!0);break}b=b.parent}return d?c:null}function rd(a,b){var c="[string]: 0 or 1";return a["data-checked"]=[b+1,"string",null,c],a.isolated=[b+2,"string",null,c],a.recheckable=[b+3,"string",null,c],a.trigger=[b+4,"string",null,"[string]: [sPath,{pop_option},sPath,[dual_data], ...]"],a.popOption=[b+5,"object",null,"[object]: {path:bodyElePath}"],a}function sd(a){a.defineDual("isolated",function(a,b){this.state.isolated="false"!==a&&"0"!==a&&!!a},!1),a.defineDual("recheckable",function(a,b){this.state.recheckable="false"!==a&&"0"!==a&&!!a},!1),a.defineDual("popOption"),a.defineDual("data-checked",function(a,b){this.state["data-checked"]="false"!==a&&"0"!==a&&a?"1":""},""),a.undefineDual("trigger"),a.defineDual("trigger",function(a,b){this.state.trigger=a,hd(this,a,b)})}function td(a){var b=l.findDOMNode(a);b&&(b._syncChecked=function(b){var c=a.state["data-checked"]?"1":"",d=b?"1":"";c!=d&&(a.duals["data-checked"]=d)}),a.state["data-checked"]&&setTimeout(function(){var b=jd(a);b&&!b.$gui.inFiring&&a.setChecked(null)},0)}function ud(a,b,c,d){function j(){var b=a.state.name;if(b){if(f||(f=a.findNavOwner()),!f)return;var c=l.findDOMNode(f);if(!c)return;var d=l.findDOMNode(a),e=a.props["tagName."]||"div",g=[];try{g=c.querySelectorAll(e+'[name="'+b+'"]')}catch(a){}for(var i,h=0;i=g[h];h++)i!==d&&i._syncChecked&&i._syncChecked(!1)}}function m(){k&&(j(),a.fireTrigger()),b&&b()}var e=a.state.recheckable,f=null,g=a.state.popOption;if(g&&d&&(g=a.state.popOption=Object.assign({},g,d)),g&&"string"==typeof g.path){if(!g.opened&&!a.state.isolated){var h=g.path;h||(h="./"+a.$gui.keyid);var i=a.componentOf(h);if(i=i&&i.fullClone())return void o.popWin.showWindow(i,g,function(){j(),a.duals["data-checked"]="1",a.fireTrigger(),b&&b()},a);o.instantShow("warning: can not locate popup window ("+h+")")}return void(b&&b())}e&&(a.state.recheckable=!1,setTimeout(function(){a.state.recheckable=!0},300));var k=!1;if(a.state.isolated)return(c||e)&&(k=!0),a.state["data-checked"]||(k=!0,a.duals["data-checked"]="1"),void m();var n=a.$gui.keyid;return f=a.findNavOwner(),!f||f.getChecked()==n&&!c&&!e||f.canNavigateTo&&!f.canNavigateTo(n)?void m():((c||e)&&(k=!0),a.state["data-checked"]||(k=!0,a.duals["data-checked"]="1"),void f.setChecked(n,m))}function xd(a,b){function i(a,b,c,d){var e=c[0],f=c[1],g=4==e?f.element.props.children:f.props.children;if(g){var h=d;3==e?h=b:4==e&&(a=f,h=b,b=""),k.Children.forEach(g,function(c,d){var e=c.props["keyid."];if(!e&&0!==e){var f=M(c);if(f){var g=parseInt(f);e=g+""===f?g:f}else e=d}var j=e+"",l=1,m=k.cloneElement(c,{"keyid.":e,key:j,"hookTo.":a}),n=b?b+"."+j:j;c.props["isTemplate."]?(l=4,m=new Da(m),m.pathSeg=n):c.props["isNavigator."]?l=3:c.props["isReference."]&&(l=2);var o=[l,m,h];a.comps[n]=o,2!=l&&i(a,n,o,h)})}}var c=M(b);if(!c)return!1;var f,d=parseInt(c),e=d+""===c?d:c,g=1;if(b.props["isReference."]){if(g=2,"$"==c[0]){c=c.slice(1);var d=parseInt(c);d+""==c&&(e=d)}f=k.cloneElement(b,{"hookTo.":a,"keyid.":e,key:c})}else f=k.cloneElement(b,{"hookTo.":a,"keyid.":e,key:c}),b.props["isTemplate."]?(g=4,f=new Da(f),f.pathSeg=c):b.props["isNavigator."]&&(g=3);var h=[g,f,""];return a.comps[c]=h,2!=g&&i(a,c,h,""),!0}function yd(a){var b=a.widget,c=null;if(b=b&&b.parent){var d=b.component;if(d){var e=d.$gui.compIdx[a.$gui.keyid];if("number"==typeof e){var f=d.$gui.comps[e];f&&(c=new Da(f))}}}if(!c)return!1;a.$gui.template=c;for(var g=a.$gui.comps,h=g.length,i=0;i<h;i++){var j=g[i];j&&xd(c,j)}return!0}function zd(a){var b="";if(a.forExpr?(b="for",a.forExpr=0):a.flowFlag&&(b=a.flowFlag,a.flowFlag=""),b){console.log("error: can not use '$"+b+"' in template widget");var c=a.exprAttrs.indexOf(b);c>=0&&a.exprAttrs.splice(c,1)}}function Ad(a,b){if(!b)return null;var c=b[0];if("."!=c&&"/"!=c){var d=a.$gui.template;if(!d)return null;for(var e=b.split("."),f=e.shift(),g=d.comps[f];g;){var h=g[0],i=g[1];if(2==h)return 0==e.length?i:null;if(4==h){if(0==e.length)return null;d=i,i=d.element,f=e.shift(),g=d.comps[f]}else{if(0==e.length)return i;f+="."+e.shift(),g=d.comps[f]}}}else{var j=b.lastIndexOf("./");if(j>=0){var k=a.componentOf(b.slice(0,j+2));return k?k.elementOf(b.slice(j+2)):null}if("."==c){if(j=b.indexOf(".",1),j>1){var l=m.W(b.slice(0,j)),k=l&&l.component;if(k)return k.elementOf(b.slice(j+1))}}else if("/"==c&&"/"==b[1]){var n=a.parentOf();return n?n.elementOf(b.slice(2)):null}}return null}function Md(a,b,c){function i(b){d.removeNum+=d.comps.length,d.compIdx={},d.comps=[],d.statics={};for(var f,e=0;f=b.children[e];e++)if("DIV"==f.nodeName&&f.classList.contains("rewgt-mdref")){g.length&&(j(d,g),g=[]);var h=f.getAttribute("path");if(h){for(var o,i=d.comps.length,l="$"+(i+d.removeNum),m={"hookTo.":a.widget,$:h,"keyid.":l,key:l,style:{display:"block"}},n=0;o=f.attributes[n];n++){var p=o.name;p.startsWith("data-")&&(m[p]=o.value)}var q=k.createElement(Fd,m);d.compIdx[l]=i,d.comps.push(q),u&&x.push([a,l])}}else g.push(f);g.length&&j(d,g),c&&c(!0)}function j(a,b){var c=1048576+a.comps.length+"",d=a.comps.length,e=d+a.removeNum,f=e+"",g={className:"rewgt-static",name:c,"keyid.":e,key:f};a.compIdx[f]=d,a.comps.push(k.createElement("div",g)),a.statics[c]=b}var d=a.$gui;try{var e=o.marked(b),f=document.createElement("div"),g=[];f.innerHTML=e;var h=[];d.comps.forEach(function(a){if(a&&a.props["hookTo."]){var b=M(a);b&&h.push("-"+b)}}),h.length?a.setChild(h,function(){i(f)}):i(f)}catch(a){console.log(a),c&&c(!1)}}var d=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k=window.React||a("react"),l=window.ReactDOM||a("react-dom"),m=a("./react_widget"),n=m.$templates,o=m.$utils,p=m.$ex,q=m.$idSetter,r=m.$creator;o.version=function(){return"0.0.2"},o.dragInfo={inDragging:!1,justResized:!1};var s=null,t=null,u=!0,v=!1,w=!1,x=[],y=!1,z="",A=null,B={$:!0,styles:!0,"tagName.":!0,"isReference.":!0,"hookTo.":!0,width:!0,height:!0,className:!0,"childInline.":!0},C=["for","if","elif","else"];o.keyOfNode=function(a){return E(a)};var F=4;o.identicalId=G,o.classNameOf=H,o.hasClass=function(a,b){return I(H(a),b)},o.addClass=function(a,b){for(var c=a.state.klass||"",d=" "+(a.$gui.className||"")+" "+c+" ",e="",f=Array.isArray(b)?b:String(b).split(/ +/),g=f.length,h=0;h<g;h++){var i=f[h];i&&d.indexOf(" "+i+" ")<0&&(e+=" "+i)}return!!e&&(c?a.duals.klass+=e:a.duals.klass=e.slice(1),!0)},o.removeClass=function(a,b,c){for(var d=a.state.klass||"",e=" "+(a.$gui.className||""),f=e.length,g=e+" "+d+" ",h=Array.isArray(b)?b:String(b).split(/ +/),i=h.length-1;i>=0;i--){var j,k=h[i];if(k&&(j=g.indexOf(" "+k+" "))>=0){if(j<f)throw new Error("can not remove readonly class name: "+k);g=g.slice(0,j)+g.slice(j+k.length+1)}}if(Array.isArray(c))for(var l=c.length,m=0;m<l;m++){var k=c[m];k&&g.indexOf(" "+k+" ")<0&&(g+=k+" ")}var n=g.slice(f).trim();return d!==n&&(a.duals.klass=n,!0)};var L=["S1","S2","S3","S4","S5","S6"];o.mergeClass=function(a,b){for(var c=Array.isArray(b)?b:String(b).split(/ +/),d=[],e=[],f=c.length-1;f>=0;f--){var g=c[f];if(g){var h=g.split("-"),i=h.length;if(i>1)for(var j=1;j<i;j++){var k=h.shift();h.push(k),d.push(h.join("-"))}else{var l;"S"==g[0]&&(l=L.indexOf(g))>=0&&L.forEach(function(a,b){b!=l&&d.push(a)})}e.push(g)}}return o.removeClass(a,d,e)},r.getElementKey=M,o.getWdgtType=O,o.eachElement=function(a,b){b&&a.$gui.comps.forEach(function(a,c){a&&b(a,c)})},o.setElement=function(a,b,c){a.$gui.comps[b]=c},o.eachComponent=function(a,b){if(b){var c=a.widget;c&&a.$gui.comps.forEach(function(a,d){if(a){var e=M(a),f=e&&c[e],g=f&&f.component;g&&b(g,d)}})}},o.setupRenderProp=P,o.setChildren=function(a,b,c){if(Array.isArray(b)){var d=a.$gui,e=0,f=0;b.forEach(function(a,c){if(a){var g,h=M(a);if(!h)return void(f+=1);if("number"==typeof d.compIdx[h])return void(e+=1);var i=parseInt(h);g=i+""==h?i:h,b[c]=k.cloneElement(a,{"keyid.":g,key:h})}}),d.removeNum+=Math.max(0,d.comps.length-e)+f,d.comps=b,d.inSync?c&&setTimeout(function(){c()},0):d.compState>=2?a.setState({id__:G()},c):setTimeout(function(){a.setState({id__:G()},c)},0)}},o.getWTC=function(a){function s(a,b,c){var d=Object.keys(c);d.forEach(function(d){var e=c[d];if(e&&e._extend){var f=b?b+"."+d:d,g=m.$cachedClass[f];null!==g&&(g||(g=m.$cachedClass[f]=k.createClass(e._extend())),a[d]=g)}})}var b={},c="undefined"==typeof a?"undefined":f(a);if("string"==c){a||(a="*");var d=a.split("."),e=!1;"*"==d[d.length-1]&&(e=!0,d.pop());var g=d.join("."),h=n,i=d.shift(),j="";if(i)for(h=h[j=i];h&&(i=d.shift());)h=h[j=i];if(h)if(e)h._extend?j&&(b[j]=k.createClass(h._extend())):s(b,g,h);else if(h._extend){var l=m.$cachedClass[a];null!==l&&j&&(l||(l=m.$cachedClass[a]=k.createClass(h._extend())),b[j]=l)}}else if(Array.isArray(a))for(var p=a.length,q=0;q<p;q+=1){var r=a[q];r&&"string"==typeof r&&Object.assign(b,o.getWTC(r))}return b},p.regist("time",function(a){var b;return b=a?new Date(a):new Date,b.valueOf()}),p.regist("isFalse",function(a){return!a}),p.regist("isTrue",function(a){return!!a}),p.regist("parseInt",function(a){return parseInt(a)}),p.regist("parseFloat",function(a){return parseFloat(a)}),p.regist("escape",function(a){return escape(a)}),p.regist("unescape",function(a){return unescape(a)}),p.regist("evalInfo",function(){var a=void 0,b=this.component;if(!b)return a;var c=b.widget,d=c&&c.$callspace,e=b.$gui.triggerInfo;if(d){if(a=d.exprSpace.$info,Array.isArray(e)){var f=e[0].$info;a?f&&f[2]>=a[2]&&(a=f):a=f}if(d.forSpace){var g=d.forSpace.exprSpace.$info;a?g&&g[2]>=a[2]&&(a=g):a=g}}else Array.isArray(e)&&(a=e[0].$info);return a}),p.regist("tagValue",function(a){if("object"!=("undefined"==typeof a?"undefined":f(a)))return a;var b,c=Object.assign({},a),d=c.$set;if(d){if("object"!=("undefined"==typeof d?"undefined":f(d)))return a;d=c.$set=Object.assign({},d)}else{if(d=c.$merge,!d)return b=p.time(),Object.keys(c).forEach(function(a){if("$"!=a[0]){var d=c[a];if("object"==("undefined"==typeof d?"undefined":f(d))){d=c[a]=Object.assign({},d);var e=d.$set;if(e){if("object"!=("undefined"==typeof e?"undefined":f(e)))return;e=d.$set=Object.assign({},e),e.time=b}else if(e=d.$merge){if("object"!=("undefined"==typeof e?"undefined":f(e)))return;e=d.$merge=Object.assign({},e),e.time=b}else d.hasOwnProperty("value")&&(d.time={$set:b})}}}),c;if("object"!=("undefined"==typeof d?"undefined":f(d)))return a;d=c.$merge=Object.assign({},d)}return b=p.time(),Object.keys(d).forEach(function(a){if("$"!=a[0]){var c=d[a];"object"==("undefined"==typeof c?"undefined":f(c))&&(c.time=b)}}),c}),p.regist("tagFired",function(){var a=arguments.length;if(a<2)return"";var b,c=arguments[0];for(b=1;b<a;b++){var d=c[arguments[b]];if(!d||!d.time)return""}for(b=1;b<a;b++)c[arguments[b]].time=0;return"true"}),p.regist("setChecked",function(a,b){var c=this.evalInfo(),d=c&&c[0];if(d){var e=Ca(d,a);e&&e.props["isOption."]&&e.setChecked(null,!1,b)}}),p.regist("setVar",function(a,b){if(!a||"string"!=typeof a)return b;var c=this.component,d=c.widget,e=null;if(d){var f=d.$callspace;if(f)e=f.exprSpace;else{var g=c.$gui.triggerInfo;Array.isArray(g)&&(e=g[0])}}return e?e[a]=b:console.log("warning: invalid callspace for ex.setVar("+a+")"),b}),p.regist("log",function(){var a=this.evalInfo(),b="";if(a)try{var c=a[0],d=c&&c.widget;d&&(b=d.getPath()+":"+a[1])}catch(a){}var e,f=arguments.length;if(e=b?"ex("+b+")>":"ex>",f<=0)return void(b&&console.log(e));for(var g=0;g<f;g++)e+=" "+arguments[g];console.log(e)}),p.regist("order",function(a){function j(a,b){for(var c,d=a,e=0;(c=b[e++])&&d;)d=d[c];return d}if(!Array.isArray(a))return a;var b,c=null,d=arguments.length,e=!0;d>=2&&(b=arguments[d-1],"number"==typeof b?(b<0&&(e=!1),d-=1):2==d&&Array.isArray(b)&&(c=b,d=c.length,d>=1&&"number"==typeof(b=c[d-1])&&(b<0&&(e=!1),d-=1)));var f=[];if(c)for(var g=0;g<d;g++)b=c[g],b&&"string"==typeof b&&f.push(b.split("."));else for(var g=1;g<d;g++)b=arguments[g],b&&"string"==typeof b&&f.push(b.split("."));var h=f.length,i=a.slice(0);return h?i.sort(function(a,b){for(var d,c=0;d=f[c];c++){var g=j(a,d),h=j(b,d);if(g!==h)return g>h?e?1:-1:e?-1:1}return 0}):i.sort(function(a,b){return e?a===b?0:a>b?1:-1:a===b?0:a>b?-1:1})}),p.regist("jsonp",function(a,b){var c=this.evalInfo(),d=null,e="";return c&&(d=c[0],e=c[1],b&&d&&d.duals.hasOwnProperty(e)&&void 0===d.state[e]&&(d.duals[e]=b)),a=Object.assign({},a),a.callback=function(a){d&&e&&d.duals.hasOwnProperty(e)&&(d.duals[e]=a)},o.jsonp(a),d&&e?d.state[e]:void 0}),p.regist("ajax",function(a,b){var c=this.evalInfo(),d=null,e="";return c&&(d=c[0],e=c[1],b&&d&&e&&d.duals.hasOwnProperty(e)&&void 0===d.state[e]&&(d.duals[e]=b)),a.success=function(a){d&&e&&d.duals.hasOwnProperty(e)&&(d.duals[e]={status:"success",data:a})},a.error=function(a,b){d&&e&&d.duals.hasOwnProperty(e)&&(d.duals[e]={status:b||"error",data:null})},o.ajax(a),d?d.state[e]:void 0}),R.defunct=function(a){throw new Error("Unexpected character ("+a+") at offset ("+(this.index-1)+")")};var S=new R,T=[];S.addRule(/\s+/,function(a){return U(a,1,-1)}).addRule(/[0-9]+(?:\.[0-9]+)?\b/,function(a){return U(a,2,-1)}).addRule(/[_$A-Za-z](?:[_$A-Za-z0-9]+)?/,function(a){return U(a,3,-1)}).addRule(/(?:"((?:\\.|[^"])*)"|'((?:\\.|[^'])*)')/,function(a){return U(a,4,-1)}).addRule(/[?]/,function(a){return U(a,5,4)}).addRule(/[:]/,function(a){return U(a,6,-1)}).addRule(/[,]/,function(a){return U(a,7,-1)}).addRule(/[{]/,function(a){return U(a,8,-1)}).addRule(/[}]/,function(a){return U(a,9,-1)}).addRule(/[\[]/,function(a){return U(a,10,-1)}).addRule(/[\]]/,function(a){return U(a,11,-1)}).addRule(/[(]/,function(a){return U(a,12,-1)}).addRule(/[)]/,function(a){return U(a,13,-1)}).addRule(/[.]/,function(a){return U(a,14,18)}).addRule(/[*]/,function(a){return U(a,14,14)}).addRule(/[\/]/,function(a){return U(a,14,14)}).addRule(/[%]/,function(a){return U(a,14,14)}).addRule(/[+]/,function(a){return U(a,14,13)}).addRule(/[-]/,function(a){return U(a,14,13)}).addRule(/[>]{3}/,function(a){return U(a,14,12)}).addRule(/[>]{2}/,function(a){return U(a,14,12)}).addRule(/[<]{2}/,function(a){return U(a,14,12)}).addRule(/[<][=]/,function(a){return U(a,14,11)}).addRule(/[<]/,function(a){return U(a,14,11)}).addRule(/[>][=]/,function(a){return U(a,14,11)}).addRule(/[>]/,function(a){return U(a,14,11)}).addRule(/[=]{3}/,function(a){return U(a,14,10)}).addRule(/[!][=]{2}/,function(a){return U(a,14,10)}).addRule(/[=]{2}/,function(a){return U(a,14,10)}).addRule(/[!][=]/,function(a){return U(a,14,10)}).addRule(/[&]{2}/,function(a){return U(a,14,6)}).addRule(/[&]/,function(a){return U(a,14,9)}).addRule(/[\^]/,function(a){return U(a,14,8)}).addRule(/[|]{2}/,function(a){return U(a,14,5)}).addRule(/[|]/,function(a){return U(a,14,7)}).addRule(/$/,function(a){return U(a,20,-1)});var V=[2,3,4,9,11,13,31,32,33,34,35,36,37,38,39,40,41,42,43],_=1,ba=["props","state","duals","item","count","index"],ea=0;o.syncProps=ia,o.popWin={showWindow:function(b,c,d,e){if(m.__design__&&(u||v))return void(d&&d());var f=t&&t.$pop,g=f&&f.component;if(g&&b){if(!I(b.props.className,["rewgt-panel","rewgt-unit"]))return void o.instantShow("error: only panel, div, paragraph can use as popup window.");var h=c.frameElement||null;!h&&e&&(h=ja(e,c));var i=void 0;e&&e.props["isOption."]&&e.state.hasOwnProperty("data-checked")&&(i=e.state["data-checked"]),g.setChild(k.createElement(Ld,{popOption:c,popFrame:h},b),function(){m.__design__&&(s&&s.setDesignModal&&s.setDesignModal(!0),void 0!==i&&e&&setTimeout(function(){e.state["data-checked"]=i;
},300)),d&&d()})}},listWindow:function(){var b=t&&t.$pop,c=b&&b.component;if(!c)return[];var d=[],e=c.$gui.comps;return e.forEach(function(a){if(a){var b=M(a);if(b){var c=parseInt(b);c+""===b&&(b=c),d.push([b,a.props.popOption])}}}),d},closeAll:function(b){function c(){b&&b()}var d=t&&t.$pop,e=d&&d.component;if(!e)return c();var f=[],g=e.$gui.comps;g.length-1;return e.$gui.comps.forEach(function(a){if(a){var b=M(a);b&&f.unshift("-"+b)}}),f.length?(f.push(c),void e.setChild.apply(e,f)):c()},popWindow:function(b){var c=t&&t.$pop,d=c&&c.component;if(d){for(var e=null,f=d.$gui.comps,g=f.length-1;g>=0;){var h=f[g],i=h&&M(h);if(i&&(h=c[i],h&&(e=h.component)))break;g-=1}if(e){var k=(e.props.optPath||"",e.$gui.keyid),l=e.state.popOption;if(0==arguments.length){var m=l&&l.beforeClose;"function"==typeof m&&(b=m())}var n=l&&l.callback;d.setChild("-"+k,function(){"function"==typeof n&&n(b)})}}}},r.getCompRenewProp=ka,r.deepCloneReactEle=la;var oa=null,pa=0;r.staticMouseDown=sa,r.staticDbClick=ta,o.loadElement=function(){var a=[],b=arguments.length;if(1==b)return ua(a,arguments[0],m.$staticNodes,m.$cachedClass),1==a.length?a[0]:null;if(0==b)return null;for(var c=0;c<b;c++)ua(a,arguments[c],m.$staticNodes,m.$cachedClass),a.length<=c&&a.push(null);return a},o.loadElementEx=function(a){var b=[],c=arguments.length;if(a=a||"",2==c)return ua(b,arguments[1],m.$staticNodes,m.$cachedClass,a),1==b.length?b[0]:null;if(c<=1)return null;for(var d=1;d<c;d++)ua(b,arguments[d],m.$staticNodes,m.$cachedClass,a),b.length<d&&b.push(null);return b},o.setVendorLib=function(a,b){function e(c){if(c){var e=d&&d.widget;"body"!==a&&e&&(m[a]=e)}b&&b(d)}var c=t&&t.component;if(!c||!a||!b)return null;var d=null,f="$$"+a;return(d=c.componentOf(f))?void e(!0):void c.setChild(o.loadElement(["TempPanel",{key:f}]),function(){d=c.componentOf(f),e(!0)})},o.propagateResizing=va;var xa=/([A-Z])/g;o.gotoHash=function(a,b,c){function e(a){var c="";a||(c=d.join("/")),b&&b(c)}function l(a,b){if(!a||!b)return e(!0);if("!"==b[0]&&0==k.length){var c=null,f=b.slice(1);if(f&&f.indexOf('"')<0)try{c=document.querySelector('a[name="'+f+'"]'),c&&(d.push(b),c.scrollIntoView(!0))}catch(a){}return e(!c)}var g,h=za(a,b);return h&&(g=h.component)?void g.fireChecked(b,function(){return g.state.checkedId!=b?e(!0):(d.push(b),0==k.length?e(!1):void l(h[b],k.shift()))}):(o.instantShow("warning: can not find navigator widget ("+d.join("/")+"/"+b+")."),e(!0))}var d=[""],f=c||t;if(a&&(a="#"==a[0]?a.slice(1).trim():a.trim()),!a||!f)return e(!0);var g=a[0];if("!"==g){var h=null;try{var i=a.slice(1);i&&i.indexOf('"')<0&&(h=document.querySelector('a[name="'+i+'"]'),h&&(d.push(a),h.scrollIntoView(!0)))}catch(a){}return e(!h)}if("/"!=g){var j=o.pageCtrl;return void(j&&j.gotoPage?j.gotoPage(a,b):b&&b(""))}var k=a.slice(1).split("/");l(f,k.shift())},r.pathLevelInfo=Ba,Fa.prototype={gotoPage:function(b,c){function h(){d&&e&&g?o.gotoHash(e,function(a){c&&c(a?d+a:"")},g):c&&c(d+e)}var d="",e="",g=null,i="undefined"==typeof b?"undefined":f(b);if("string"==i&&b){"#"==b[0]&&(b=b.slice(1));var j=b.indexOf("/");j>0&&(e=b.slice(j),b=b.slice(0,j));var k=parseInt(b);k+""==b&&(b=k,i="number")}if("string"==i&&b){var l=this.namedPage[b];if("number"!=typeof l)return e="",h();b=l}else if("number"!=i)return e="",h();var m=this.keys;b<0&&(b=0),b>=m.length&&(b=m.length-1),m.forEach(function(a,c){var e=t&&t[a],f=e&&e.component;if(f){var h="none";c==b&&(h="block",d=a,g=e),f.state.style.display!=h&&f.setState({style:Object.assign({},f.state.style,{display:h})})}}),g?this.pageIndex=b:e="",h()},prevPage:function(){return this.gotoPage(this.pageIndex-1)},nextPage:function(){return this.gotoPage(this.pageIndex+1)},setDisplay:function(b){function c(a){var a=Math.max(a||0,0);return a<.9999?a*=window.innerWidth:a<1&&(a=window.innerWidth),a}b.hasOwnProperty("leftCtrlWidth")&&(this.leftPanel.style.width=c(b.leftCtrlWidth)+"px"),b.hasOwnProperty("rightCtrlWidth")&&(this.rightPanel.style.width=c(b.rightCtrlWidth)+"px")},destory:function(){this.leftPanel&&(this.leftPanel.parentNode.removeChild(this.leftPanel),this.leftPanel=null),this.rightPanel&&(this.rightPanel.parentNode.removeChild(this.rightPanel),this.rightPanel=null)}},m.$main.$$onLoad_=function(a){function b(a){var c=x.shift();if(c){var d=c[0],e=c[1];Ea(d,e,function(){b(a)})}else a()}function c(d){var e=d.shift();e?e(function(){c(d)}):b(function(){if(w=!1,u=!1,!m.__design__&&s){var b=Ga();b.length&&(o.pageCtrl&&o.pageCtrl.destory&&o.pageCtrl.destory(),o.pageCtrl=new Fa(b))}setTimeout(function(){if(m.__design__)m.$main.$onLoad=[],m.$main.inRunning=!0,a&&a();else{var b,c=m.$main.$onLoad;if(Array.isArray(c))for(;b=c.shift();)b();m.$main.inRunning=!0;var d=window.location.hash;d&&o.gotoHash(d)}},0)})}w=!0,c((m.$main.$$onLoad||[]).slice(0))};var Ha=j({onCopy:!0,onCut:!0,onPaste:!0,onCompositionEnd:!0,onCompositionStart:!0,onCompositionUpdate:!0,onKeyDown:!0,onKeyPress:!0,onKeyUp:!0,onFocus:!0,onBlur:!0,onChange:!0,onInput:!0,onSubmit:!0,onClick:!0,onContextMenu:!0,onDoubleClick:!0,onDrag:!0,onDragEnd:!0,onDragEnter:!0,onDragExit:!0,onDragLeave:!0,onDragOver:!0,onDragStart:!0,onDrop:!0,onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOut:!0,onMouseOver:!0,onMouseUp:!0,onSelect:!0,onTouchCancel:!0,onTouchEnd:!0,onTouchMove:!0,onTouchStart:!0,onScroll:!0,onWheel:!0,onAbort:!0,onCanPlay:!0,onCanPlayThrough:!0,onDurationChange:!0,onEmptied:!0,onEncrypted:!0,onEnded:!0,onError:!0,onLoadedData:!0,onLoadedMetadata:!0,onLoadStart:!0,onPause:!0,onPlay:!0,onPlaying:!0,onProgress:!0,onRateChange:!0,onSeeked:!0,onSeeking:!0,onStalled:!0,onSuspend:!0,onTimeUpdate:!0,onVolumeChange:!0,onWaiting:!0,onLoad:!0},"onError",!0),Ia={accept:1,acceptCharset:1,accessKey:1,action:1,allowFullScreen:1,allowTransparency:1,alt:1,async:1,autoComplete:1,autoFocus:1,autoPlay:1,capture:1,cellPadding:1,cellSpacing:1,challenge:1,charSet:1,checked:1,classID:1,colSpan:1,cols:1,content:1,contentEditable:1,contextMenu:1,controls:1,coords:1,crossOrigin:1,data:1,dateTime:1,default:1,defer:1,dir:1,disabled:1,download:1,draggable:1,encType:1,form:1,formAction:1,formEncType:1,formMethod:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:1,hidden:1,high:1,href:1,hrefLang:1,htmlFor:1,httpEquiv:1,icon:1,id:1,inputMode:1,integrity:1,is:1,keyParams:1,keyType:1,kind:1,label:1,lang:1,list:1,loop:1,low:1,manifest:1,marginHeight:1,marginWidth:1,max:1,maxLength:1,media:1,mediaGroup:1,method:1,min:1,minLength:1,multiple:1,muted:1,name:1,noValidate:1,nonce:1,open:1,optimum:1,pattern:1,placeholder:1,poster:1,preload:1,radioGroup:1,readOnly:1,rel:1,required:1,reversed:1,role:1,rowSpan:1,rows:1,sandbox:1,scope:1,scoped:1,scrolling:1,seamless:1,selected:1,shape:1,size:1,sizes:1,span:1,spellCheck:1,src:1,srcDoc:1,srcLang:1,srcSet:1,start:1,step:1,summary:1,tabIndex:1,target:1,title:1,type:1,useMap:1,value:1,wmode:1,wrap:1,about:2,datatype:2,inlist:2,prefix:2,property:2,resource:2,typeof:2,vocab:2,autoCapitalize:3,autoCorrect:3,color:3,itemProp:3,itemScope:3,itemType:3,itemRef:3,itemID:3,security:3,unselectable:3,results:3,autoSave:3,dangerouslySetInnerHTML:4,className:5,style:5,width:5,height:5};r.renewWidgetSpared=Ma;var Oa=/-(.)/g,Pa=function(){function a(b,c){i(this,a),this._className=b,this._classDesc=c||"",this._statedProp=["width","height","left","top"],this._slientProp=["className","hookTo.","keyid.","childInline."],this._defaultProp={width:.9999,height:.9999,left:0,top:0},this._docUrl="doc"}return e(a,[{key:"_desc",value:function(){return this._classDesc?"<"+this._className+":"+this._classDesc+">":"<"+this._className+">"}},{key:"_extend",value:function(b){if("string"==typeof b){if(m.__design__)return null;b=m.$main[b],b||console.log("warning: _extend('"+b+"') load nothing!")}var c=this._methods;if(!c){var d,e={},f={};c=this._methods={$eventset:[e,f]};for(var g={},h=Object.getPrototypeOf(this);h;){var i=Object.getPrototypeOf(h);if(!i)break;Object.getOwnPropertyNames(h).forEach(function(a){"_"!=a[0]&&(g[a]=!0)}),h=i}for(d in g)if("constructor"!=d){var j=this[d];if("function"==typeof j){var k=d[0];if("$"==k){var l=!1,n="$"==d[1]?(l=!0,d.slice(2)):d.slice(1);Ha[n]&&(l?f[n]=!0:e[n]=!0)}c[d]=j}}c.getShadowTemplate=function(a){return function(){return a}}(this)}var o=Object.assign({},c),p=o.$eventset,e=Object.assign({},p[0]),f=Object.assign({},p[1]);o.$eventset=[e,f],b||(b={});for(var d,q=Object.keys(b),r=0;d=q[r];r++){var s=b[d];if("$"==d[0]&&"function"==typeof s){var l=!1,n="$"==d[1]?(l=!0,d.slice(2)):d.slice(1);Ha[n]&&(l?f[n]=!0:e[n]=!0)}var t=o[d];"function"==typeof t&&"_"!=d[0]&&(o["_"+d]=function(a){return function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return a.apply(b,d)}}(t)),o[d]=s}return o}},{key:"_createClass",value:function(b){if(b)return k.createClass(this._extend(b));var c=Q(this._className);return c||console.log("fatal error: invalid WTC ("+this._className+")"),c}},{key:"_getGroupOpt",value:function(b){return{type:"mono",editable:"all",baseUrl:"/app/files/rewgt/web",tools:[]}}},{key:"_getSchema",value:function(b,c){c=c||1200;var g,d="[any]: null for auto, 0~1 for percent, 0.9999 for 100%, N pixels",e="[number]: N pixels",f="[any]: N pixels, [top_bottom,right_left], [top,right,bottom,left]",h={key:[-1,"string"],left:[c+1,"any",null,d],top:[c+2,"any",null,d],width:[c+3,"any",null,d],height:[c+4,"any",null,d],minWidth:[c+5,"number",null,e],maxWidth:[c+6,"number",null,e],minHeight:[c+7,"number",null,e],maxHeight:[c+8,"number",null,e],borderWidth:[c+9,"any",null,f],padding:[c+10,"any",null,f],margin:[c+11,"any",null,f]};return b&&(g=b.parentOf())&&g.props["isTableRow."]&&(h.tdStyle=[c+12,"object",null,"[object]: style for parent (td)"]),h}},{key:"getDefaultProps",value:function(){return{width:.9999,height:.9999,"childInline.":!1}}},{key:"defineDual",value:function(b,c,d){var e=this.duals,f=this.$gui;if(f&&f.compState>=2)return console.log("error: can not define duals."+b+" after first render"),this;if(!e||!f)return this;void 0!==d&&f.initDuals0.push([b,d]);var g=Object.getOwnPropertyDescriptor(e,b);if(g){if(c){var h=ha(this,b,g.set,c.bind(this));Object.defineProperty(e,b,{enumerable:!0,configurable:!0,get:g.get,set:h[1]})}}else{var h=ha(this,b,null,c&&c.bind(this));Object.defineProperty(e,b,{enumerable:!0,configurable:!0,get:h[0],set:h[1]})}return this}},{key:"undefineDual",value:function(b){var c=this.$gui,d=this.duals;if(c&&c.compState>=2)return console.log("error: undefineDual("+b+") only can be called before first render"),this;if(!d||!c)return this;for(var g,e=[c.initDuals,c.initDuals0],f=0;g=e[f];f++)for(var h=g.length-1;h>=0;)g[h][0]===b&&g.splice(h,1),h-=1;return delete d[b],this}},{key:"getInitialState",value:function(){function ia(a){if(!Array.isArray(a))return"number"==typeof a?[a,a,a,a]:[0,0,0,0];var b=a.length;if(0==b)return[0,0,0,0];if(1==b){var c=parseFloat(a[0])||0;return[c,c,c,c]}if(2==b){var c=parseFloat(a[0])||0,d=parseFloat(a[1])||0;return[c,d,c,d]}if(3==b){var c=parseFloat(a[0])||0,d=parseFloat(a[1])||0,e=parseFloat(a[2])||0;return[c,d,e,d]}return[parseFloat(a[0])||0,parseFloat(a[1])||0,parseFloat(a[2])||0,parseFloat(a[3])||0]}var b=this.getShadowTemplate();Object.defineProperty(this,"_",{enumerable:!1,configurable:!1,writable:!1,value:b}),this.isHooked=!1,this.hideThis=!1,this.duals={};var c=0==o.widgetNum(),d={inSync:!1,removeNum:0,className:this.props.className||"",compState:0,duals:{},initDuals:[],initDuals0:[],connectTo:{},connectBy:{},id__:0,id2__:0,sparedX:null,sparedY:null},e=d.eventset={},g=d.tagAttrs=[],h=d.dualAttrs={},i=d.dataset=[],j=d.exprAttrs=[],l="",p="",v="";d.forExpr=!1,d.hasIdSetter=!1;var w={},y=this.$eventset||[{},{}],z=y[0],A=y[1];delete this.$eventset;for(var F,B=null,D=Object.keys(this.props),E=0;F=D[E];E++)if(0==F.indexOf("data-"))"data-unit.path"!=F&&"data-span.path"!=F||(l=F,p=this.props[F]),i.push(F);else if(0==F.indexOf("dual-")){var G=F.slice(5).replace(Oa,function(a,b){return b.toUpperCase()});G&&(h[G]=F)}else if(0==F.indexOf("aria-"))i.push(F);else if("$"==F[0]&&F.length>1){var H=this.props[F],J="undefined"==typeof H?"undefined":f(H);if("string"==J){if("$id__"!=F){var L=!1;F=F.slice(1),"$for"==F&&(F="for",L=!0),C.indexOf(F)>=0?"for"==F?(d.forExpr?console.log("warning: reduplicate property ($for)"):(d.forExpr=L?2:1,j.push(F)),c&&console.log("error: can not use '$for' in topmost widget")):v?console.log("error: property ($"+F+") conflict with previous ($"+v+")"):(v=F,"else"!=F&&j.push(F)):"key"!=F&&j.push(F);continue}H=q[H],J="undefined"==typeof H?"undefined":f(H)}if("function"==J){if("$"==F[1]){console.log("warning: invalid using props."+F);continue}F=F.slice(1),"id__"==F?(B=H,d.hasIdSetter=!0):A[F]||(w[F]=H.bind(this))}}else{var N=Ia[F];N&&5!=N&&g.push(F)}d.flowFlag=v,d.dataset2=i.slice(0);for(var O in z)e[O]=this["$"+O];for(var O in w)e[O]=w[O];for(var O in A)e[O]=this["$$"+O];c&&(d.className=K(d.className,["rewgt-panel","row-reverse","reverse-row","col-reverse","reverse-col"])),Object.defineProperty(this,"$gui",{enumerable:!1,configurable:!1,writable:!1,value:d});var P={id__:0,childNumId:0,duals:[],exprAttrs:j.slice(0)};if(m.__design__){var Q=b._getGroupOpt(this);P["data-group.opt"]=Q.type+"/"+Q.editable}var R=this.props["keyid."];if(c&&!R&&(R="body"),R){var S="undefined"==typeof R?"undefined":f(R);"string"!=S&&"number"!=S&&(R=void 0)}var T=this.props["hookTo."];c&&!T&&(T=m),"string"==typeof T&&(T=m.W(T)),Array.isArray(T)&&T.W&&(void 0!==R?T.$set(R,T.W(this)):R=T.push(T.W(this))-1,d.keyid=R),Object.assign(P,{left:0,top:0,width:null,height:null,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,borderWidth:[0,0,0,0],padding:[0,0,0,0],margin:[0,0,0,0]});var U=d.isPanel=I(d.className,"rewgt-panel"),V=!1,W=!1,X=this.props["childInline."];if(X||c||!U||(I(d.className+" "+this.props.klass,["col-reverse","reverse-col"])?W=!0:V=!0),d.useSparedX=!1,d.useSparedY=!1,d.respared=!1,d.sparedTotal=0,d.compIdx={},d.comps=k.Children.toArray(this.props.children),Object.defineProperty(this.duals,"keyid",{enumerable:!0,configurable:!0,get:function(){return this.$gui.keyid}.bind(this),set:function(b,c){throw new Error("property (keyid) is readonly")}}),this.defineDual("klass",function(a,b){this.state.klass=a||""},""),this.defineDual("style",function(a,b){this.state.style=Object.assign({},b,a)},{}),this.defineDual("left",function(a,b){this.state.left=isNaN(a)?null:a}),this.defineDual("top",function(a,b){this.state.top=isNaN(a)?null:a}),this.defineDual("width",function(a,b){var c,d=!1;if(isNaN(a)?c=null:(c=a,null!==a&&(d=!0)),this.state.width=c,d){var e=this.parentOf();e&&e.$gui.useSparedX&&Ma(e,!1)}}),this.defineDual("height",function(a,b){var c,d=!1;if(isNaN(a)?c=null:(c=a,null!==a&&(d=!0)),this.state.height=c,d){var e=this.parentOf();e&&e.$gui.useSparedY&&Ma(e,!1)}}),this.defineDual("minWidth",function(a,b){var c=a||0;return c>0&&this.state.maxWidth>0&&this.state.maxWidth<c?void console.log("warning: invalid widget minWidth or maxWidth"):void(this.state.minWidth=c)}),this.defineDual("maxWidth",function(a,b){var c=a||0;return c>0&&this.state.minWidth>0&&this.state.minWidth>c?void console.log("warning: invalid widget minWidth or maxWidth"):void(this.state.maxWidth=c)}),this.defineDual("minHeight",function(a,b){var c=a||0;return c>0&&this.state.maxHeight>0&&this.state.maxHeight<c?void console.log("warning: invalid widget minHeight or maxHeight"):void(this.state.minHeight=c)}),this.defineDual("maxHeight",function(a,b){var c=a||0;return c>0&&this.state.minHeight>0&&this.state.minHeight>c?void console.log("warning: invalid widget minHeight or maxHeight"):void(this.state.maxHeight=c)}),this.defineDual("borderWidth",function(a,b){this.state.borderWidth=ia(a)}),this.defineDual("padding",function(a,b){this.state.padding=ia(a)}),this.defineDual("margin",function(a,b){this.state.margin=ia(a)}),this.defineDual("id__",function(a,b){this.state.id__=a,d.id__=d.id2__=a}),B&&this.defineDual("id__",B),this.defineDual("trigger",Na(this)),this.defineDual("cellSpacing"),this.defineDual("sizes"),T){var Y=T&&T.component;Y&&Y.props["isTableRow."]&&(this.props.tdStyle&&this.defineDual("tdStyle",function(a,b){this.state.tdStyle=Object.assign({},b,a),setTimeout(function(){Y.reRender()},0)},this.props.tdStyle),this.props.colSpan&&this.defineDual("colSpan",function(a,b){this.state.colSpan=a,setTimeout(function(){Y.reRender()},0)},this.props.colSpan),this.props.rowSpan&&this.defineDual("rowSpan",function(a,b){this.state.rowSpan=a,setTimeout(function(){Y.reRender()},0)},this.props.rowSpan))}this.cssWidth=null,this.cssHeight=null;var Z=null,_=null,aa=this.widget;if(T&&aa){if(l){aa.$callspace={flowFlag:"ref",forSpace:null},aa.$callspace[l]=p;var ba=aa.$callspace.exprSpace={};$(ba,this)}if(c&&(t=r.topmostWidget_=aa,s=r.containNode_=document.getElementById("react-container"),s||console.log("fatal error: can not find 'react-container' node.")),c&&s){m.__design__&&(s.style.zIndex="3000",this.duals.style={zIndex:"-1000",overflow:"hidden"});var ca=s.frameInfo;ca||(ca=s.frameInfo={topHi:0,leftWd:0,rightWd:0,bottomHi:0}),ca.rootName="."+R;var da=function(){var a=Math.max(100,window.innerWidth-ca.leftWd-ca.rightWd),b=Math.max(100,window.innerHeight-ca.topHi-ca.bottomHi),c=this.state.innerSize,e=[a,b];if(this.setState({left:ca.leftWd,top:ca.topHi,parentWidth:a,parentHeight:b,innerSize:e}),this.duals.hasOwnProperty("innerSize")){var f=d.connectTo.innerSize;f&&d.compState>=2&&setTimeout(function(){ga(f,e,c,"innerSize")},0)}}.bind(this);"function"==typeof s.instantShow&&(m.$utils.instantShow=s.instantShow),s.refreshFrame=da,Ka(s);var ea=function(){o.dragInfo.inDragging=!1,o.dragInfo.justResized=!0,setTimeout(function(){o.dragInfo.justResized=!1},1200),da()},fa=0;d.onWinResize=function(a){function b(){fa&&clearTimeout(fa),fa=setTimeout(ea,500)}o.dragInfo.inDragging=!0,b(),da()},this.duals.style={position:"absolute"},this.duals.left=ca.leftWd,this.duals.top=ca.topHi,Z=Math.max(100,window.innerWidth-ca.leftWd-ca.rightWd),_=Math.max(100,window.innerHeight-ca.topHi-ca.bottomHi)}else{var ha=T.component;ha&&(Z=ha.cssWidth,_=ha.cssHeight)}}return P.parentWidth=Z,P.parentHeight=_,this.defineDual("childNumId",function(a,b){this.state.childNumId=a;var e=this,f=e.widget;if(f){var g=e.state.sizes,h=Array.isArray(g),i=d.compIdx,j=d.comps,l=e.props["isScenePage."],o=!1,p=!1,q=0;if(j.forEach(function(a,b){if("string"==typeof a){if(!X)return;a=j[b]=k.createElement(_b,{"html.":a})}else if(!a)return;var g,h=M(a),n=!1;if(h){var r=parseInt(h);g=r+""===h?r:h,"number"==typeof i[h]&&(n=!0)}else g=b+d.removeNum,h=g+"";if(I(a.props.className,"rewgt-static")){if(n)return void(i[g]=b);if(U)j[b]=void 0,console.log("warning: can not add rewgt-static to panel ("+f.getPath()+") directly.");else{var s=Object.assign({},a.props);s["keyid."]=g,s.key=h,!m.__design__||e.props.$for||e.props.$$for||(s.onMouseDown=sa,s.onDoubleClick=ta.bind(e)),i[g]=b,X?j[b]=k.createElement("span",s):j[b]=k.createElement("div",s)}}else{var t=a.props["childInline."];if(void 0===t)return i[g]=b,void(n||(j[b]=k.cloneElement(a,{"keyid.":g,key:h})));if(X){if(!t)return console.log("error: can not add panel or div ("+h+") to paragraph ("+f.getPath()+")."),void(j[b]=void 0)}else if(!I(a.props.className,["rewgt-panel","rewgt-unit"]))return console.log("error: only panel, div, paragraph ("+g+") can add to panel or div ("+f.getPath()+")."),void(j[b]=void 0);var v=!1;a.props["isReference."]&&(v=!0,n||("$"!=h[0]&&(h=g="$"+h),u&&x.push([e,g])));var w=a.props.width,y=a.props.height,z="number"!=typeof w,A="number"!=typeof y;if(V)z?o=!0:w<0&&!v&&(p=!0,q+=-w);else if(W)A?o=!0:y<0&&!v&&(p=!0,q+=-y);else{var B="";!z&&w<0?B="width":!A&&y<0&&(B="height"),B&&console.log("error: can not use negative "+B+" under widget ("+f.getPath()+")")}if(n&&a.props["hookTo."]!==f&&(n=!1),n)i[g]=b;else{var C={"hookTo.":f,key:h,"keyid.":g};if(X){var D=I(a.props.className,"rewgt-unit");if(!z&&w>=0){var E=w>=1?w+"px":w>=.9999?"100%":100*w+"%";C.style=Object.assign({},a.props.style,{width:E}),D&&(C.width=w)}else D&&(C.width=null);if(!A&&y>=0){var F=y>=1?y+"px":y>=.9999?"100%":100*y+"%";C.style=Object.assign({},a.props.style,{height:F}),D&&(C.height=y)}else D&&(C.height=null)}else C.width=z?null:w,C.height=A?null:y;if(l){var G=Object.assign({},a.props.style);G.zIndex=(parseInt(G.zIndex)||0)+"",C.style=G}else m.__debug__&&!c&&d.isPanel&&"absolute"==(C.style||{}).display&&console.log("warning: can not use 'display:absolute' under a panel");i[g]=b,j[b]=k.cloneElement(a,C)}}}),h||(p&&!o?((q>0||d.useSparedX!=V||d.useSparedY!=W)&&(d.respared=!0),d.sparedTotal=q,d.useSparedX=V,d.useSparedY=W):(d.sparedTotal=0,d.useSparedX=!1,d.useSparedY=!1)),this.props["isNavigator."])for(var r=d.navHead=[],s=d.navItems={},t=j.length,v=0;v<t;v++){var w=j[v];w&&(w.props["isPlayground."]?s[w.props["keyid."]]=w:r.push(w))}c&&0==b&&(i.$pop=j.length+d.removeNum,j.push(k.createElement(k.createClass(n.Panel._extend()),{"hookTo.":f,key:"$pop","keyid.":"$pop",left:0,top:0,width:0,height:0,style:{position:"absolute",zIndex:3016,overflow:"visible"}})))}},0),P}},{key:"shouldComponentUpdate",value:function(b,c){return o.shouldUpdate(this,b,c)}},{key:"componentDidMount",value:function(){this.isHooked=!!this.widget;var b=this.$gui;!b.isPanel&&this.props["hasStatic."]&&La(this);var c=this.props.styles;if(c&&(this.props["data-span.path"]||this.props["data-unit.path"])){var d=this;Object.keys(c).forEach(function(a){var b=c[a];if("object"==("undefined"==typeof b?"undefined":f(b))&&a){var e=d.componentOf(a);e&&(e.duals.style=b)}})}b.hasIdSetter&&(this.duals.id__=2)}},{key:"componentWillUnmount",value:function(){if(m.__debug__&&"function"==typeof this.teardown__)try{this.teardown__()}catch(a){console.log(a)}var b=this.$gui;b.hasIdSetter&&(this.duals.id__=0);for(var f,c=Object.keys(b.connectBy),d=[],e=0;f=c[e];e++){var g=b.connectBy[f],h=g[0];h!==this&&d.indexOf(h)<0&&d.push(h)}for(var h,e=0;h=d[e];e++)h.unlisten("*",this);if(b.connectTo={},b.connectBy={},b.compState=0,Array.isArray(this.widget)){var i=this.widget.parent;if(Array.isArray(i)){var j=b.keyid,k=i.component;if(k){var l=k.$gui;if(!l.flowFlag&&!l.forExpr){var n=l.compIdx[j];"number"==typeof n&&(delete l.comps[n],delete l.compIdx[j])}}i.$unhook(this.widget,j)}delete this.widget.component,delete this.widget}this.isHooked=!1}},{key:"reRender",value:function(b){this.isHooked?this.setState({id__:G()},b):b&&b()}},{key:"listen",value:function(b,c,d){function h(a){var b=Object.getOwnPropertyDescriptor(g.duals,a);if(b)return!0;if(g.props["$"+a])return C.indexOf(a)>0&&console.log("warning: '"+a+"' is not listenable."),!0;if(e.dataset.indexOf(a)>=0||e.tagAttrs.indexOf(a)>=0||e.dualAttrs.hasOwnProperty(a)){var c=ha(g,a);return Object.defineProperty(g.duals,a,{enumerable:!0,configurable:!0,get:c[0],set:c[1]}),!0}return!1}var e=this.$gui,g=this;if("function"==typeof c){var i;if(Array.isArray(b))i=b;else{if("string"!=typeof b||!b)return console.log("warning: invalid listen source."),this;i=[b]}for(var k,j=0;k=i[j];j++)if(h(k)){var l=e.connectTo[k];l||(l=e.connectTo[k]=[]),l.push([null,c,!1])}else console.log("warning: listen source ("+k+") inexistent.");return this}if(!c||!c.$gui)return console.log("warning: invalid listen target."),this;var m,i=[];if(Array.isArray(b))b.forEach(function(a){var b=("on-"+a).replace(Oa,function(a,b){return b.toUpperCase()});i.push([a,b])});else if("string"==(m="undefined"==typeof b?"undefined":f(b)))d&&"string"==typeof d?i.push([b,d,d]):(d=("on-"+b).replace(Oa,function(a,b){return b.toUpperCase()}),i.push([b,d]));else{if(!action||"object"!=m)return this;Object.keys(b).forEach(function(a){i.push([a,b[a]])})}return i.forEach(function(a){var b=a[0],d=a[1],f=!1;if(!b||!h(b))return void console.log("warning: listen source ("+b+") inexistent.");if("function"!=typeof c[d]){var i=a[2];if(!i||!c.duals.hasOwnProperty(i))return void console.log("warning: invalid listen target ("+d+").");if(i===b&&c===g)return void console.log("warning: can not connect dual ("+b+") to self.");f=!0,d=i}var j=c.$gui.connectBy,k=-1,l=j[d];l?(k=l.findIndex(function(a){return a[0]===g&&a[1]===b}),k>=0&&(l[k][2]=f)):l=j[d]=[],k<0&&l.push([g,b,f]),k=-1,l=e.connectTo[b],l?(k=l.findIndex(function(a){return a[0]===c&&a[1]===d}),k>=0&&(l[k][2]=f)):l=e.connectTo[b]=[],k<0&&l.push([c,d,f])}),this}},{key:"unlisten",value:function(b,c,d){if("function"==typeof c){if("string"!=typeof b||!b)return console.log("warning: invalid unlisten source."),this;var e=this.$gui,g=e.connectTo[b];if(g){var h=g.findIndex(function(a){return null===a[0]&&a[1]===c});h>=0&&(g.splice(h,1),0==g.length&&delete e.connectTo[b])}return this}if(!c||!c.$gui)return console.log("warning: invalid unlisten target."),this;var i,j=[],e=this.$gui;if(Array.isArray(b))b.forEach(function(a){var b=("on-"+a).replace(Oa,function(a,b){return b.toUpperCase()});j.push([a,b])});else if("string"==(i="undefined"==typeof b?"undefined":f(b))){if("*"==b){var l=e.connectTo;return Object.keys(l).forEach(function(a){var b,d=l[a];if(d&&(b=d.length)>0){for(;--b>=0;){var e=d[b];e[0]===c&&d.splice(b,1)}0==d.length&&delete l[a]}}),this}if(d&&"string"==typeof d){if("*"==d){var m,l=e.connectTo,g=l[b];if(g&&(m=g.length)>0){for(;--m>=0;){var n=g[m];n[0]===c&&g.splice(m,1)}0==g.length&&delete l[b]}return this}}else d=("on-"+b).replace(Oa,function(a,b){return b.toUpperCase()});j.push([b,d])}else{if(!action||"object"!=i)return this;Object.keys(b).forEach(function(a){j.push([a,b[a]])})}return j.forEach(function(a){var b=a[0],d=a[1],f=e.connectTo[b];if(f){var g=f.findIndex(function(a){return a[0]===c&&a[1]===d});g>=0&&(f.splice(g,1),0==f.length&&delete e.connectTo[b])}}),this}},{key:"getHtmlNode",value:function(b){return l.findDOMNode(b||this)}},{key:"parentOf",value:function(){var b=this.widget,c=b&&b.parent,d=c&&c.component;return d||null}},{key:"componentOf",value:function(b){var c=b[0];if("."!=c&&"/"!=c){var d=this.widget,e=d&&d.W(b),f=e&&e.component;return f||null}return Ca(this,b)}},{key:"elementOf",value:function(b){var c,d=null,e="";if(b)if("."!=(c=b[0])&&"/"!=c)d=this.widget,e=b;else{var f=b.lastIndexOf("./");if(f>=0){var g=this.componentOf(b.slice(0,f+2));if(!g)return null;d=g.widget,e=b.slice(f+2)}else{if("."!=c){if("/"==c&&"/"==b[1]){var h=this.parentOf();return h?h.elementOf(b.slice(2)):null}return null}if(d=m,e=b.slice(1),!e)return null}}else d=this.widget;if(!d)return null;if(!e){var g=d.component;if(g){var i=d.parent,h=i&&i.component;if(h){var j=h.$gui.compIdx[g.$gui.keyid];if("number"==typeof j)return h.$gui.comps[j]}}return null}if(e.indexOf("/")>=0)return null;for(var o,k=e.split("."),l=k.length-1,n=0;o=k[n];n++){var p=d[o];if(!Array.isArray(p)||!p.W){var g=d.component;return g&&g.props["isTemplate."]?g.elementOf(k.slice(n).join(".")):null}if(!(n<l)){var h=d.component;if(h){var j=h.$gui.compIdx[o];if("number"==typeof j)return h.$gui.comps[j]}return null}d=p}return null}},{key:"prevSibling",value:function(){var b=this.widget,c=this.$gui.keyid;b=b&&b.parent;var d=b&&b.component;if(d&&(c||0===c)){var e=d.$gui,f=e.compIdx[c];if("number"==typeof f)for(var g=f-1;g>=0;g--){var h=e.comps[g];if(h){var i=M(h);return h=i&&b[i],h?h.component:void 0}}}}},{key:"nextSibling",value:function(){var b=this.widget,c=this.$gui.keyid;b=b&&b.parent;var d=b&&b.component;if(d&&(c||0===c)){var e=d.$gui,f=e.compIdx[c];if("number"==typeof f)for(var g=e.comps.length,h=f+1;h<g;h++){var i=e.comps[h];if(i){var j=M(i);return i=j&&b[j],i?i.component:void 0}}}}},{key:"fullClone",value:function(b){var c=null,d=this.$gui.keyid,e=this.widget,g=e&&e.parent;if(g=g&&g.component){var h=g.$gui.compIdx[d];"number"==typeof h&&(c=g.$gui.comps[h])}var i,j=null;if("object"!=("undefined"==typeof b?"undefined":f(b))&&(b={}),c){if(i=c.props["isReference."])return j=N(c.props),"number"==typeof d&&(delete j.key,delete j["keyid."]),k.createElement(1==i?Fd:Hd,Object.assign(j,b));if(this.props["isTemplate."]&&!m.__design__){var l=this.$gui.template;if(l instanceof Da)return k.cloneElement(c,{template:l},null);throw new Error("invalid template ("+d+")")}}if(!c||!(j=ka(this)))throw new Error("invalid widget ("+d+")");return"number"==typeof d&&(j["keyid."]="",j.key=""),Object.assign(j,b),la(c,j,e,this)}},{key:"setChild",value:function(){function e(){b&&b(c)}function va(a){var b,c=M(a),d=r+s+y.length,e=!1;if(c){var f=parseInt(c);f+""===c?(e=!0,b=f):b=c}else b=d,e=!0;return e&&(b<0||b>d)&&(o.instantShow("warning: invalid keyid ("+b+")"),b=d),[e&&b==d,b]}var b=void 0,c=!1,d=arguments.length;d>0&&(b=arguments[d-1],"function"!=typeof b?b=void 0:d-=1);var g=this.widget,h=this.$gui;if(!g)return o.instantShow("warning: invalid target widget in setChild()."),e();if(!this.isHooked)return o.instantShow("warning: can not add child to unhooked widget."),e();if(this.props["isTemplate."])if(w){for(var i=h.template,j=0;j<d;j++){var l=arguments[j],n="undefined"==typeof l?"undefined":f(l);if("function"==n){b=l;break}l&&k.isValidElement(l)&&xd(i,l)}if(!m.__design__)return e()}else if(!m.__design__)return o.instantShow("warning: can not set child of template."),e();var p=g===t,q=4;if(h.isPanel||p)q=1;else if(I(h.className,"rewgt-unit"))q=this.props["childInline."]?3:2;else if(!this.props["childInline."])return o.instantShow("warning: invalid call setChild()"),e();for(var r=h.removeNum,s=0,v=[],y=h.comps.slice(0),z=y.length-1;z>=0;z--){var A,B=y[z],C=B&&M(B);if(C){v.unshift(C);var D=parseInt(C);A=D+""===C?D:C,A!==B.props["keyid."]&&(y[z]=k.cloneElement(B,{"keyid.":A,key:C}))}else y.splice(z,1),s+=1,c=!0}for(var E=void 0,F="",G=0;G<d;G++){var l=arguments[G],n="undefined"==typeof l?"undefined":f(l);if("function"==n){b=l;break}if("number"==n&&(l+="",n="string"),"string"==n){if(!l)continue;if(F=l[0],"-"==F||"+"==F){if(l=l.slice(1),!l){F="";continue}}else F="";E=l;var D=parseInt(l);if(D+""==l&&(E=D),"-"==F){var H=v.indexOf(l);H>=0&&(v.splice(H,1),y.splice(H,1),s+=1,c=!0),F="",E=void 0}else if("+"==F){var H=v.indexOf(l);H<0&&(F="")}}else if(l&&k.isValidElement(l)){if(I(l.props.className,"rewgt-static")){console.log("warning: setChild() not support rewgt-static."),F="",E=void 0;continue}var J=!0,K=l.props["childInline."];void 0===K||(1==q||2==q?I(l.props.className,["rewgt-panel","rewgt-unit"])||(J=!1):K||(J=!1));var L=void 0,N=!0;"+"==F&&void 0!==E?L=E:N=!1;var O,P=!1;if("+"!=F&&void 0!==E)O=E;else{var Q=va(l);P=Q[0],O=Q[1]}if(J){l.props["isReference."]&&("string"==typeof O?"$"!=O[0]&&(O="$"+O):O="$"+O,u&&x.push([this,O]));var R=P||N?-1:v.indexOf(O+"");if(R>=0)y[R]=[O,l];else{var H=N?v.indexOf(L+""):-1;if(H>=0?(y.splice(H,0,[O,l]),v.splice(H,0,O+"")):(y.push([O,l]),v.push(O+"")),N&&!P){var S=v.indexOf(O+"");S>=0&&S==H&&H>=0&&(S=v.indexOf(O+"",H+1)),S>=0&&(y.splice(S,1),v.splice(S,1),s+=1)}}c=!0}else o.instantShow("error: display type of child widget ("+O+") mismatch to owner ("+g.getPath()+").");F="",E=void 0}else if(Array.isArray(l))for(var T=l.length,U="",V=void 0,W=0;W<T;W++){var X=l[W],Y="undefined"==typeof X?"undefined":f(X);if("number"==Y&&(X+="",Y="string"),"string"==Y){if(!X)continue;if(U=X[0],"-"==U||"+"==U){if(X=X.slice(1),!X){U="";continue}}else U="";V=X;var Z=parseInt(X);if(Z+""==X&&(V=Z),"-"==U){var $=v.indexOf(X);$>=0&&(v.splice($,1),y.splice($,1),s+=1,c=!0),U="",V=void 0}else if("+"==U){var $=v.indexOf(X);$<0&&(U="")}}else if(X&&k.isValidElement(X)){if(I(X.props.className,"rewgt-static")){console.log("warning: setChild() not support rewgt-static."),U="",V=void 0;continue}var _=!0,aa=X.props["childInline."];void 0===aa||(1==q||2==q?I(X.props.className,["rewgt-panel","rewgt-unit"])||(_=!1):aa||(_=!1));var ba=void 0,ca=!0;"+"==U&&void 0!==V?ba=V:"+"==F&&void 0!==E?insBefor2=E:ca=!1;var da,ea=!1;if("+"!=U&&void 0!==V)da=V;else{var fa=va(X);ea=fa[0],da=fa[1]}if(_){X.props["isReference."]&&("string"==typeof da?"$"!=da[0]&&(da="$"+da):da="$"+da,u&&x.push([this,da]));var ga=ea||ca?-1:v.indexOf(da+"");if(ga>=0)y[ga]=[da,X];else{var $=ca?v.indexOf(insBefor2+""):-1;if($>=0?(y.splice($,0,[da,X]),v.splice($,0,da+"")):(y.push([da,X]),v.push(da+"")),ca&&!ea){var ha=v.indexOf(da+"");ha>=0&&ha==$&&$>=0&&(ha=v.indexOf(da+"",$+1)),ha>=0&&(y.splice(ha,1),v.splice(ha,1),s+=1)}}c=!0}else o.instantShow("error: display type of child widget ("+da+") mismatch to owner ("+g.getPath()+").");
U="",V=void 0}}}if(c){var ia=!1,ja=!1;!p&&h.isPanel&&(I(this.props.className+" "+this.props.klass,["col-reverse","reverse-col"])?ja=!0:ia=!0);var ka=null,la=0,ma=0;h.isPanel&&Array.isArray(this.props.sizes)&&(ka=this.state.sizes,Array.isArray(ka)&&(ja?ma=ka.length:la=ka.length));for(var na=y.length,oa=[],pa={},z=0;z<na;z++){var qa,ra=y[z];if(Array.isArray(ra)){qa=ra[0],ra=ra[1];var sa={key:qa+"","keyid.":qa};void 0!==ra.props["childInline."]&&(sa["hookTo."]=g,4!=q&&(sa.width=ra.props.width,sa.height=ra.props.height),la?sa.width=ka[z%la]:ma&&(sa.height=ka[z%ma])),y[z]=k.cloneElement(ra,sa)}else qa=ra.props["keyid."],oa.push([z,qa]);pa[qa]=z}for(var ra,ta={},z=0;ra=oa[z];z++){var W=ra[0],qa=ra[1],ua=g[qa];ua=ua&&ua.component,ua&&(ta[qa]=ua,la?ua.state.width=ka[W%la]:ma&&(ua.state.height=ka[W%ma]))}h.removeNum+=s,h.comps=y,h.compIdx=pa,this.reRender(e)}else e()}},{key:"prepareState",value:function(){function b(a,b,c){var d;if(b>=1)d=b;else{if("number"!=typeof a)return null;d=b>=.9999?a:b>=0?b*a:b}return d<0?c?d>-.9999?d*a:d>-1?-a:d:0:d}function c(a,b){return a>=1?a+"px":b?0:a>.9999?"100%":100*a+"%"}var d=this.state.parentWidth,e=this.state.parentHeight,f="number"!=typeof d,g="number"!=typeof e,h=this.state.padding,i=this.state.borderWidth,j=this.state.margin,k=null,l=null;"number"==typeof this.state.left&&(k=b(d,this.state.left,!0)),"number"==typeof this.state.top&&(l=b(e,this.state.top,!0));var m,n,p,q,s,u,v,w,y,z,A,B,r="",x="",C="";f?(m=0,n=0,p=0,q=0,r=c(h[0],!1)+" "+c(h[1],!1)+" "+c(h[2],!1)+" "+c(h[3],!1),s=0,u=0,v=0,w=0,x=c(i[0],!0)+" "+c(i[1],!0)+" "+c(i[2],!0)+" "+c(i[3],!0),y=0,z=0,A=0,B=0,C=c(j[0],!1)+" "+c(j[1],!1)+" "+c(j[2],!1)+" "+c(j[3],!1)):(m=b(d,h[0]),n=b(d,h[1]),p=b(d,h[2]),q=b(d,h[3]),r=m+"px "+n+"px "+p+"px "+q+"px",s=b(d,i[0]),u=b(d,i[1]),v=b(d,i[2]),w=b(d,i[3]),x=s+"px "+u+"px "+v+"px "+w+"px",y=b(d,j[0]),z=b(d,j[1]),A=b(d,j[2]),B=b(d,j[3]),C=y+"px "+z+"px "+A+"px "+B+"px");var D=this.widget,E=this.$gui,F=this.state.minWidth,G=this.state.maxWidth,H=this.state.minHeight,I=this.state.maxHeight,J=this.state.width,K=this.state.height,L=null,M="number"!=typeof J||!(J>=1)&&f,N=null,O="number"!=typeof K||!(K>=1)&&g,P=!1,Q=!1;if(!M){var R=null;if(J<0){var S=D&&D.parent,T=S&&S.component;if(T){var U=T.$gui.sparedX;"number"==typeof U&&(R=U*(0-J))}}else R=b(d,J);"number"!=typeof R?M=!0:(F&&R<F&&(R=F),G&&R>G&&(R=G),L=R-q-n-w-u,L<0?L=null:this.cssWidth!==L&&(P=!0))}if(!O){var V=null;if(K<0){var S=D&&D.parent,T=S&&S.component;if(T){var U=T.$gui.sparedY;"number"==typeof U&&(V=U*(0-K))}}else V=b(e,K);"number"!=typeof V?O=!0:(H&&V<H&&(V=H),I&&V>I&&(V=I),N=V-m-p-s-v,N<0?N=null:this.cssHeight!==N&&(Q=!0))}F&&(F=Math.max(0,F-q-n-w-u)),G&&(G=Math.max(0,G-q-n-w-u)),H&&(H=Math.max(0,H-m-p-s-v)),I&&(I=Math.max(0,I-m-p-s-v)),this.cssWidth=L,this.cssHeight=N;var W=E.respared;if(E.respared=!1,D&&(E.isPanel||D===t)&&(P||Q||W||o.dragInfo.justResized)&&(E.useSparedX?(P||W)&&(E.sparedX=Ja(this,D,!0,L),W=!0):E.useSparedY&&(Q||W)&&(E.sparedY=Ja(this,D,!1,N),W=!0),this.isHooked||W)){var X=this;setTimeout(function(){X.isHooked&&va(X,o.dragInfo.inDragging)},0)}var Y=Object.assign({},this.state.style,{margin:C,padding:r,borderWidth:x});"number"!=typeof k?delete Y.left:Y.left=k+"px","number"!=typeof l?delete Y.top:Y.top=l+"px",M?delete Y.width:Y.width=L+"px",O?delete Y.height:Y.height=N+"px",F?Y.minWidth=F+"px":delete Y.minWidth,G?Y.maxWidth=G+"px":delete Y.maxWidth,H?Y.minHeight=H+"px":delete Y.minHeight,I?Y.maxHeight=I+"px":delete Y.maxHeight,this.state.style=Y;var Z=[];return E.comps.forEach(function(a){a&&Z.push(a)}),Z}},{key:"render",value:function(){if(ia(this),this.hideThis)return null;var b=this.prepareState(),c=P(this);return k.createElement("div",c,b)}}]),a}();n.Widget_=Pa;var Qa=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"BodyPanel",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["keyid."]="body",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.defineDual("innerSize",function(a,b){throw new Error("duals.innerSize is readonly")},[c.parentWidth,c.parentHeight]),c}},{key:"componentDidMount",value:function(){d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentDidMount",this).call(this);var c=this.$gui;c.onWinResize&&window.addEventListener("resize",c.onWinResize,!1);var e=l.findDOMNode(this);e&&E(e)}},{key:"componentWillUnmount",value:function(){var c=this.$gui;c.onWinResize&&(window.removeEventListener("resize",c.onWinResize,!1),c.onWinResize=null),d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentWillUnmount",this).call(this)}}]),b}(Pa);n.BodyPanel_=Qa,n.BodyPanel=new Qa;var Ra=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Panel",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200),g="[any]: null for auto, 0~1 for percent, 0.9999 for 100%, N pixels, -0.xx for spared percent",h=f.width,i=f.height;return h&&(h[3]=g),i&&(i[3]=g),f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.className="rewgt-panel",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.widget&&this.widget.parent===t&&((this.props.left||0)>0||(this.props.top||0)>0)&&(this.duals.style={position:"absolute"}),c}},{key:"isRow",value:function(){return!I(this.props.className+" "+this.state.klass,["col-reverse","reverse-col"])}},{key:"isReverse",value:function(){return I(this.props.className+" "+this.state.klass,["reverse-row","reverse-col"])}}]),b}(Pa);n.Panel_=Ra,n.Panel=new Ra;var Sa=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Unit",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200),g="[any]: null for auto, 0~1 for percent, 0.9999 for 100%, N pixels, -0.xx for spared percent",h=f.width,i=f.height;return h&&(h[3]=g),i&&(i[3]=g),f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.className="rewgt-unit",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.widget&&this.widget.parent===t&&(this.duals.style={position:"absolute"}),c}}]),b}(Pa);n.Unit_=Sa,n.Unit=new Sa;var Ta=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"SplitDiv",c));return d._defaultProp.width=4,d._defaultProp.height=4,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.width=4,c.height=4,c}},{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200),g="[number]: 0~1 for percent, 0.9999 for 100%, N pixels";return f.width=[e+1,"number",null,g],f.height=[e+2,"number",null,g],f}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);this.$gui.comps=[];var e=null,f=this.widget;if(f&&(e=f.parent,e=e&&e.component),!e)return o.instantShow("error: no owner widget for SplitDiv"),c;if(!I(e.props.className,"rewgt-panel"))return o.instantShow("error: owner of widget ("+f.getPath()+") is not rewgt-panel"),c;var g=!0;return I(e.props.className+" "+e.props.klass,["col-reverse","reverse-col"])&&(g=!1),Object.assign(this.$gui,{inRow:g,reversed:!1,inDrag:!1,dragStartX:0,dragStartY:0,resizeOwner:void 0,resizeTarg:void 0,sizingFunc:null}),this.defineDual("id__",function(a,b){if(1==b){var c=this.state;g?(("number"!=typeof c.width||c.width<1)&&(c.width=4),c.width>=1&&(c.minWidth=c.width,c.maxWidth=c.width),this.props.height>=1&&this.props.height<=4&&(c.height=.9999),void 0===this.props.minHeight&&(c.minHeight=10)):(("number"!=typeof c.height||c.height<1)&&(c.height=4),c.height>=1&&(c.minHeight=c.height,c.maxHeight=c.height),this.props.width>=1&&this.props.width<=4&&(c.width=.9999),void 0===this.props.minWidth&&(c.minWidth=10));var d={cursor:g?"ew-resize":"ns-resize"},e=!1;for(var f in c.style)if(f.startsWith("background")){e=!0;break}e||(d.backgroundColor="#ddd"),c.style=Object.assign({},c.style,d)}}),c}},{key:"$$onMouseDown",value:function(b){function e(a,b){var c=d.resizeOwner,e=d.resizeTarg;if(c&&e){var f=!1,g=-1,h=-1;if(d.inRow){g=e.state.width;var i=a-d.dragStartX;if(0!=i){var j=e.state.minWidth,k=e.state.maxWidth,l=g<1?g*e.state.parentWidth:g;if(g=d.reversed?l-i:l+i,j&&g<j&&(g=j),k&&g>k&&(g=k),g<1&&(g=1),g!=l){var n=g-l;d.reversed&&(n=-n),n!=i&&(a+=n-i),d.dragStartX=a,d.dragStartY=b,d.sizingFunc?d.sizingFunc(e,g,h,!d.inDrag):(e.state.width=g,Ma(c,!d.inDrag,function(){e.reRender()})),f=!0}}}else{h=e.state.height;var o=b-d.dragStartY;if(0!=o){var p=e.state.minHeight,q=e.state.maxHeight,r=h<1?h*e.state.parentHeight:h;if(h=d.reversed?r-o:r+o,p&&h<p&&(h=p),q&&h>q&&(h=q),h<1&&(h=1),h!=r){var n=h-r;d.reversed&&(n=-n),n!=o&&(b+=n-o),d.dragStartX=a,d.dragStartY=b,d.sizingFunc?d.sizingFunc(e,g,h,!d.inDrag):(e.state.height=h,Ma(c,!d.inDrag,function(){e.reRender()})),f=!0}}}f||d.inDrag||!(g>=1||h>=1)||(d.sizingFunc?d.sizingFunc(e,g,h,!0):Ma(c,!0,function(){e.reRender()}))}}function f(a){if(!d.inDrag){var b=c.widget;b=b&&b.parent;var f=b&&b.component;if(!f)return;if(!f.$gui.isPanel)return;if(Array.isArray(f.props.sizes))return;var g=!1,h=d.inRow;if(h?Math.abs(a.clientX-d.dragStartX)>=4&&(g=!0):Math.abs(a.clientY-d.dragStartY)>=4&&(g=!0),g){for(var i=c.prevSibling();i;){var j=h?i.state.width:i.state.height,k=h?i.state.minWidth:i.state.minHeight,l=h?i.state.maxWidth:i.state.maxHeight;if("number"==typeof j&&j>0&&(0==k||0==l||k!=l)){d.reversed=I(f.props.className+" "+f.state.klass,["reverse-row","reverse-col"]),d.resizeOwner=f,d.resizeTarg=i,d.inDrag=!0,o.dragInfo.inDragging=!0;break}i=i.prevSibling()}var m,n;if(!d.inDrag&&!c.nextSibling()&&(m=b.parent)&&(n=m.component)&&f.$gui.sparedTotal>.989&&f.$gui.sparedTotal<=1.01){var j=h?f.state.width:f.state.height,k=h?f.state.minWidth:f.state.minHeight,l=h?f.state.maxWidth:f.state.maxHeight;if("number"==typeof j&&j>0&&.9999!=j&&(0==k||0==l||k!=l)&&(d.reversed=I(n.props.className+" "+n.state.klass,["reverse-row","reverse-col"]),d.resizeOwner=n,d.resizeTarg=f,d.inDrag=!0,o.dragInfo.inDragging=!0),!d.inDrag&&"number"==typeof j&&j>0&&n.$gui.sparedTotal>.989&&n.$gui.sparedTotal<=1.01){var p=m.parent,q=p&&p.component;if(q){var j=h?n.state.width:n.state.height,k=h?n.state.minWidth:n.state.minHeight,l=h?n.state.maxWidth:n.state.maxHeight;"number"==typeof j&&j>0&&.9999!=j&&(0==k||0==l||k!=l)&&(d.reversed=I(q.props.className+" "+q.state.klass,["reverse-row","reverse-col"]),d.resizeOwner=q,d.resizeTarg=n,d.inDrag=!0,o.dragInfo.inDragging=!0)}}if(d.inDrag){var r=d.resizeOwner.$gui.onCellSizing;r&&(d.sizingFunc=r)}}}}d.inDrag&&(a.stopPropagation(),e(a.clientX,a.clientY))}function g(a){o.dragInfo.inDragging=!1,d.inDrag=!1,setTimeout(function(){y=!1},300),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g),a.stopPropagation(),e(a.clientX,a.clientY),d.resizeOwner=null,d.resizeTarg=null,d.sizingFunc=null}var c=this,d=this.$gui;d.dragStartX=b.clientX,d.dragStartY=b.clientY,d.inDrag=!1,y=!0,document.addEventListener("mouseup",g,!1),document.addEventListener("mousemove",f,!1),b.stopPropagation(),this.$onMouseDown&&this.$onMouseDown(b)}},{key:"$onClick",value:function(b){b.stopPropagation()}}]),b}(Sa);n.SplitDiv_=Ta,n.SplitDiv=new Ta;var Ua=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"GridPanel",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.sizes=[e+1,"any",null,"[any]: [0.2,0.3,-0.4,-0.6], negative value stand for left space"],f.cellSpacing=[e+2,"number",null,"[number]: 0,1,2,..."],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.sizes=[.3,.3,-1],c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);if(!Array.isArray(this.props.sizes))return c;var e=this.$gui;return e.inRow=!I(e.className+" "+this.props.klass,["col-reverse","reverse-col"]),this.defineDual("cellSpacing",function(a,b){e.comps.length&&(e.useSparedX||e.useSparedY)&&(e.respared=!0)}),this.defineDual("sizes",function(a,b){if(Array.isArray(a)){a=this.state.sizes=a.slice(0);var c=!1,d=!1,f=0,g=this.widget===t;!g&&e.isPanel||(a.splice(0),c=!0,g&&console.log("error: only none-topmost panel can use props.sizes"));for(var h=a.length-1;h>=0;h--){var i=a[h];"number"!=typeof i||isNaN(i)?(a[h]=null,c=!0):i<0&&(d=!0,f+=-i)}var j=!1,k=!1;I(this.props.className+" "+this.state.klass,["col-reverse","reverse-col"])?k=!0:j=!0;var l=!ma(a,b);if(!c&&d&&(j||k)){e.sparedTotal=f;var m=e.useSparedX,n=e.useSparedY;j?e.useSparedX=!0:e.useSparedY=!0,l||m==e.useSparedX&&n==e.useSparedY||(l=!0)}else e.sparedTotal=0,e.useSparedX=!1,e.useSparedY=!1;l&&(e.comps.length&&(e.removeNum+=1),e.respared=!0,this.reRender())}else this.state.sizes=null,e.sparedTotal=0,e.useSparedX=!1,e.useSparedY=!1,Array.isArray(b)&&(e.comps.length&&(e.removeNum+=1),this.reRender())},null),this.defineDual("childNumId",function(a,b){var c=this.state.sizes,d=Array.isArray(c);if(d){var f=0,g=c.length;e.comps.forEach(function(a,b){if(a){if(I(a.props.className,"rewgt-static"))return void f++;if(a.props["isReference."])return void f++;if(void 0===a.props["childInline."])return void f++;var d=c[f++%g];e.inRow?a.props.width!==d&&(e.comps[b]=k.cloneElement(a,{width:d})):a.props.height!==d&&(e.comps[b]=k.cloneElement(a,{height:d}))}})}}),e.onCellSizing=function(a,b,c,d){var e=a.$gui.keyid,f=this.state.sizes;if(Array.isArray(f)){var g=this.$gui,h=g.compIdx[e],i=null,j=this.widget;if("number"==typeof h&&h>=0&&(i=g.comps[h]),i&&j){var k=f.length;if(g.inRow){if("number"==typeof b&&b>=0){b<1&&("number"!=typeof this.cssWidth?b=null:b*=this.cssWidth);var l=h%k;f[l]=b;var m=[];for(var n in g.compIdx){var o=g.compIdx[n];if("number"==typeof o&&o>=0&&o%k==l){var p=j[n];p=p&&p.component,p&&(p.state.width=b,m.push(p))}}Ma(this,d,function(){for(var b,a=0;b=m[a];a++)b.reRender()})}else if("number"==typeof c&&c>=0){var l=Math.floor(h/k),q=l+k;for(var n in g.compIdx){var o=g.compIdx[n];if("number"==typeof o&&o>=l&&o<q){var p=j[n];if(p=p&&p.component){var r=p.state.height;if("number"==typeof r&&r>=0){var s=p.state.minHeight,t=p.state.maxHeight,u=c;"number"==typeof c&&c<1&&(u="number"!=typeof this.cssHeight?null:c*this.cssHeight),s&&("number"!=typeof u||u<s)&&(u=s),t&&("number"!=typeof u||u>t)&&(u=t),r!==u&&p.setState({height:u})}}}}}}else if("number"==typeof c&&c>=0){c<1&&("number"!=typeof this.cssHeight?c=null:c*=this.cssHeight);var l=h%k;f[l]=c;var m=[];for(var n in g.compIdx){var o=g.compIdx[n];if("number"==typeof o&&o>=0&&o%k==l){var p=j[n];p=p&&p.component,p&&(p.state.height=c,m.push(p))}}Ma(this,d,function(){for(var b,a=0;b=m[a];a++)b.reRender()})}else if("number"==typeof b&&b>=0){var l=Math.floor(h/k),q=l+k;for(var n in g.compIdx){var o=g.compIdx[n];if("number"==typeof o&&o>=l&&o<q){var p=j[n];if(p=p&&p.component){var r=p.state.width;if("number"==typeof r&&r>=0){var s=p.state.minWidth,t=p.state.maxWidth,u=b;"number"==typeof b&&b<1&&(u="number"!=typeof this.cssWidth?null:b*this.cssWidth),s&&("number"!=typeof u||u<s)&&(u=s),t&&("number"!=typeof u||u>t)&&(u=t),r!==u&&p.setState({width:u})}}}}}}}}.bind(this),c}},{key:"render",value:function(){if(ia(this),this.hideThis)return null;var b=this.prepareState();m.__design__&&b.push(k.createElement("div",{key:"$end",title:"end of GridPanel",style:{width:"100%",height:"10px",backgroundColor:"#eee"}}));var c=P(this);return k.createElement("div",c,b)}}]),b}(Ra);n.GridPanel_=Ua,n.GridPanel=new Ua;var Va=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"TableRow",c));return d._slientProp.push("isTableRow."),d._defaultProp.height=void 0,d}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){return e=e||1200,d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200)}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="tr",c["isTableRow."]=!0,c.className="rewgt-unit",c.height=null,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);if(m.__design__){var e=this;this.defineDual("childNumId",function(a,b){var c=e.widget,d=c&&c.parent;d=d&&d.component,d&&setTimeout(function(){d.reRender()},0)})}return c}},{key:"render",value:function(){var b=this.cssWidth,c=this.cssHeight;if(ia(this),this.hideThis)return null;var d=this.cssWidth=this.state.parentWidth,e="number"!=typeof d||d<0,g=this.state.parentHeight,h=this.state.height,i="number"!=typeof h||h<0;i?g=this.cssHeight=null:h>=1?g=this.cssHeight=h:"number"==typeof g?h>=.9999?(this.cssHeight=g,("number"!=typeof g||g<0)&&(i=!0)):g=this.cssHeight=g*h:(g=this.cssHeight=null,i=!0);var j=b!==d,l=this.widget,m=this.$gui.comps,n=[];if(m.forEach(function(a){if(a){var b=M(a);if(b){var c,d,e,g,h,m=l&&l[b];m=m&&m.component,m?(c=m.state.width,d=m.state.height,e=m.state.colSpan,g=m.state.rowSpan,h=m.state.tdStyle):(c=a.props.width,d=a.props.height,e=a.props.colSpan,g=a.props.rowSpan,h=a.props.tdStyle);var o=b,p=parseInt(b);p+""===b&&(o=p);var q={key:b,"keyid.":o};e=parseInt(e),g=parseInt(g),e&&(q.colSpan=e+""),g&&(q.rowSpan=g+"");var r=null,s=null,t=!1,u=i;"number"==typeof c&&c>=0&&(r=c,q.style={width:c>=1?c+"px":c>=.9999?"100%":100*c+"%"}),"object"==("undefined"==typeof h?"undefined":f(h))&&(q.style=Object.assign(q.style||{},h)),"number"==typeof d&&d>=0?d>=1?(s=d,u=!1):i?t=!0:s=d:u=!0,(j&&null!==r||t)&&(a=k.cloneElement(a,{width:r,height:s})),n.push(k.createElement("td",q,a))}}}),this.isHooked&&(!e&&b!==d||!i&&c!==g||o.dragInfo.justResized)){var p=this;setTimeout(function(){va(p,o.dragInfo.inDragging)},0)}var q=Object.assign({},this.state.style);!i&&g>=0?q.height=g+"px":delete q.height;var r=P(this,q);return k.createElement("tr",r,n)}}]),b}(Sa);n.TableRow_=Va,n.TableRow=new Va;var Wa=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"TablePanel",c));return d._defaultProp.height=void 0,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.className="rewgt-unit rewgt-table",c.height=null,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this),e=this;return this.defineDual("childNumId",function(a,b){e.$gui.respared=!0}),c}},{key:"render",value:function(){var b=this.cssWidth,c=this.cssHeight;if(ia(this),this.hideThis)return null;var d=this.prepareState();if(this.isHooked&&("number"==typeof this.cssWidth&&b!==this.cssWidth||"number"==typeof this.cssHeight&&c!==this.cssHeight||o.dragInfo.justResized)){var e=this;setTimeout(function(){va(e,o.dragInfo.inDragging)},0)}var f=this.widget;if(m.__design__&&f){var g=2,h=[];d.forEach(function(a){if(a){var b=0,c=0,d=!1,e=Aa(a,f);e.forEach(function(a){if("noscript"!=a.props["tagName."]){for(var e=h[b]||0;e>=2;)h[b++]=e-1,c+=1,e=h[b]||0;var f=parseInt(a.props.rowSpan||0),g=parseInt(a.props.colSpan||0);if(g>=2)for(;g>=2;){g-=1;var i=Math.max(0,(h[b]||0)-1);h[b++]=Math.max(i,f),c+=1}var j=a.props.width;("number"!=typeof j||j<0)&&(d=!0),h[b++]=f,c+=1}}),h.splice(b),d||(c+=1),c>g&&(g=c)}});for(var i={style:{margin:"10px"}},j={style:{margin:"2px"}},l=[],n=0;n<g;n+=1)l.push(k.createElement("td",{key:n+""},k.createElement("div",0==n?i:j)));d.push(k.createElement("tr",{key:"$end",title:"end of TablePanel",style:{backgroundColor:"#eee",height:"10px"}},l))}var p=k.createElement("tbody",null,d),q=P(this);return k.createElement("table",q,p)}}]),b}(Ra);n.TablePanel_=Wa,n.TablePanel=new Wa;var Xa=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Div",c));return d._slientProp.push("tagName."),d._defaultProp.height=void 0,d._defaultProp.minHeight=20,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.width=.9999,c.height=null,c.minHeight=20,c["tagName."]="div",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this),e=this;if(this.defineDual("html.",function(a,b){e.state["html."]=a||null},null),m.__debug__){var f=this.widget;f=f&&f.parent,f=f&&f.component,!f||I(f.props.className,["rewgt-panel","rewgt-unit"])||f.props["isScenePage."]||o.instantShow("warning: "+this._._className+" should be used in panel widget or ScenePage")}return c}},{key:"render",value:function(){if(ia(this),this.hideThis)return null;var b=this.prepareState(),c=P(this);return k.createElement(this.props["tagName."],c,b.length?b:this.state["html."])}}]),b}(Sa);n.Div_=Xa,n.Div=new Xa;var Ya=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Article",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="article",c}}]),b}(Xa);n.Article_=Ya,n.Article=new Ya;var Za=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Section",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="section",c}}]),b}(Xa);n.Section_=Za,n.Section=new Za;var $a=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Header",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="header",c}}]),b}(Xa);n.Header_=$a,n.Header=new $a;var _a=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Footer",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="footer",c}}]),b}(Xa);n.Footer_=_a,n.Footer=new _a;var ab=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Aside",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="aside",c}}]),b}(Xa);n.Aside_=ab,n.Aside=new ab;var bb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Nav",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="nav",c}}]),b}(Xa);n.Nav_=bb,n.Nav=new bb;var cb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Main",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="main",c}}]),b}(Xa);n.Main_=cb,n.Main=new cb;var db=[6,0,6,0],eb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"P",c));return d._slientProp.push("tagName."),d._defaultProp.width=void 0,d._defaultProp.height=void 0,d._defaultProp.margin=db.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.width=null,c.height=null,c.margin=db.slice(0),c["childInline."]=!0,c["tagName."]="p",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this),e=this;return this.defineDual("html.",function(a,b){e.state["html."]=a||null},null),c}},{key:"render",value:function(){if(ia(this),this.hideThis)return null;var b=this.prepareState(),c=P(this);return k.createElement(this.props["tagName."],c,b.length?b:this.state["html."])}}]),b}(Sa);n.P_=eb,n.P=new eb;var fb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Noscript",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="noscript",delete c.margin,c}},{key:"render",value:function(){return ia(this),null}}]),b}(eb);n.Noscript_=fb,n.Noscript=new fb;var gb=[10,10,10,10],hb=[2,2,2,2],ib=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Fieldset",c));return d._defaultProp.padding=gb.slice(0),d._defaultProp.borderWidth=hb.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.padding=gb.slice(0),c.borderWidth=hb.slice(0),c["tagName."]="fieldset",c}}]),b}(eb);n.Fieldset_=ib,n.Fieldset=new ib;var jb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Details",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="details",c}}]),b}(eb);n.Details_=jb,n.Details=new jb;var kb=[0,0,0,20],lb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Ul",c));return d._defaultProp.padding=kb.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="ul",c.padding=kb.slice(0),c}}]),b}(eb);n.Ul_=lb,n.Ul=new lb;var mb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Ol",c));return d._defaultProp.padding=kb.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="ol",c.padding=kb.slice(0),c}}]),b}(eb);n.Ol_=mb,n.Ol=new mb;var nb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Li",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="li",c}}]),b}(eb);n.Li_=nb,n.Li=new nb;var ob=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Dl",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="dl",c}}]),b}(eb);n.Dl_=ob,n.Dl=new ob;var pb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Dd",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="dd",c}}]),b}(eb);n.Dd_=pb,n.Dd=new pb;var qb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Dt",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="dt",c}}]),b}(eb);n.Dt_=qb,n.Dt=new qb;var rb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Figure",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="figure",c}}]),b}(eb);n.Figure_=rb,n.Figure=new rb;var sb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Figcaption",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="figcaption",c}}]),b}(eb);n.Figcaption_=sb,n.Figcaption=new sb;var tb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Menu",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="menu",c}}]),b}(eb);n.Menu_=tb,n.Menu=new tb;var ub=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Menuitem",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="menuitem",c}}]),b}(eb);n.Menuitem_=ub,n.Menuitem=new ub;var vb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Address",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="address",c}}]),b}(eb);n.Address_=vb,n.Address=new vb;var wb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Form",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="form",c}}]),b}(eb);n.Form_=wb,n.Form=new wb;var xb=[0,0,0,0],yb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Iframe",c));return d._defaultProp.margin=xb.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="iframe",c.margin=xb.slice(0),c}}]),b}(eb);n.Iframe_=yb,n.Iframe=new yb;var zb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Video",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="video",c}}]),b}(eb);n.Video_=zb,n.Video=new zb;var Ab=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Canvas",c));
}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="canvas",c}}]),b}(eb);n.Canvas_=Ab,n.Canvas=new Ab;var Bb=[0,30,0,30],Cb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Blockquote",c));return d._defaultProp.padding=Bb.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.padding=Bb.slice(0),c["tagName."]="blockquote",c}}]),b}(eb);n.Blockquote_=Cb,n.Blockquote=new Cb;var Db=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Table",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="table",c}}]),b}(eb);n.Table_=Db,n.Table=new Db;var Eb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Caption",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="caption",c}}]),b}(eb);n.Caption_=Eb,n.Caption=new Eb;var Fb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Col",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="col",c}}]),b}(eb);n.Col_=Fb,n.Col=new Fb;var Gb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Colgroup",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="colgroup",c}}]),b}(eb);n.Colgroup_=Gb,n.Colgroup=new Gb;var Hb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Td",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="td",c}}]),b}(eb);n.Td_=Hb,n.Td=new Hb;var Ib=[0,0,0,0],Jb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Tbody",c));return d._defaultProp.margin=Ib.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="tbody",c.margin=Ib.slice(0),c}},{key:"render",value:function(){if(m.__design__){if(ia(this),this.hideThis)return null;var c=this.prepareState(),e=k.createElement("tr",{key:"$end",title:"end of Tbody",style:{height:"10px"}},k.createElement("td"));c.push(e);var f=P(this);return k.createElement(this.props["tagName."],f,c.length?c:this.state["html."])}return d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this)}}]),b}(eb);n.Tbody_=Jb,n.Tbody=new Jb;var Kb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Thead",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="thead",c}}]),b}(eb);n.Thead_=Kb,n.Thead=new Kb;var Lb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Tfoot",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="tfoot",c}}]),b}(eb);n.Tfoot_=Lb,n.Tfoot=new Lb;var Mb=[0,0,0,0],Nb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Th",c));return d._defaultProp.margin=Mb.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="th",c.margin=Mb.slice(0),c}}]),b}(eb);n.Th_=Nb,n.Th=new Nb;var Ob=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Tr",c));return d._defaultProp.margin=Mb.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="tr",c.margin=Mb.slice(0),c}}]),b}(eb);n.Tr_=Ob,n.Tr=new Ob;var Pb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Hgroup",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="hgroup",c}}]),b}(eb);n.Hgroup_=Pb,n.Hgroup=new Pb;var Qb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"H1",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="h1",c}}]),b}(eb);n.H1_=Qb,n.H1=new Qb;var Rb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"H2",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="h2",c}}]),b}(eb);n.H2_=Rb,n.H2=new Rb;var Sb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"H3",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="h3",c}}]),b}(eb);n.H3_=Sb,n.H3=new Sb;var Tb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"H4",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="h4",c}}]),b}(eb);n.H4_=Tb,n.H4=new Tb;var Ub=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"H5",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="h5",c}}]),b}(eb);n.H5_=Ub,n.H5=new Ub;var Vb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"H6",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="h6",c}}]),b}(eb);n.H6_=Vb,n.H6=new Vb;var Wb=[1,1,1,1],Xb=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Hr",c));return d._defaultProp.width=.9999,d._defaultProp.borderWidth=Wb.slice(0),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.width=.9999,c.borderWidth=Wb.slice(0),c["tagName."]="hr",c}}]),b}(eb);n.Hr_=Xb,n.Hr=new Xb;var Yb=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Pre",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="pre",c}}]),b}(eb);n.Pre_=Yb,n.Pre=new Yb;var Zb={style:{display:"none"}},$b=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Span",c));return d._statedProp=[],d._slientProp=["className","hookTo.","keyid.","childInline.","tagName."],d._defaultProp={width:void 0,height:void 0},d}return h(b,a),e(b,[{key:"_getSchema",value:function(b,c){return{key:[-1,"string"],width:[],height:[]}}},{key:"getDefaultProps",value:function(){return{"childInline.":!0,"tagName.":"span"}}},{key:"getInitialState",value:function(){var b=this.getShadowTemplate();if(Object.defineProperty(this,"_",{enumerable:!1,configurable:!1,writable:!1,value:b}),this.isHooked=!1,this.hideThis=!1,m.__debug__&&0==o.widgetNum())return o.instantShow("error: inline widget can not be used as topmost panel."),{};this.duals={};var c={inSync:!1,removeNum:0,className:this.props.className||"",compState:0,duals:{},initDuals:[],initDuals0:[],connectTo:{},connectBy:{},id__:0,id2__:0},d=c.eventset={},e=c.tagAttrs=[],g=c.dualAttrs={},h=c.dataset=[],i=c.exprAttrs=[],j="",l="",n="";c.forExpr=!1,c.hasIdSetter=!1;var p={},r=this.$eventset||[{},{}],s=r[0],v=r[1];delete this.$eventset;for(var A,w=null,y=Object.keys(this.props),z=0;A=y[z];z++)if(0==A.indexOf("data-"))"data-unit.path"!=A&&"data-span.path"!=A||(j=A,l=this.props[A]),h.push(A);else if(0==A.indexOf("dual-")){var B=A.slice(5).replace(Oa,function(a,b){return b.toUpperCase()});B&&(g[B]=A)}else if(0==A.indexOf("aria-"))h.push(A);else if("$"==A[0]&&A.length>1){var D=this.props[A],E="undefined"==typeof D?"undefined":f(D);if("string"==E){if("$id__"!=A){var F=!1;A=A.slice(1),"$for"==A&&(A="for",F=!0),C.indexOf(A)>=0?"for"==A?c.forExpr?console.log("warning: reduplicate property ($for)"):(c.forExpr=F?2:1,i.push(A)):n?console.log("error: property ($"+A+") conflict with previous ($"+n+")"):(n=A,"else"!=A&&i.push(A)):"key"!=A&&i.push(A);continue}D=q[D],E="undefined"==typeof D?"undefined":f(D)}if("function"==E){if("$"==A[1]){console.log("warning: invalid using props."+A);continue}A=A.slice(1),"id__"==A?(w=D,c.hasIdSetter=!0):v[A]||(p[A]=D.bind(this))}}else{var G=Ia[A];G&&5!=G&&e.push(A)}c.flowFlag=n,c.dataset2=h.slice(0);for(var H in s)d[H]=this["$"+H];for(var H in p)d[H]=p[H];for(var H in v)d[H]=this["$$"+H];Object.defineProperty(this,"$gui",{enumerable:!1,configurable:!1,writable:!1,value:c}),m.__design__&&(c.className=J(c.className,"rewgt-inline"));var L=(Object.assign({},this.props.style),{id__:0,childNumId:0,duals:[],exprAttrs:i.slice(0)});if(m.__design__){var N=b._getGroupOpt(this);L["data-group.opt"]=N.type+"/"+N.editable}var O=this.props["keyid."];if(O){var P="undefined"==typeof O?"undefined":f(O);"string"!=P&&"number"!=P&&(O=void 0)}var Q=this.props["hookTo."];"string"==typeof Q&&(Q=m.W(Q)),Array.isArray(Q)&&Q.W&&(void 0!==O?Q.$set(O,Q.W(this)):O=Q.push(Q.W(this))-1,c.keyid=O),c.compIdx={},c.comps=k.Children.toArray(this.props.children),Object.defineProperty(this.duals,"keyid",{enumerable:!0,configurable:!0,get:function(){return this.$gui.keyid}.bind(this),set:function(b,c){throw new Error("property (keyid) is readonly")}}),this.defineDual("klass",function(a,b){this.state.klass=a||""},""),this.defineDual("style",function(a,b){this.state.style=Object.assign({},b,a)},{}),this.defineDual("html.",function(a,b){this.state["html."]=a||null},null),this.defineDual("id__",function(a,b){this.state.id__=a,c.id__=c.id2__=a}),w&&this.defineDual("id__",w),this.defineDual("trigger",Na(this));var R=this.widget;if(Q&&R&&j){R.$callspace={flowFlag:"ref",forSpace:null},R.$callspace[j]=l;var S=R.$callspace.exprSpace={};$(S,this)}return this.defineDual("childNumId",function(a,b){this.state.childNumId=a;var d=this,e=this.widget;if(e){0==b&&e.parent===t&&console.log("warning: can not hook inline widget to topmost directly.");var f=c.compIdx,g=c.comps;g.forEach(function(a,b){if("string"==typeof a)a=g[b]=k.createElement(_b,{"html.":a});else if(!a)return;var h,i=M(a),j=!1;if(i){var l=parseInt(i);h=l+""===i?l:i,"number"==typeof f[i]&&(j=!0)}else h=b+c.removeNum,i=h+"";if(I(a.props.className,"rewgt-static")){if(j)return void(f[h]=b);var n=Object.assign({},a.props);return n["keyid."]=h,n.key=i,!m.__design__||d.props.$for||d.props.$$for||(n.onMouseDown=sa,n.onDoubleClick=ta.bind(d)),f[h]=b,void(g[b]=k.createElement("span",n))}var o=a.props["childInline."];return void 0===o?(f[h]=b,void(j||(g[b]=k.cloneElement(a,{"keyid.":h,key:i})))):o?(!j&&a.props["isReference."]&&("$"!=i[0]&&(i=h="$"+i),u&&x.push([d,h])),j&&e!==a.props["hookTo."]&&(j=!1),f[h]=b,void(j||(g[b]=k.cloneElement(a,{"hookTo.":e,key:i,"keyid.":h})))):void(g[b]=void 0)})}}),L}},{key:"willResizing",value:function(b,c,d){return!1}},{key:"prepareState",value:function(){console.log("warning: inline widget not support prepareState()")}},{key:"render",value:function(){if(ia(this),this.hideThis)return k.createElement("span",Zb);var b=P(this),c=this.$gui.comps,d=c.length?c:this.state["html."];return k.createElement(this.props["tagName."],b,d)}}]),b}(Pa);n.Span_=$b,n.Span=new $b;var _b=k.createClass(n.Span._extend()),ac=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Br",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="br",c}}]),b}($b);n.Br_=ac,n.Br=new ac;var bc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"A",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="a",c}},{key:"$$onClick",value:function(b){m.__design__&&b.preventDefault(),this.$onClick&&this.$onClick(b)}}]),b}($b);n.A_=bc,n.A=new bc;var cc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Q",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="q",c}}]),b}($b);n.Q_=cc,n.Q=new cc;var dc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Abbr",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="abbr",c}}]),b}($b);n.Abbr_=dc,n.Abbr=new dc;var ec=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Audio",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.src=[e+1,"string",null],f.autoplay=[e+2,"string",["","autoplay"]],f.controls=[e+3,"string",["","controls"]],f.loop=[e+4,"string",["","loop"]],f.muted=[e+5,"string",["","muted"]],f.preload=[e+6,"string",["auto","meta","none"]],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="audio",c}}]),b}($b);n.Audio_=ec,n.Audio=new ec;var fc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Source",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="source",c}}]),b}($b);n.Source_=fc,n.Source=new fc;var gc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Track",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="track",c}}]),b}($b);n.Track_=gc,n.Track=new gc;var hc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Bdi",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="bdi",c}}]),b}($b);n.Bdi_=hc,n.Bdi=new hc;var ic=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Bdo",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="bdo",c}}]),b}($b);n.Bdo_=ic,n.Bdo=new ic;var jc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Data",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="data",c}}]),b}($b);n.Data_=jc,n.Data=new jc;var kc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Mark",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="mark",c}}]),b}($b);n.Mark_=kc,n.Mark=new kc;var lc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Wbr",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="wbr",c}}]),b}($b);n.Wbr_=lc,n.Wbr=new lc;var mc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Button",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="button",c}}]),b}($b);n.Button_=mc,n.Button=new mc;var nc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Textarea",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.disabled=[e+1,"string",["","disabled"]],f.readonly=[e+2,"string",["","readonly"]],f.placeholder=[e+3,"string"],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="textarea",c}}]),b}($b);n.Textarea_=nc,n.Textarea=new nc;var oc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Progress",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.value=[e+1,"string"],f.max=[e+2,"string"],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="progress",c}}]),b}($b);n.Progress_=oc,n.Progress=new oc;var pc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Img",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="img",c}},{key:"$$onDragStart",value:function(b){return m.__design__?void b.preventDefault():void(this.$onDragStart&&this.$onDragStart(b))}}]),b}($b);n.Img_=pc,n.Img=new pc;var qc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Picture",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="picture",c}}]),b}($b);n.Picture_=qc,n.Picture=new qc;var rc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Map",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="map",c}}]),b}($b);n.Map_=rc,n.Map=new rc;var sc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Area",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="area",c}}]),b}($b);n.Area_=sc,n.Area=new sc;var tc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Time",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="time",c}}]),b}($b);n.Time_=tc,n.Time=new tc;var uc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Output",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="output",c}}]),b}($b);n.Output_=uc,n.Output=new uc;var vc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Input",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return Object.assign(f,{type:[e+1,"string",["text","button","checkbox","file","hidden","image","password","radio","reset","submit","color","date","datetime","datetime-local","email","month","number","range","search","tel","time","url","week"]],checked:[e+2,"string",["","checked"]],disabled:[e+3,"string",["","disabled"]],readonly:[e+4,"string",["","readonly"]],value:[e+5,"string"],placeholder:[e+6,"string"],min:[e+7,"string"],max:[e+8,"string"],step:[e+9,"string"],pattern:[e+10,"string"],src:[e+11,"string"],required:[e+12,"string",["","required"]]}),f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="input",c.type="text",c}},{key:"$$onChange",value:function(b){this.setState({value:b.target.value}),this.$onChange&&this.$onChange(b)}}]),b}($b);n.Input_=vc,n.Input=new vc;var wc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Keygen",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="keygen",c}}]),b}($b);n.Keygen_=wc,n.Keygen=new wc;var xc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Label",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.htmlFor=[e+1,"string",null,"[string]: indicate which input widget"],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="label",c}}]),b}($b);n.Label_=xc,n.Label=new xc;var yc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Legend",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="legend",c}}]),b}($b);n.Legend_=yc,n.Legend=new yc;var zc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Sub",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="sub",c}}]),b}($b);n.Sub_=zc,n.Sub=new zc;var Ac=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Sup",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="sup",c}}]),b}($b);n.Sup_=Ac,n.Sup=new Ac;var Bc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Select",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.multiple=[e+1,"string",["","multiple"]],f.disabled=[e+2,"string",["","disabled"]],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="select",c}},{key:"syncSelected",value:function(b){if(b||(b=l.findDOMNode(this)),b){var c=this.$gui.comps,d=this.widget;if(d){for(var h,e=[],f=b.options,g=0;h=f[g];g++)e.push(h.selected);var i=[];c.forEach(function(a){var b=a.props["tagName."];if("option"==b){var c=M(a);c&&i.push([c,a])}else if("optgroup"==b){var c=M(a);if(!c)return;var e=Aa(a,d),f=c+".";e.forEach(function(a){if("option"==a.props["tagName."]){var b=M(a);b&&i.push([f+b,a])}})}}),i.forEach(function(a,b){var c=a[0],g=(a[1],d.W(c));if(g=g&&g.component){var h=e[b],i=g.state["data-checked"];"string"==typeof i&&(!h&&i?g.duals.hasOwnProperty("data-checked")&&(g.duals["data-checked"]=""):h&&!i&&(g.setChecked?g.setChecked(null):g.duals.hasOwnProperty("data-checked")&&(g.duals["data-checked"]="1")))}})}}}},{key:"$$onChange",value:function(b){this.syncSelected(b.target),this.$onChange&&this.$onChange(b)}}]),b}($b);n.Select_=Bc,n.Select=new Bc;var Cc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Datalist",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="datalist",c}}]),b}(Bc);n.Datalist_=Cc,n.Datalist=new Cc;var Dc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Optgroup",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.label=[e+1,"string"],f.disabled=[e+2,"string",["","disabled"]],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="optgroup",c}}]),b}($b);n.Optgroup_=Dc,n.Optgroup=new Dc;var Ec=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Option",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="option",c}}]),b}($b);n.Option_=Ec,n.Option=new Ec;var Fc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"B",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="b",c}}]),b}($b);n.B_=Fc,n.B=new Fc;var Gc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"I",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="i",c}}]),b}($b);n.I_=Gc,n.I=new Gc;var Hc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"S",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="s",c}}]),b}($b);n.S_=Hc,n.S=new Hc;var Ic=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"U",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="u",c}}]),b}($b);n.U_=Ic,n.U=new Ic;var Jc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Ins",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="ins",c}}]),b}($b);n.Ins_=Jc,n.Ins=new Jc;var Kc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Del",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="del",c}}]),b}($b);n.Del_=Kc,n.Del=new Kc;var Lc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Code",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="code",c}}]),b}($b);n.Code_=Lc,n.Code=new Lc;var Mc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Var",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="var",c}}]),b}($b);n.Var_=Mc,n.Var=new Mc;var Nc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Summary",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="summary",c}}]),b}($b);n.Summary_=Nc,n.Summary=new Nc;var Oc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Em",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="em",c}}]),b}($b);n.Em_=Oc,n.Em=new Oc;var Pc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Strong",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="strong",c}}]),b}($b);n.Strong_=Pc,n.Strong=new Pc;var Qc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Big",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="big",c}}]),b}($b);n.Big_=Qc,n.Big=new Qc;var Rc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Small",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="small",c}}]),b}($b);n.Small_=Rc,n.Small=new Rc;var Sc=function(a){function b(a,c){
return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Dfn",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="dfn",c}}]),b}($b);n.Dfn_=Sc,n.Dfn=new Sc;var Tc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Samp",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="samp",c}}]),b}($b);n.Samp_=Tc,n.Samp=new Tc;var Uc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Kdb",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="kdb",c}}]),b}($b);n.Kdb_=Uc,n.Kdb=new Uc;var Vc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Cite",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="cite",c}}]),b}($b);n.Cite_=Vc,n.Cite=new Vc;var Wc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Dialog",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="dialog",c}}]),b}($b);n.Dialog_=Wc,n.Dialog=new Wc;var Xc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Meter",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.value=[e+1,"string"],f.high=[e+2,"string"],f.low=[e+3,"string"],f.max=[e+4,"string"],f.min=[e+5,"string"],f.optimum=[e+6,"string"],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="meter",c}}]),b}($b);n.Meter_=Xc,n.Meter=new Xc;var Yc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Embed",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="embed",c}}]),b}($b);n.Embed_=Yc,n.Embed=new Yc;var Zc=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Object",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="object",c}}]),b}($b);n.Object_=Zc,n.Object=new Zc;var $c=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Param",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="param",c}}]),b}($b);n.Param_=$c,n.Param=new $c;var _c=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Ruby",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="ruby",c}}]),b}($b);n.Ruby_=_c,n.Ruby=new _c;var ad=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Rp",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="rp",c}}]),b}($b);n.Rp_=ad,n.Rp=new ad;var bd=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"Rt",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="rt",c}}]),b}($b);n.Rt_=bd,n.Rt=new bd;var cd=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"NavPanel",c));return d._slientProp.push("isNavigator."),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isNavigator."]=1,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this),e=this.$gui;if(e.navHead=[],e.navItems={},e.inFiring=!1,e.forExpr){console.log("error: can not use '$for' in NavPanel or NavDiv"),e.forExpr=!1;var f=e.exprAttrs.indexOf("for");f>=0&&e.exprAttrs.splice(f,1)}return c.checkedId="",this.widget&&this.widget===t&&o.instantShow("error: NavPanel/NavDiv can not be used at topmost."),e.updateNavItems=function(){var a=e.comps,b=a.length;e.navHead=[],e.navItems={};for(var c=0;c<b;c++){var d=a[c];if(d)if(d.props["isPlayground."]){var f=M(d);f&&(e.navItems[f]=d)}else e.navHead.push(d)}},this.defineDual("childNumId",function(a,b){e.updateNavItems()}),c}},{key:"setChecked",value:function(b,c){if(b&&this.$gui.navItems[b]){var d=this.state.checkedId;if(d||0===d){var e=this.widget;if(e=e&&e[d],e=e&&e.component,e&&e.navWillLeave){var f=e.navWillLeave();if(!f||"string"==typeof f&&!window.confirm(f))return void(c&&c())}}return void this.setState({checkedId:b},c)}c&&c()}},{key:"getChecked",value:function(){return this.state.checkedId}},{key:"fireChecked",value:function(b,c){function g(a,b){var c=a.component;if(!c)return null;var d=[];c.$gui.comps.forEach(function(a){if(a){var b=M(a);b&&d.push(b)}});for(var e=d.length,f=0;f<e;f++){var h=d[f],i=a[h];if(i){var j=i&&i.W&&i.component;if(j)if(j.props["isOption."]){if(b==h)return j}else if(!j.props["isPlayground."]){var k=g(i,b);if(k)return k}}}return null}var d=this.widget;if((b||0===b)&&d){if(b==this.state.checkedId)return void(c&&c());var e=g(d,b);if(e&&e.setChecked){var f=this.$gui;return f.inFiring=!0,setTimeout(function(){f.inFiring=!1},300),void e.setChecked(c)}}c&&c()}},{key:"prepareState",value:function(){var c=this.cssWidth,e=this.cssHeight,f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"prepareState",this).call(this);if(!this.$gui.isPanel&&this.isHooked&&("number"==typeof this.cssWidth&&c!==this.cssWidth||"number"==typeof this.cssHeight&&e!==this.cssHeight||o.dragInfo.justResized)){var g=this;setTimeout(function(){va(g,o.dragInfo.inDragging)},0)}return f}},{key:"render",value:function(){if(ia(this),this.hideThis)return null;var c=(this.prepareState(),this.$gui),d=c.navHead.slice(0),e=this.state.checkedId;if(m.__design__){for(var f=c.comps,g=f.length,h=[],i=0;i<g;i++){var j=f[i];j&&j.props["isPlayground."]&&(d.push(j),h.push(j))}var l=this;setTimeout(function(){var a=l.widget;a&&h.forEach(function(b){var c=b&&M(b),d=c&&a[c];d=d&&d.component,d&&d.reRender()})},0)}else if(e||0===e){var j=c.navItems[e];j&&d.push(j)}var n=P(this);return k.createElement("div",n,d)}}]),b}(Ra);n.NavPanel_=cd,n.NavPanel=new cd;var dd=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"NavDiv",c));return d._slientProp.push("isNavigator."),d._defaultProp.height=void 0,d._defaultProp.minHeight=20,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.className="rewgt-unit",c["isNavigator."]=2,c["tagName."]="div",c.height=null,c.minHeight=20,c}}]),b}(cd);n.NavDiv_=dd,n.NavDiv=new dd;var fd=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"GroundPanel",c));return d._slientProp.push("isPlayground."),d._defaultProp.height=void 0,d._defaultProp.minHeight=20,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isPlayground."]=1,c.width=.9999,c.height=null,c.minHeight=20,c}},{key:"render",value:function(){return m.__design__?ed(this,1):d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this)}}]),b}(Ra);n.GroundPanel_=fd,n.GroundPanel=new fd;var gd=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"GroundDiv",c));return d._slientProp.push("tagName."),d._slientProp.push("isPlayground."),d._defaultProp.height=void 0,d._defaultProp.minHeight=20,d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.width=.9999,c.height=null,c.minHeight=20,c["tagName."]="div",c["isPlayground."]=2,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.defineDual("html.",function(a,b){this.state["html."]=a||null},null),c}},{key:"render",value:function(){if(m.__design__)return ed(this,2);if(ia(this),this.hideThis)return null;var b=this.prepareState(),c=P(this);return k.createElement(this.props["tagName."],c,b.length?b:this.state["html."])}}]),b}(Sa);n.GroundDiv_=gd,n.GroundDiv=new gd;var kd=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptSpan",c));return d._slientProp.push("isOption."),d}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200),g="[string:] 0 or 1";return f["data-checked"]=[e+1,"string",null,g],f.isolated=[e+2,"string",null,g],f.recheckable=[e+3,"string",null,g],f.trigger=[e+4,"string",null,"[string]: [sPath,{pop_option},sPath,[dual_data], ...]"],f.popOption=[e+5,"object",null,"[object]: {path:bodyElePath}"],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["data-checked"]="",c["isOption."]=!0,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.defineDual("isolated",function(a,b){this.state.isolated="false"!==a&&"0"!==a&&!!a},!1),this.defineDual("recheckable",function(a,b){this.state.recheckable="false"!==a&&"0"!==a&&!!a},!1),this.defineDual("popOption"),this.defineDual("data-checked",function(a,b){this.state["data-checked"]="false"!==a&&"0"!==a&&a?"1":""},""),this.undefineDual("trigger"),this.defineDual("trigger",function(a,b){this.state.trigger=a,hd(this,a,b)}),c}},{key:"componentDidMount",value:function(){d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentDidMount",this).call(this);var c=l.findDOMNode(this);if(c){var e=this,f=!1;if("option"==this.props["tagName."]?(f=!0,c.selected&&(this.state["data-checked"]="1")):c._syncChecked=function(a){var b=e.state["data-checked"]?"1":"",c=a?"1":"";b!=c&&(e.duals["data-checked"]=c)},this.state["data-checked"]){var g=!1;f&&!c.selected&&(c.selected=!0,g=!0),setTimeout(function(){var a=jd(e);if(a&&!a.$gui.inFiring){if(g){var b=e.widget;b=b&&b.parent;var c=b&&b.component;c&&"optgroup"==c.props["tagName."]&&(b=b.parent,c=b&&b.component),c&&c.syncSelected&&c.syncSelected()}e.setChecked(null)}},0)}}}},{key:"findNavOwner",value:function(){return jd(this)}},{key:"fireTrigger",value:function(){id(this)}},{key:"setChecked",value:function(b,c,d){function m(){var a;if("option"==h.props["tagName."]){var b=l.findDOMNode(h);if(b&&(!b.selected||c||f)){b.selected||(b.selected=!0);var d=h.widget;d=d&&d.parent;var e=d&&d.component;e&&"optgroup"==e.props["tagName."]&&(d=d.parent,e=d&&d.component),e&&e.syncSelected&&e.syncSelected()}}else if(a=h.state.name){if(e||(e=h.findNavOwner()),!e)return;var g=l.findDOMNode(e);if(!g)return;var b=l.findDOMNode(h),i=h.props["tagName."]||"div",j=[];try{j=g.querySelectorAll(i+'[name="'+a+'"]')}catch(a){}for(var m,k=0;m=j[k];k++)m!==b&&m._syncChecked&&m._syncChecked(!1)}}function n(){e&&(m(),h.fireTrigger()),b&&b()}var e=!1,f=this.state.recheckable,g=null,h=this,i=this.state.popOption;if(i&&d&&(i=this.state.popOption=Object.assign({},i,d)),i&&"string"==typeof i.path){if(!i.opened&&!this.state.isolated){var j=i.path;j||(j="./"+this.$gui.keyid);var k=this.componentOf(j);if(k=k&&k.fullClone())return void o.popWin.showWindow(k,i,function(){f&&(c=!0),m(),h.duals["data-checked"]="1",h.fireTrigger(),b&&b()},this);o.instantShow("warning: can not locate popup window ("+j+").")}return void(b&&b())}if(f&&(h.state.recheckable=!1,setTimeout(function(){h.state.recheckable=!0},300)),this.state.isolated){var p=!1;return!this.state["data-checked"]&&(p=!0)||c||f?(e=!0,p&&(this.duals["data-checked"]="1"),void this.reRender(n)):void n()}if(g=this.findNavOwner()){var q=this.$gui.keyid;if((q!=g.getChecked()||c||f)&&(!g.canNavigateTo||g.canNavigateTo(q)))return(c||f)&&(e=!0),this.state["data-checked"]||(e=!0,this.duals["data-checked"]="1"),void g.setChecked(q,n)}n()}},{key:"$$onClick",value:function(b){b.stopPropagation(),this.setChecked(),this.$onClick&&this.$onClick(b)}}]),b}($b);n.OptSpan_=kd,n.OptSpan=new kd;var ld=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptA",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="a",c}},{key:"$$onClick",value:function(c){m.__design__&&c.preventDefault(),d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"$$onClick",this).call(this,c)}}]),b}(kd);n.OptA_=ld,n.OptA=new ld;var md=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptImg",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="img",c}}]),b}(kd);n.OptImg_=md,n.OptImg=new md;var nd=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptButton",c))}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="button",c}}]),b}(kd);n.OptButton_=nd,n.OptButton=new nd;var od="button checkbox image radio reset submit",pd=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptInput",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.type=[e+1,"string",["radio","checkbox","button","image"]],f.value=[e+2,"string"],f.src=[e+3,"string"],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="input",c.type="radio",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this),e=this.$gui,f=e.tagAttrs.indexOf("checked");return f>=0&&e.tagAttrs.splice(f,1),c}},{key:"componentDidMount",value:function(){d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentDidMount",this).call(this);var c=l.findDOMNode(this);if(c){var e=this;c._syncChecked=function(){var a=e.state["data-checked"]?"1":"",b=c.checked?"1":"";a!=b&&(e.duals["data-checked"]=b)}}this.state["data-checked"]&&setTimeout(function(){var a=jd(e);a&&!a.$gui.inFiring&&e.setChecked(null)},0)}},{key:"doChange",value:function(b,c,d,e){function l(){k&&f.fireTrigger(),c&&c(g)}var f=this,g=b,h=f.state.popOption;if(h&&e&&(h=this.state.popOption=Object.assign({},h,e)),h&&"string"==typeof h.path){if(!h.opened&&!f.state.isolated){var i=h.path;i||(i="./"+f.$gui.keyid);var j=f.componentOf(i);if(j=j&&j.fullClone())return void o.popWin.showWindow(j,h,function(){f.dulas["data-checked"]="1",f.fireTrigger(),c&&c(g)},f);o.instantShow("warning: can not locate popup window ("+i+")")}return g&&(g=!1),void(c&&c(g))}var k=!1,m=f.state.recheckable;if(b&&m&&(f.state.recheckable=!1,setTimeout(function(){f.state.recheckable=!0},300)),f.state.isolated){var n=b?"1":"",p=!1;return!f.state["data-checked"]!=!b&&(p=!0,f.duals["data-checked"]=n),b&&(p||d||m)&&(k=!0),l()}var q=f.findNavOwner();if(q){var r=f.$gui.keyid;if(b&&(q.getChecked()!=r||d||m)){if(!q.canNavigateTo||q.canNavigateTo(r))return f.duals["data-checked"]="1",void q.setChecked(r,function(){k=!0,l()});g=!1}}var n=g?"1":"";!f.state["data-checked"]!=!g?(f.duals["data-checked"]=n,setTimeout(function(){l()},0)):l()}},{key:"setChecked",value:function(b,c,d){var e=l.findDOMNode(this);if(e){var f=this;f.doChange(!0,function(a){e.checked!=a&&(e.checked=a);var c=f.state.name;if(c&&"radio"==f.props.type){var d=f.findNavOwner(),g=d&&l.findDOMNode(d);if(!g)return;for(var j,h=g.querySelectorAll('input[type="radio"]'),i=0;j=h[i];i++)j._syncChecked&&j.getAttribute("name")===c&&j._syncChecked()}b&&b()},c,d)}}},{key:"$$onChange",value:function(b){function d(a,b){var c=a.props.type;od.indexOf(c)>=0?a.doChange(b.checked,function(d){b.checked!=d&&(b.checked=d);var e=a.state.name;if(e&&"radio"==c){var f=a.findNavOwner(),g=f&&l.findDOMNode(f);if(!g)return;for(var j,h=g.querySelectorAll('input[type="radio"]'),i=0;j=h[i];i++)j._syncChecked&&j.getAttribute("name")===e&&j._syncChecked()}},!1):a.setState({value:b.value})}var c=l.findDOMNode(this);c&&(d(this,c),this.$onChange&&this.$onChange(b))}}]),b}(kd);n.OptInput_=pd,n.OptInput=new pd;var qd=function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptOption",c))}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.value=[e+1,"string"],f.label=[e+2,"string"],f.selected=[e+3,"string",["","selected"]],f.disabled=[e+4,"string",["","disabled"]],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="option",c}}]),b}(kd);n.OptOption_=qd,n.OptOption=new qd;var vd=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptDiv",c));return d._slientProp.push("isOption."),d}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return rd(f,e)}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="div",c["data-checked"]="",c["isOption."]=!0,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return sd(this),c}},{key:"componentDidMount",value:function(){d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentDidMount",this).call(this),td(this)}},{key:"findNavOwner",value:function(){return jd(this)}},{key:"fireTrigger",value:function(){id(this)}},{key:"setChecked",value:function(b,c,d){ud(this,b,c,d)}},{key:"$$onClick",value:function(b){b.stopPropagation(),this.setChecked(),this.$onClick&&this.$onClick(b)}}]),b}(Xa);n.OptDiv_=vd,n.OptDiv=new vd;var wd=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"OptLi",c));return d._slientProp.push("isOption."),d}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return rd(f,e)}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["tagName."]="li",c["data-checked"]="",c["isOption."]=!0,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return sd(this),c}},{key:"componentDidMount",value:function(){d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentDidMount",this).call(this),td(this)}},{key:"findNavOwner",value:function(){return jd(this)}},{key:"fireTrigger",value:function(){id(this)}},{key:"setChecked",value:function(b,c,d){ud(this,b,c,d)}},{key:"$$onClick",value:function(b){b.stopPropagation(),this.setChecked(),this.$onClick&&this.$onClick(b)}}]),b}(eb);n.OptLi_=wd,n.OptLi=new wd;var Bd=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"TempPanel",c));return d._slientProp.push("isTemplate.","data-temp.type"),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isTemplate."]=1,m.__design__?c["data-temp.type"]=1:(c.width=0,c.height=0),c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);if(zd(this.$gui),this.isLibGui=!1,this.props["hookTo."]===t&&(this.duals.style={position:"absolute"},(this.$gui.keyid+"").startsWith("$$")&&(this.isLibGui=!0)),m.__design__&&!this.isLibGui)this.duals.style={display:"none"},yd(this);else{var e=this.props.template;e instanceof Da?this.$gui.template=e:yd(this),this.$gui.compIndex={},this.$gui.comps=[]}return c}},{key:"elementOf",value:function(b){return Ad(this,b)}},{key:"render",value:function(){if(m.__design__&&!this.isLibGui)return d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this);if(ia(this),this.hideThis)return null;var c=Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}),e=P(this,c);return k.createElement("div",e)}}]),b}(Ra);n.TempPanel_=Bd,n.TempPanel=new Bd;var Cd=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"TempDiv",c));return d._slientProp.push("isTemplate.","data-temp.type"),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isTemplate."]=2,c["tagName."]="div",m.__design__?c["data-temp.type"]=2:(c.width=0,c.height=0),c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);if(zd(this.$gui),this.isLibGui=!1,this.props["hookTo."]===t&&(this.duals.style={position:"absolute"},(this.$gui.keyid+"").startsWith("$$")&&(this.isLibGui=!0)),m.__design__&&!this.isLibGui)this.duals.style={display:"none"},yd(this);else{var e=this.props.template;e instanceof Da?this.$gui.template=e:yd(this),this.$gui.compIndex={},this.$gui.comps=[]}return c}},{key:"elementOf",value:function(b){return Ad(this,b)}},{key:"render",value:function(){if(m.__design__&&!this.isLibGui)return d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this);if(ia(this),this.hideThis)return null;var c=Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}),e=P(this,c);return k.createElement("div",e)}}]),b}(Sa);n.TempDiv_=Cd,n.TempDiv=new Cd;var Dd=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"TempSpan",c));return d._slientProp.push("isTemplate.","data-temp.type"),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isTemplate."]=3,m.__design__&&(c["data-temp.type"]=3),c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);if(zd(this.$gui),this.isLibGui=!1,m.__design__)this.duals.style={display:"none"},yd(this);else{var e=this.props.template;e instanceof Da?this.$gui.template=e:yd(this),this.$gui.compIndex={},this.$gui.comps=[]}return c}},{key:"elementOf",value:function(b){return Ad(this,b)}},{key:"render",value:function(){if(m.__design__)return d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this);if(ia(this),this.hideThis)return k.createElement("span",Zb);var c=Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}),e=P(this,c);return k.createElement("span",e)}}]),b}($b);n.TempSpan_=Dd,n.TempSpan=new Dd;var Ed=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"RefDiv",c));return d._slientProp.push("isReference."),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c.width=0,c.height=0,c["isReference."]=1,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.props["hookTo."]===t&&o.instantShow("warning: can not add RefDiv to topmost widget."),c}},{key:"componentDidMount",value:function(){d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentDidMount",this).call(this);var c;if(!u&&(c=this.widget)){c=c.parent;var e=c&&c.component;e&&Ea(e,this.$gui.keyid+"",function(){})}}},{key:"render",value:function(){var b=H(this),c={style:{width:"0px",height:"0px"}};return b&&(c.className=b),k.createElement("div",c)}}]),b}(Sa);n.RefDiv_=Ed,n.RefDiv=new Ed;var Fd=r.RefDiv__=k.createClass(n.RefDiv._extend()),Gd=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"RefSpan",c));return d._slientProp.push("isReference."),d}return h(b,a),e(b,[{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isReference."]=2,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.props["hookTo."]===t&&o.instantShow("error: can not hook RefSpan to topmost widget."),c}},{key:"componentDidMount",value:function(){d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentDidMount",this).call(this);var c;if(!u&&(c=this.widget)){c=c.parent;var e=c&&c.component;e&&Ea(e,this.$gui.keyid+"",function(){})}}},{key:"render",value:function(){var b=H(this),c={style:{width:"0px",height:"0px"}};return b&&(c.className=b),k.createElement("span",c)}}]),b}($b);n.RefSpan_=Gd,n.RefSpan=new Gd;var Hd=r.RefSpan__=k.createClass(n.RefSpan._extend()),Id=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"ScenePage",c));return d._slientProp.push("isScenePage."),d}return h(b,a),e(b,[{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200),g="[number]: 0~1 for percent, 0.9999 for 100%, N pixels",h=f.width,i=f.height;return h&&(h[1]="number",h[3]=g),i&&(i[1]="number",i[3]=g),f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["isScenePage."]=1,c.className="rewgt-panel rewgt-scene",c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);this.props["hookTo."]!==t&&o.instantShow("error: ScenePage only hook to topmost widget.");var e={position:"absolute",display:"none"};this.props.zIndex||(e.zIndex="0"),this.duals.style=e;var f=this.props.width,g=this.props.height;return"number"==typeof f&&f>0||console.log("warning: invalid width of ScenePage ("+this.$gui.keyid+")"),"number"==typeof g&&g>0||console.log("warning: invalid height of ScenePage ("+this.$gui.keyid+")"),m.__design__&&(this.$gui.currSelected=""),c}},{key:"setSelected",value:function(b){function e(a,b){var d=c&&c[a];if(d=d&&d.component){var e=parseInt(d.state.style.zIndex)||0;b?e>=-999&&e<=999&&d.setState({style:Object.assign({},d.state.style,{zIndex:e+2e3})}):e>=1001&&e<=2999&&d.setState({style:Object.assign({},d.state.style,{zIndex:e-2e3})})}}if(m.__design__){var c=this.widget,d=this.$gui;if(d.currSelected){if(b==d.currSelected)return;e(d.currSelected,!1),d.currSelected=""}b&&(e(b,!0),d.currSelected=b)}}},{key:"render",value:function(){if(ia(this),this.hideThis)return null;var b=this.prepareState(),c=k.createElement("div",{className:"rewgt-center"},b),d=P(this);return k.createElement("article",d,c)}}]),b}(Ra);n.ScenePage_=Id,n.ScenePage=new Id;var Kd=(k.createClass(n.ScenePage._extend()),function(a){function b(a,c){return i(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"MaskPanel",c))}return h(b,a),e(b,[{key:"getInitialState",value:function(){function e(a,b,c){return a<1&&(a=a>=.9999?b:a>0?b*a:c),a}function f(a,b,c){return"number"!=typeof a?a=(b-c)/2:a<1&&(a=b*a),a<0&&(a=0),a}var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.defineDual("popOption"),this.defineDual("id__",function(a,b){if(1===b){var g,c=null,d=null,h=!0,i=this.$gui,j=this.props.popOption;if(j){if(g=j.frame,g?(d=this.props.popFrame,d&&frame.props?h=!1:d=null):g={},this.props.children){var l=k.Children.toArray(this.props.children);c=l[0]}i.compIdx={},i.comps=[]}var m=this.widget;if(c&&m&&s){var n=s.frameInfo,o=window.innerWidth,p=window.innerHeight;this.state.left=0,this.state.top=0,this.state.width=o-n.leftWd-n.rightWd,this.state.height=p-n.topHi-n.bottomHi,this.state.style={position:"absolute",zIndex:"auto",backgroundColor:j.maskColor||"rgba(238,238,238,0.84)"};var q=this.state.width,r=this.state.height;if(d){var t=e(g.width||.9,q,60),u=e(g.height||.9,r,60),v=f(g.left,q,t),w=f(g.top,r,u),x=Object.assign({},d.props.style,{position:"absolute",zIndex:"auto"}),y={"hookTo.":m,"keyid.":"",key:"",style:x,left:v,top:w,width:t,height:u};i.compIdx[0]=0,i.comps.push(k.cloneElement(d,y))}var z=e(j.width||.8,q,40),A=e(j.height||.8,r,40),B=f(j.left,q,z),C=f(j.top,r,A);if(h&&B>0&&C>0&&B+z<q&&C+A<r){var D=B-1,E=C-1;d=k.createElement("div",{key:"0",style:{position:"absolute",zIndex:"auto",left:D+"px",top:E+"px",width:z+"px",height:A+"px",border:"1px solid #e0e0e0",boxShadow:"-2px 8px 4px rgba(0,0,0,0.1)"}}),i.compIdx[0]=0,i.comps.push(d)}var F="",G=M(c);if(G){var H=parseInt(G);F=H+""===G?H:G}var I=Object.assign({},c.props.style,{backgroundColor:"#fff",position:"absolute",zIndex:"auto"});j.bodyStyle&&Object.assign(I,j.bodyStyle);var J={"hookTo.":m,"keyid.":F,key:G,style:I,left:B,top:C,width:z,height:A},K=k.cloneElement(c,J);i.compIdx[G]=i.comps.length,i.winComp=i.comps.push(K)-1,j.opened=!0}}}),c}},{key:"componentDidMount",value:function(){function k(a){a.stopPropagation()}d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentDidMount",this).call(this);var c=l.findDOMNode(this);if(c){var e=this.$gui.winComp,f="number"==typeof e?this.$gui.comps[e]:null;if(m.__design__||!f)c.onclick=k;else{var g=M(f),h=this.widget&&g&&this.widget[g];h=h&&h.component;var i=h&&l.findDOMNode(h);i&&(i.onclick=k);var j=this.state.popOption;j=j&&j.manualClose,c.onclick=function(a){a.stopPropagation(),j||setTimeout(function(){o.popWin.popWindow()},0)}}c.ondblclick=k,c.onmousedown=k,c.onmousemove=k,c.onmouseup=k,
c.onkeypress=k,c.onkeydown=k,c.onkeyup=k,c.ondragover=k,c.ondrop=k}}},{key:"componentWillUnmount",value:function(){var c=this.state.popOption;c&&c.opened&&(c.opened=!1),d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"componentWillUnmount",this).call(this)}}]),b}(Ra)),Ld=k.createClass((new Kd)._extend()),Nd=function(a){function b(a,c){i(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a||"MarkedDiv",c));return d._statedProp.push("mark"),d._slientProp.push("hasStatic.","noSaveChild."),d}return h(b,a),e(b,[{key:"_getGroupOpt",value:function(b){var c={type:"mono",editable:"none",baseUrl:"/app/files/rewgt/web",tools:[]},d=b.widget;if(!d||!b.isHooked)return c;var e=d.getPath();return c.tools=[{name:"editor",icon:"res/edit_txt.png",title:"edit markdown",url:"edit_markdown.html",halfScreen:!0,noMove:!1,clickable:!0,width:.98,height:.9,get:function(c){var d=b.state.mark||b.props.mark||"";return[unescape(d),e]},set:function(c,d,f){if(f){var g=d[0],h=d[1];b===c&&h==e&&"string"==typeof g&&Md(c,g,function(a){a&&c.setState({mark:escape(g)},function(){La(c),m.__design__&&s&&s.notifyBackup&&s.notifyBackup(h)})})}}}],c}},{key:"_getSchema",value:function(c,e){e=e||1200;var f=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_getSchema",this).call(this,c,e+200);return f.mark=[e+1,"string"],f}},{key:"getDefaultProps",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getDefaultProps",this).call(this);return c["hasStatic."]=!0,c["noSaveChild."]=!0,c}},{key:"getInitialState",value:function(){var c=d(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getInitialState",this).call(this);return this.undefineDual("html."),this.defineDual("mark",function(a,b){if(this.widget&&"string"==typeof a){var c=this;Md(this,unescape(a),function(b){b&&c.setState({mark:a},function(){La(c)})})}},""),c}},{key:"willResizing",value:function(b,c,d){return va(this,d),!0}}]),b}(Xa);n.MarkedDiv_=Nd,n.MarkedDiv=new Nd,b.exports=n},{"./react_widget":2,react:void 0,"react-dom":void 0}],4:[function(a,b,c){function g(a){if(e===setTimeout)return setTimeout(a,0);try{return e(a,0)}catch(b){try{return e.call(null,a,0)}catch(b){return e.call(this,a,0)}}}function h(a){if(f===clearTimeout)return clearTimeout(a);try{return f(a)}catch(b){try{return f.call(null,a)}catch(b){return f.call(this,a)}}}function m(){j&&k&&(j=!1,k.length?i=k.concat(i):l=-1,i.length&&n())}function n(){if(!j){var a=g(m);j=!0;for(var b=i.length;b;){for(k=i,i=[];++l<b;)k&&k[l].run();l=-1,b=i.length}k=null,j=!1,h(a)}}function o(a,b){this.fun=a,this.array=b}function p(){}var e,f,d=b.exports={};!function(){try{e=setTimeout}catch(a){e=function(){throw new Error("setTimeout is not defined")}}try{f=clearTimeout}catch(a){f=function(){throw new Error("clearTimeout is not defined")}}}();var k,i=[],j=!1,l=-1;d.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new o(a,b)),1!==i.length||j||g(n)},o.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=p,d.addListener=p,d.once=p,d.off=p,d.removeListener=p,d.removeAllListeners=p,d.emit=p,d.binding=function(a){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(a){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}]},{},[1]);